

<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Parcels documentation &#8212; Parcels 2.3.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bizstyle.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />

    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-96368922-1', 'auto');
  ga('send', 'pageview');
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Parcels 2.3.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Parcels documentation</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="parcels-documentation">
<h1>Parcels documentation<a class="headerlink" href="#parcels-documentation" title="Permalink to this headline">¶</a></h1>
<p>Welcome to the documentation of parcels. This page provides detailed documentation for each method, class and function.
The documentation corresponds to the latest conda release, for newer documentation see the docstrings in the code.</p>
<p>See <a class="reference external" href="http://www.oceanparcels.org">http://www.oceanparcels.org</a> for general information on the Parcels project, including how to install and use.</p>
<section id="module-parcels.particleset.particlesetsoa">
<span id="parcels-particleset-module"></span><h2>parcels.particleset module<a class="headerlink" href="#module-parcels.particleset.particlesetsoa" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.particleset.particlesetsoa.</span></span><span class="sig-name descname"><span class="pre">ParticleSetSOA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">fieldset=None</span></em>, <em class="sig-param"><span class="pre">pclass=&lt;class</span> <span class="pre">'parcels.particle.JITParticle'&gt;</span></em>, <em class="sig-param"><span class="pre">lon=None</span></em>, <em class="sig-param"><span class="pre">lat=None</span></em>, <em class="sig-param"><span class="pre">depth=None</span></em>, <em class="sig-param"><span class="pre">time=None</span></em>, <em class="sig-param"><span class="pre">repeatdt=None</span></em>, <em class="sig-param"><span class="pre">lonlatdepth_dtype=None</span></em>, <em class="sig-param"><span class="pre">pid_orig=None</span></em>, <em class="sig-param"><span class="pre">interaction_distance=None</span></em>, <em class="sig-param"><span class="pre">**kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetsoa.html#ParticleSetSOA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.particleset.baseparticleset.BaseParticleSet" title="parcels.particleset.baseparticleset.BaseParticleSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particleset.baseparticleset.BaseParticleSet</span></code></a></p>
<p>Container class for storing particle and executing kernel over them.</p>
<p>Please note that this currently only supports fixed size particle sets, meaning that the particle set only
holds the particles defined on construction. Individual particles can neither be added nor deleted individually,
and individual particles can only be deleted as a set procedually (i.e. by ‘particle.delete()’-call during
kernel execution).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object from which to sample velocity.
While fieldset=None is supported, this will throw a warning as it breaks most Parcels functionality</p></li>
<li><p><strong>pclass</strong> – Optional <a class="reference internal" href="#parcels.particle.JITParticle" title="parcels.particle.JITParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.JITParticle</span></code></a> or
<a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a> object that defines custom particle</p></li>
<li><p><strong>lon</strong> – List of initial longitude values for particles</p></li>
<li><p><strong>lat</strong> – List of initial latitude values for particles</p></li>
<li><p><strong>depth</strong> – Optional list of initial depth values for particles. Default is 0m</p></li>
<li><p><strong>time</strong> – Optional list of initial time values for particles. Default is fieldset.U.grid.time[0]</p></li>
<li><p><strong>repeatdt</strong> – Optional interval (in seconds) on which to repeat the release of the ParticleSet</p></li>
<li><p><strong>lonlatdepth_dtype</strong> – Floating precision for lon, lat, depth particle coordinates.
It is either np.float32 or np.float64. Default is np.float32 if fieldset.U.interp_method is ‘linear’
and np.float64 if the interpolation method is ‘cgrid_velocity’</p></li>
<li><p><strong>pid_orig</strong> – Optional list of (offsets for) the particle IDs</p></li>
<li><p><strong>partitions</strong> – List of cores on which to distribute the particles for MPI runs. Default: None, in which case particles
are distributed automatically on the processors</p></li>
</ul>
</dd>
</dl>
<p>Other Variables can be initialised using further arguments (e.g. v=… for a Variable named ‘v’)</p>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.Kernel">
<span class="sig-name descname"><span class="pre">Kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pyfunc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_cfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetsoa.html#ParticleSetSOA.Kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.Kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper method to convert a <cite>pyfunc</cite> into a <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.kernel.Kernel</span></code> object
based on <cite>fieldset</cite> and <cite>ptype</cite> of the ParticleSet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>delete_cfiles</strong> – Boolean whether to delete the C-files after compilation in JIT mode (default is True)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.ParticleFile">
<span class="sig-name descname"><span class="pre">ParticleFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetsoa.html#ParticleSetSOA.ParticleFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.ParticleFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper method to initialise a <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particlefile.ParticleFile</span></code>
object from the ParticleSet</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetsoa.html#ParticleSetSOA.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add particles to the ParticleSet. Note that this is an
incremental add, the particles will be added to the ParticleSet
on which this function is called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>particles</strong> – Another ParticleSet containing particles to add to this one.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The current ParticleSet</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.cstruct">
<span class="sig-name descname"><span class="pre">cstruct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetsoa.html#ParticleSetSOA.cstruct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.cstruct" title="Permalink to this definition">¶</a></dt>
<dd><p>‘cstruct’ returns the ctypes mapping of the combined collections cstruct and the fieldset cstruct.
This depends on the specific structure in question.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.data_indices">
<span class="sig-name descname"><span class="pre">data_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compare_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetsoa.html#ParticleSetSOA.data_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.data_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the indices of all particles where the value of
<cite>variable_name</cite> equals (one of) <cite>compare_values</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variable_name</strong> – Name of the variable to check.</p></li>
<li><p><strong>compare_values</strong> – Value or list of values to compare to.</p></li>
<li><p><strong>invert</strong> – Whether to invert the selection. I.e., when True,
return all indices that do not equal (one of)
<cite>compare_values</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Numpy array of indices that satisfy the test.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.density">
<span class="sig-name descname"><span class="pre">density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetsoa.html#ParticleSetSOA.density"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to calculate the density of particles in a ParticleSet from their locations,
through a 2D histogram.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>field</strong> – Optional <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object to calculate the histogram
on. Default is <cite>fieldset.U</cite></p></li>
<li><p><strong>particle_val</strong> – Optional numpy-array of values to weigh each particle with,
or string name of particle variable to use weigh particles with.
Default is None, resulting in a value of 1 for each particle</p></li>
<li><p><strong>relative</strong> – Boolean to control whether the density is scaled by the total
weight of all particles. Default is False</p></li>
<li><p><strong>area_scale</strong> – Boolean to control whether the density is scaled by the area
(in m^2) of each grid cell. Default is False</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.error_particles">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">error_particles</span></span><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.error_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an iterator over all particles that are in an error state.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Collection iterator over error particles.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.from_particlefile">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_particlefile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pclass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restarttime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeatdt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lonlatdepth_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetsoa.html#ParticleSetSOA.from_particlefile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.from_particlefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the ParticleSet from a netcdf ParticleFile.
This creates a new ParticleSet based on locations of all particles written
in a netcdf ParticleFile at a certain time. Particle IDs are preserved if restart=True</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object from which to sample velocity</p></li>
<li><p><strong>pclass</strong> – mod:<cite>parcels.particle.JITParticle</cite> or <a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a>
object that defines custom particle</p></li>
<li><p><strong>filename</strong> – Name of the particlefile from which to read initial conditions</p></li>
<li><p><strong>restart</strong> – Boolean to signal if pset is used for a restart (default is True).
In that case, Particle IDs are preserved.</p></li>
<li><p><strong>restarttime</strong> – time at which the Particles will be restarted. Default is the last time written.
Alternatively, restarttime could be a time value (including np.datetime64) or
a callable function such as np.nanmin. The last is useful when running with dt &lt; 0.</p></li>
<li><p><strong>repeatdt</strong> – Optional interval (in seconds) on which to repeat the release of the ParticleSet</p></li>
<li><p><strong>lonlatdepth_dtype</strong> – Floating precision for lon, lat, depth particle coordinates.
It is either np.float32 or np.float64. Default is np.float32 if fieldset.U.interp_method is ‘linear’
and np.float64 if the interpolation method is ‘cgrid_velocity’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.monte_carlo_sample">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">monte_carlo_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monte_carlo'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetsoa.html#ParticleSetSOA.monte_carlo_sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.monte_carlo_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a starting field into a monte-carlo sample of lons and lats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>start_field</strong> – <code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.Field</span></code> object for initialising particles stochastically (horizontally)  according to the presented density field.</p>
</dd>
</dl>
<p>returns list(lon), list(lat)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.num_error_particles">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">num_error_particles</span></span><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.num_error_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of particles that are in an error state.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of error particles.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.populate_indices">
<span class="sig-name descname"><span class="pre">populate_indices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetsoa.html#ParticleSetSOA.populate_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.populate_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre-populate guesses of particle xi/yi indices using a kdtree.</p>
<p>This is only intended for curvilinear grids, where the initial index search
may be quite expensive.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.remove_booleanvector">
<span class="sig-name descname"><span class="pre">remove_booleanvector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetsoa.html#ParticleSetSOA.remove_booleanvector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.remove_booleanvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to remove particles from the ParticleSet, based on an array of booleans</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.remove_indices">
<span class="sig-name descname"><span class="pre">remove_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetsoa.html#ParticleSetSOA.remove_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.remove_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to remove particles from the ParticleSet, based on their <cite>indices</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.set_variable_write_status">
<span class="sig-name descname"><span class="pre">set_variable_write_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_status</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetsoa.html#ParticleSetSOA.set_variable_write_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.set_variable_write_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to set the write status of a Variable
:param var: Name of the variable (string)
:param write_status: Write status of the variable (True, False or ‘once’)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetsoa.ParticleSetSOA.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deleted_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetsoa.html#ParticleSetSOA.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetsoa.ParticleSetSOA.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert all Particle data from one time step to a python dictionary.
:param pfile: ParticleFile object requesting the conversion
:param time: Time at which to write ParticleSet
:param deleted_only: Flag to write only the deleted Particles
returns two dictionaries: one for all variables to be written each outputdt, and one for all variables to be written once</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-parcels.fieldset">
<span id="parcels-fieldset-module"></span><h2>parcels.fieldset module<a class="headerlink" href="#module-parcels.fieldset" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.fieldset.</span></span><span class="sig-name descname"><span class="pre">FieldSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">V</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>FieldSet class that holds hydrodynamic data needed to execute particles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>U</strong> – <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object for zonal velocity component</p></li>
<li><p><strong>V</strong> – <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object for meridional velocity component</p></li>
<li><p><strong>fields</strong> – Dictionary of additional <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> objects</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.add_constant">
<span class="sig-name descname"><span class="pre">add_constant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.add_constant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.add_constant" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a constant to the FieldSet. Note that all constants are
stored as 32-bit floats. While constants can be updated during
execution in SciPy mode, they can not be updated in JIT mode.</p>
<p>Tutorials using fieldset.add_constant:
<a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_analyticaladvection.ipynb">Analytical advection</a>
<a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_diffusion.ipynb">Diffusion</a>
<a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_periodic_boundaries.ipynb">Periodic boundaries</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the constant</p></li>
<li><p><strong>value</strong> – Value of the constant (stored as 32-bit float)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.add_constant_field">
<span class="sig-name descname"><span class="pre">add_constant_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'flat'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.add_constant_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.add_constant_field" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Wrapper function to add a Field that is constant in space,</dt><dd><p>useful e.g. when using constant horizontal diffusivity</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object to be added</p></li>
<li><p><strong>value</strong> – Value of the constant field (stored as 32-bit float)</p></li>
<li><p><strong>units</strong> – Optional UnitConverter object, to convert units
(e.g. for Horizontal diffusivity from m2/s to degree2/s)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.add_field">
<span class="sig-name descname"><span class="pre">add_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.add_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.add_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object to the FieldSet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>field</strong> – <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object to be added</p></li>
<li><p><strong>name</strong> – Name of the <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object to be added</p></li>
</ul>
</dd>
</dl>
<p>For usage examples see the following tutorials:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_NestedFields.ipynb">Nested Fields</a></p></li>
<li><p><a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb">Unit converters</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.add_periodic_halo">
<span class="sig-name descname"><span class="pre">add_periodic_halo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zonal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meridional</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">halosize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.add_periodic_halo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.add_periodic_halo" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a ‘halo’ to all <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> objects in a FieldSet,
through extending the Field (and lon/lat) by copying a small portion
of the field on one side of the domain to the other.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zonal</strong> – Create a halo in zonal direction (boolean)</p></li>
<li><p><strong>meridional</strong> – Create a halo in meridional direction (boolean)</p></li>
<li><p><strong>halosize</strong> – size of the halo (in grid points). Default is 5 grid points</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.add_vector_field">
<span class="sig-name descname"><span class="pre">add_vector_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vfield</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.add_vector_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.add_vector_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a <a class="reference internal" href="#parcels.field.VectorField" title="parcels.field.VectorField"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.VectorField</span></code></a> object to the FieldSet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>vfield</strong> – <a class="reference internal" href="#parcels.field.VectorField" title="parcels.field.VectorField"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.VectorField</span></code></a> object to be added</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.advancetime">
<span class="sig-name descname"><span class="pre">advancetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fieldset_new</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.advancetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.advancetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace oldest time on FieldSet with new FieldSet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fieldset_new</strong> – FieldSet snapshot with which the oldest time has to be replaced</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.computeTimeChunk">
<span class="sig-name descname"><span class="pre">computeTimeChunk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.computeTimeChunk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.computeTimeChunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a chunk of three data time steps into the FieldSet.
This is used when FieldSet uses data imported from netcdf,
with default option deferred_load. The loaded time steps are at or immediatly before time
and the two time steps immediately following time if dt is positive (and inversely for negative dt)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> – Time around which the FieldSet chunks are to be loaded. Time is provided as a double, relatively to Fieldset.time_origin</p></li>
<li><p><strong>dt</strong> – time step of the integration scheme</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.from_b_grid_dataset">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_b_grid_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimensions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'spherical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_time_extrapolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_periodic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracer_interp_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bgrid_tracer'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_b_grid_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_b_grid_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises FieldSet object from NetCDF files of Bgrid fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filenames</strong> – Dictionary mapping variables to file(s). The
filepath may contain wildcards to indicate multiple files,
or be a list of file.
filenames can be a list [files], a dictionary {var:[files]},
a dictionary {dim:[files]} (if lon, lat, depth and/or data not stored in same files as data),
or a dictionary of dictionaries {var:{dim:[files]}}
time values are in filenames[data]</p></li>
<li><p><strong>variables</strong> – Dictionary mapping variables to variable
names in the netCDF file(s).</p></li>
<li><p><strong>dimensions</strong> – <p>Dictionary mapping data dimensions (lon,
lat, depth, time, data) to dimensions in the netCF file(s).
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable.
U and V velocity nodes are not located as W velocity and T tracer nodes (see <a class="reference external" href="http://www.cesm.ucar.edu/models/cesm1.0/pop2/doc/sci/POPRefManual.pdf">http://www.cesm.ucar.edu/models/cesm1.0/pop2/doc/sci/POPRefManual.pdf</a> ).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>U[k,j+1,i],V[k,j+1,i]</p></td>
<td></td>
<td><p>U[k,j+1,i+1],V[k,j+1,i+1]</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>W[k:k+2,j+1,i+1],T[k,j+1,i+1]</p></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>U[k,j,i],V[k,j,i]</p></td>
<td rowspan="2"></td>
<td rowspan="2"><p>U[k,j,i+1],V[k,j,i+1]</p></td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<dl class="simple">
<dt>In 2D: U and V nodes are on the cell vertices and interpolated bilinearly as a A-grid.</dt><dd><p>T node is at the cell centre and interpolated constant per cell as a C-grid.</p>
</dd>
<dt>In 3D: U and V nodes are at the midlle of the cell vertical edges,</dt><dd><p>They are interpolated bilinearly (independently of z) in the cell.
W nodes are at the centre of the horizontal interfaces.
They are interpolated linearly (as a function of z) in the cell.
T node is at the cell centre, and constant per cell.</p>
</dd>
</dl>
</p></li>
<li><p><strong>indices</strong> – Optional dictionary of indices for each dimension
to read from file(s), to allow for reading of subset of data.
Default is to read the full extent of each dimension.
Note that negative indices are not allowed.</p></li>
<li><p><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic simple">
<li><p>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat: No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
<li><p><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</p></li>
<li><p><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</p></li>
<li><p><strong>tracer_interp_method</strong> – Method for interpolation of tracer fields. It is recommended to use ‘bgrid_tracer’ (default)
Note that in the case of from_pop() and from_bgrid(), the velocity fields are default to ‘bgrid_velocity’</p></li>
<li><p><strong>chunksize</strong> – size of the chunks in dask loading</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.from_c_grid_dataset">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_c_grid_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimensions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'spherical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_time_extrapolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_periodic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracer_interp_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cgrid_tracer'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gridindexingtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nemo'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_c_grid_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_c_grid_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises FieldSet object from NetCDF files of Curvilinear NEMO fields.</p>
<p>See <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/documentation_indexing.ipynb">here</a>
for a more detailed explanation of the different methods that can be used for c-grid datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filenames</strong> – Dictionary mapping variables to file(s). The
filepath may contain wildcards to indicate multiple files,
or be a list of file.
filenames can be a list [files], a dictionary {var:[files]},
a dictionary {dim:[files]} (if lon, lat, depth and/or data not stored in same files as data),
or a dictionary of dictionaries {var:{dim:[files]}}
time values are in filenames[data]</p></li>
<li><p><strong>variables</strong> – Dictionary mapping variables to variable
names in the netCDF file(s).</p></li>
<li><p><strong>dimensions</strong> – <p>Dictionary mapping data dimensions (lon,
lat, depth, time, data) to dimensions in the netCF file(s).
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable.
Watch out: NEMO is discretised on a C-grid:
U and V velocities are not located on the same nodes (see <a class="reference external" href="https://www.nemo-ocean.eu/doc/node19.html">https://www.nemo-ocean.eu/doc/node19.html</a> ).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td></td>
<td><p>V[k,j+1,i+1]</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>U[k,j+1,i]</p></td>
<td><p>W[k:k+2,j+1,i+1],T[k,j+1,i+1]</p></td>
<td><p>U[k,j+1,i+1]</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"></td>
<td rowspan="2"><p>V[k,j,i+1]</p></td>
<td rowspan="2"></td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<p>To interpolate U, V velocities on the C-grid, Parcels needs to read the f-nodes,
which are located on the corners of the cells.
(for indexing details: <a class="reference external" href="https://www.nemo-ocean.eu/doc/img360.png">https://www.nemo-ocean.eu/doc/img360.png</a> )
In 3D, the depth is the one corresponding to W nodes.</p>
</p></li>
<li><p><strong>indices</strong> – Optional dictionary of indices for each dimension
to read from file(s), to allow for reading of subset of data.
Default is to read the full extent of each dimension.
Note that negative indices are not allowed.</p></li>
<li><p><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic simple">
<li><p>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat: No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
<li><p><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</p></li>
<li><p><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</p></li>
<li><p><strong>tracer_interp_method</strong> – Method for interpolation of tracer fields. It is recommended to use ‘cgrid_tracer’ (default)
Note that in the case of from_nemo() and from_cgrid(), the velocity fields are default to ‘cgrid_velocity’</p></li>
<li><p><strong>gridindexingtype</strong> – The type of gridindexing. Set to ‘nemo’ in FieldSet.from_nemo()
See also the Grid indexing documentation on oceanparcels.org</p></li>
<li><p><strong>chunksize</strong> – size of the chunks in dask loading</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.from_data">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimensions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transpose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'spherical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_time_extrapolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_periodic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise FieldSet object from raw data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – <p>Dictionary mapping field names to numpy arrays.
Note that at least a ‘U’ and ‘V’ numpy array need to be given, and that
the built-in Advection kernels assume that U and V are in m/s</p>
<ol class="arabic simple">
<li><p>If data shape is [xdim, ydim], [xdim, ydim, zdim], [xdim, ydim, tdim] or [xdim, ydim, zdim, tdim],
whichever is relevant for the dataset, use the flag transpose=True</p></li>
<li><p>If data shape is [ydim, xdim], [zdim, ydim, xdim], [tdim, ydim, xdim] or [tdim, zdim, ydim, xdim],
use the flag transpose=False (default value)</p></li>
<li><p>If data has any other shape, you first need to reorder it</p></li>
</ol>
</p></li>
<li><p><strong>dimensions</strong> – Dictionary mapping field dimensions (lon,
lat, depth, time) to numpy arrays.
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable
(e.g. dimensions[‘U’], dimensions[‘V’], etc).</p></li>
<li><p><strong>transpose</strong> – Boolean whether to transpose data on read-in</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation, see also <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb">this tutorial</a>:</p>
<ol class="arabic simple">
<li><p>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat: No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
<li><p><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</p></li>
<li><p><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</p></li>
</ul>
</dd>
</dl>
<ul class="simple">
<li><p><a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_analyticaladvection.ipynb">Analytical advection</a></p></li>
<li><p><a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_diffusion.ipynb">Diffusion</a></p></li>
<li><p><a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_interpolation.ipynb">Interpolation</a></p></li>
<li><p><a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb">Unit converters</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.from_mitgcm">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_mitgcm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimensions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'spherical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_time_extrapolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_periodic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracer_interp_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cgrid_tracer'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_mitgcm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_mitgcm" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises FieldSet object from NetCDF files of MITgcm fields.
All parameters and keywords are exactly the same as for FieldSet.from_nemo(), except that
gridindexing is set to ‘mitgcm’ for grids that have the shape</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td></td>
<td><p>V[k,j+1,i]</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>U[k,j,i]</p></td>
<td><p>W[k-1:k,j,i], T[k,j,i]</p></td>
<td><p>U[k,j,i+1]</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"></td>
<td rowspan="2"><p>V[k,j,i]</p></td>
<td rowspan="2"></td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<p>For indexing details: <a class="reference external" href="https://mitgcm.readthedocs.io/en/latest/algorithm/algorithm.html#spatial-discretization-of-the-dynamical-equations">https://mitgcm.readthedocs.io/en/latest/algorithm/algorithm.html#spatial-discretization-of-the-dynamical-equations</a>
Note that vertical velocity (W) is assumed postive in the positive z direction (which is upward in MITgcm)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.from_mom5">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_mom5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimensions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'spherical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_time_extrapolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_periodic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracer_interp_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bgrid_tracer'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_mom5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_mom5" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises FieldSet object from NetCDF files of MOM5 fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filenames</strong> – Dictionary mapping variables to file(s). The
filepath may contain wildcards to indicate multiple files,
or be a list of file.
filenames can be a list [files], a dictionary {var:[files]},
a dictionary {dim:[files]} (if lon, lat, depth and/or data not stored in same files as data),
or a dictionary of dictionaries {var:{dim:[files]}}
time values are in filenames[data]</p></li>
<li><p><strong>variables</strong> – Dictionary mapping variables to variable names in the netCDF file(s).
Note that the built-in Advection kernels assume that U and V are in m/s</p></li>
<li><p><strong>dimensions</strong> – <p>Dictionary mapping data dimensions (lon,
lat, depth, time, data) to dimensions in the netCF file(s).
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>U[k,j+1,i],V[k,j+1,i]</p></td>
<td></td>
<td><p>U[k,j+1,i+1],V[k,j+1,i+1]</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>W[k-1:k+1,j+1,i+1],T[k,j+1,i+1]</p></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>U[k,j,i],V[k,j,i]</p></td>
<td rowspan="2"></td>
<td rowspan="2"><p>U[k,j,i+1],V[k,j,i+1]</p></td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<dl class="simple">
<dt>In 2D: U and V nodes are on the cell vertices and interpolated bilinearly as a A-grid.</dt><dd><p>T node is at the cell centre and interpolated constant per cell as a C-grid.</p>
</dd>
<dt>In 3D: U and V nodes are at the midlle of the cell vertical edges,</dt><dd><p>They are interpolated bilinearly (independently of z) in the cell.
W nodes are at the centre of the horizontal interfaces, but below the U and V.
They are interpolated linearly (as a function of z) in the cell.
Note that W is normally directed upward in MOM5, but Parcels requires W
in the positive z-direction (downward) so W is multiplied by -1.
T node is at the cell centre, and constant per cell.</p>
</dd>
</dl>
</p></li>
<li><p><strong>indices</strong> – Optional dictionary of indices for each dimension
to read from file(s), to allow for reading of subset of data.
Default is to read the full extent of each dimension.
Note that negative indices are not allowed.</p></li>
<li><p><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation, see also <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb">https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb</a>:</p>
<ol class="arabic simple">
<li><p>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat: No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
<li><p><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</p></li>
<li><p><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</p></li>
<li><p><strong>tracer_interp_method</strong> – Method for interpolation of tracer fields. It is recommended to use ‘bgrid_tracer’ (default)
Note that in the case of from_mom5() and from_bgrid(), the velocity fields are default to ‘bgrid_velocity’</p></li>
<li><p><strong>chunksize</strong> – size of the chunks in dask loading</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.from_nemo">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_nemo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimensions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'spherical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_time_extrapolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_periodic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracer_interp_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cgrid_tracer'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_nemo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_nemo" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises FieldSet object from NetCDF files of Curvilinear NEMO fields.</p>
<p>See <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_nemo_curvilinear.ipynb">here</a>
for a detailed tutorial on the setup for 2D NEMO fields and <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_nemo_3D.ipynb">here</a>
for the tutorial on the setup for 3D NEMO fields.</p>
<p>See <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/documentation_indexing.ipynb">here</a>
for a more detailed explanation of the different methods that can be used for c-grid datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filenames</strong> – Dictionary mapping variables to file(s). The
filepath may contain wildcards to indicate multiple files,
or be a list of file.
filenames can be a list [files], a dictionary {var:[files]},
a dictionary {dim:[files]} (if lon, lat, depth and/or data not stored in same files as data),
or a dictionary of dictionaries {var:{dim:[files]}}
time values are in filenames[data]</p></li>
<li><p><strong>variables</strong> – Dictionary mapping variables to variable names in the netCDF file(s).
Note that the built-in Advection kernels assume that U and V are in m/s</p></li>
<li><p><strong>dimensions</strong> – <p>Dictionary mapping data dimensions (lon,
lat, depth, time, data) to dimensions in the netCF file(s).
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable.
Watch out: NEMO is discretised on a C-grid:
U and V velocities are not located on the same nodes (see <a class="reference external" href="https://www.nemo-ocean.eu/doc/node19.html">https://www.nemo-ocean.eu/doc/node19.html</a> ).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td></td>
<td><p>V[k,j+1,i+1]</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>U[k,j+1,i]</p></td>
<td><p>W[k:k+2,j+1,i+1],T[k,j+1,i+1]</p></td>
<td><p>U[k,j+1,i+1]</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"></td>
<td rowspan="2"><p>V[k,j,i+1]</p></td>
<td rowspan="2"></td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<p>To interpolate U, V velocities on the C-grid, Parcels needs to read the f-nodes,
which are located on the corners of the cells.
(for indexing details: <a class="reference external" href="https://www.nemo-ocean.eu/doc/img360.png">https://www.nemo-ocean.eu/doc/img360.png</a> )
In 3D, the depth is the one corresponding to W nodes
The gridindexingtype is set to ‘nemo’. See also the Grid indexing documentation on oceanparcels.org</p>
</p></li>
<li><p><strong>indices</strong> – Optional dictionary of indices for each dimension
to read from file(s), to allow for reading of subset of data.
Default is to read the full extent of each dimension.
Note that negative indices are not allowed.</p></li>
<li><p><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation, see also <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb">this tutorial</a>:</p>
<ol class="arabic simple">
<li><p>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat: No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
<li><p><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</p></li>
<li><p><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</p></li>
<li><p><strong>tracer_interp_method</strong> – Method for interpolation of tracer fields. It is recommended to use ‘cgrid_tracer’ (default)
Note that in the case of from_nemo() and from_cgrid(), the velocity fields are default to ‘cgrid_velocity’</p></li>
<li><p><strong>chunksize</strong> – size of the chunks in dask loading. Default is None (no chunking)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.from_netcdf">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_netcdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimensions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'spherical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_time_extrapolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_periodic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferred_load</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_netcdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_netcdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises FieldSet object from NetCDF files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filenames</strong> – Dictionary mapping variables to file(s). The
filepath may contain wildcards to indicate multiple files
or be a list of file.
filenames can be a list [files], a dictionary {var:[files]},
a dictionary {dim:[files]} (if lon, lat, depth and/or data not stored in same files as data),
or a dictionary of dictionaries {var:{dim:[files]}}.
time values are in filenames[data]</p></li>
<li><p><strong>variables</strong> – Dictionary mapping variables to variable names in the netCDF file(s).
Note that the built-in Advection kernels assume that U and V are in m/s</p></li>
<li><p><strong>dimensions</strong> – Dictionary mapping data dimensions (lon,
lat, depth, time, data) to dimensions in the netCF file(s).
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable
(e.g. dimensions[‘U’], dimensions[‘V’], etc).</p></li>
<li><p><strong>indices</strong> – Optional dictionary of indices for each dimension
to read from file(s), to allow for reading of subset of data.
Default is to read the full extent of each dimension.
Note that negative indices are not allowed.</p></li>
<li><p><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation, see also <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb">this tuturial</a>:</p>
<ol class="arabic simple">
<li><p>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat: No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
<li><p><strong>timestamps</strong> – list of lists or array of arrays containing the timestamps for
each of the files in filenames. Outer list/array corresponds to files, inner
array corresponds to indices within files.
Default is None if dimensions includes time.</p></li>
<li><p><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</p></li>
<li><p><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</p></li>
<li><p><strong>deferred_load</strong> – boolean whether to only pre-load data (in deferred mode) or
fully load them (default: True). It is advised to deferred load the data, since in
that case Parcels deals with a better memory management during particle set execution.
deferred_load=False is however sometimes necessary for plotting the fields.</p></li>
<li><p><strong>interp_method</strong> – Method for interpolation. Options are ‘linear’ (default), ‘nearest’,
‘linear_invdist_land_tracer’, ‘cgrid_velocity’, ‘cgrid_tracer’ and ‘bgrid_velocity’</p></li>
<li><p><strong>gridindexingtype</strong> – The type of gridindexing. Either ‘nemo’ (default) or ‘mitgcm’ are supported.
See also the Grid indexing documentation on oceanparcels.org</p></li>
<li><p><strong>chunksize</strong> – size of the chunks in dask loading. Default is None (no chunking). Can be None or False (no chunking),
‘auto’ (chunking is done in the background, but results in one grid per field individually), or a dict in the format
‘{parcels_varname: {netcdf_dimname : (parcels_dimname, chunksize_as_int)}, …}’, where ‘parcels_dimname’ is one of (‘time’, ‘depth’, ‘lat’, ‘lon’)</p></li>
<li><p><strong>netcdf_engine</strong> – engine to use for netcdf reading in xarray. Default is ‘netcdf’,
but in cases where this doesn’t work, setting netcdf_engine=’scipy’ could help</p></li>
</ul>
</dd>
</dl>
<p>For usage examples see the following tutorials:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/parcels_tutorial.ipynb">Basic Parcels setup</a></p></li>
<li><p><a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_Argofloats.ipynb">Argo floats</a></p></li>
<li><p><a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_timestamps.ipynb">Timestamps</a></p></li>
<li><p><a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_timevaryingdepthdimensions.ipynb">Time-evolving depth dimensions</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.from_parcels">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_parcels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">basename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vozocrtx'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vomecrty'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_time_extrapolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_periodic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferred_load</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_parcels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_parcels" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises FieldSet data from NetCDF files using the Parcels FieldSet.write() conventions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>basename</strong> – Base name of the file(s); may contain
wildcards to indicate multiple files.</p></li>
<li><p><strong>indices</strong> – Optional dictionary of indices for each dimension
to read from file(s), to allow for reading of subset of data.
Default is to read the full extent of each dimension.
Note that negative indices are not allowed.</p></li>
<li><p><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</p></li>
<li><p><strong>extra_fields</strong> – Extra fields to read beyond U and V</p></li>
<li><p><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</p></li>
<li><p><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</p></li>
<li><p><strong>deferred_load</strong> – boolean whether to only pre-load data (in deferred mode) or
fully load them (default: True). It is advised to deferred load the data, since in
that case Parcels deals with a better memory management during particle set execution.
deferred_load=False is however sometimes necessary for plotting the fields.</p></li>
<li><p><strong>chunksize</strong> – size of the chunks in dask loading</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.from_pop">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimensions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'spherical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_time_extrapolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_periodic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracer_interp_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bgrid_tracer'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'m'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_pop" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Initialises FieldSet object from NetCDF files of POP fields.</dt><dd><p>It is assumed that the velocities in the POP fields is in cm/s.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filenames</strong> – Dictionary mapping variables to file(s). The
filepath may contain wildcards to indicate multiple files,
or be a list of file.
filenames can be a list [files], a dictionary {var:[files]},
a dictionary {dim:[files]} (if lon, lat, depth and/or data not stored in same files as data),
or a dictionary of dictionaries {var:{dim:[files]}}
time values are in filenames[data]</p></li>
<li><p><strong>variables</strong> – Dictionary mapping variables to variable names in the netCDF file(s).
Note that the built-in Advection kernels assume that U and V are in m/s</p></li>
<li><p><strong>dimensions</strong> – <p>Dictionary mapping data dimensions (lon,
lat, depth, time, data) to dimensions in the netCF file(s).
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable.
Watch out: POP is discretised on a B-grid:
U and V velocity nodes are not located as W velocity and T tracer nodes (see <a class="reference external" href="http://www.cesm.ucar.edu/models/cesm1.0/pop2/doc/sci/POPRefManual.pdf">http://www.cesm.ucar.edu/models/cesm1.0/pop2/doc/sci/POPRefManual.pdf</a> ).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>U[k,j+1,i],V[k,j+1,i]</p></td>
<td></td>
<td><p>U[k,j+1,i+1],V[k,j+1,i+1]</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>W[k:k+2,j+1,i+1],T[k,j+1,i+1]</p></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>U[k,j,i],V[k,j,i]</p></td>
<td rowspan="2"></td>
<td rowspan="2"><p>U[k,j,i+1],V[k,j,i+1]</p></td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<dl class="simple">
<dt>In 2D: U and V nodes are on the cell vertices and interpolated bilinearly as a A-grid.</dt><dd><p>T node is at the cell centre and interpolated constant per cell as a C-grid.</p>
</dd>
<dt>In 3D: U and V nodes are at the middle of the cell vertical edges,</dt><dd><p>They are interpolated bilinearly (independently of z) in the cell.
W nodes are at the centre of the horizontal interfaces.
They are interpolated linearly (as a function of z) in the cell.
T node is at the cell centre, and constant per cell.
Note that Parcels assumes that the length of the depth dimension (at the W-points)
is one larger than the size of the velocity and tracer fields in the depth dimension.</p>
</dd>
</dl>
</p></li>
<li><p><strong>indices</strong> – Optional dictionary of indices for each dimension
to read from file(s), to allow for reading of subset of data.
Default is to read the full extent of each dimension.
Note that negative indices are not allowed.</p></li>
<li><p><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation, see also <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb">this tutorial</a>:</p>
<ol class="arabic simple">
<li><p>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat: No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
<li><p><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</p></li>
<li><p><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</p></li>
<li><p><strong>tracer_interp_method</strong> – Method for interpolation of tracer fields. It is recommended to use ‘bgrid_tracer’ (default)
Note that in the case of from_pop() and from_bgrid(), the velocity fields are default to ‘bgrid_velocity’</p></li>
<li><p><strong>chunksize</strong> – size of the chunks in dask loading</p></li>
<li><p><strong>depth_units</strong> – The units of the vertical dimension. Default in Parcels is ‘m’,
but many POP outputs are in ‘cm’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.from_xarray_dataset">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_xarray_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimensions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'spherical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_time_extrapolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_periodic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_xarray_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_xarray_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises FieldSet data from xarray Datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> – xarray Dataset.
Note that the built-in Advection kernels assume that U and V are in m/s</p></li>
<li><p><strong>variables</strong> – Dictionary mapping parcels variable names to data variables in the xarray Dataset.</p></li>
<li><p><strong>dimensions</strong> – Dictionary mapping data dimensions (lon,
lat, depth, time, data) to dimensions in the xarray Dataset.
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable
(e.g. dimensions[‘U’], dimensions[‘V’], etc).</p></li>
<li><p><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation, see also <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb">this tutorial</a>:</p>
<ol class="arabic simple">
<li><p>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat: No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
<li><p><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</p></li>
<li><p><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.get_fields">
<span class="sig-name descname"><span class="pre">get_fields</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.get_fields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.get_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all the <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> and <a class="reference internal" href="#parcels.field.VectorField" title="parcels.field.VectorField"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.VectorField</span></code></a>
objects associated with this FieldSet</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.fieldset.FieldSet.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write FieldSet to NetCDF file using NEMO convention</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> – Basename of the output fileset</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-parcels.field">
<span id="parcels-field-module"></span><h2>parcels.field module<a class="headerlink" href="#module-parcels.field" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.field.Field">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.field.</span></span><span class="sig-name descname"><span class="pre">Field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'flat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transpose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interp_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_time_extrapolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_periodic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gridindexingtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nemo'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_write</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.Field" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that encapsulates access to field data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the field</p></li>
<li><p><strong>data</strong> – <p>2D, 3D or 4D numpy array of field data.</p>
<ol class="arabic simple">
<li><p>If data shape is [xdim, ydim], [xdim, ydim, zdim], [xdim, ydim, tdim] or [xdim, ydim, zdim, tdim],
whichever is relevant for the dataset, use the flag transpose=True</p></li>
<li><p>If data shape is [ydim, xdim], [zdim, ydim, xdim], [tdim, ydim, xdim] or [tdim, zdim, ydim, xdim],
use the flag transpose=False</p></li>
<li><p>If data has any other shape, you first need to reorder it</p></li>
</ol>
</p></li>
<li><p><strong>lon</strong> – Longitude coordinates (numpy vector or array) of the field (only if grid is None)</p></li>
<li><p><strong>lat</strong> – Latitude coordinates (numpy vector or array) of the field (only if grid is None)</p></li>
<li><p><strong>depth</strong> – Depth coordinates (numpy vector or array) of the field (only if grid is None)</p></li>
<li><p><strong>time</strong> – Time coordinates (numpy vector) of the field (only if grid is None)</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation: (only if grid is None)</p>
<ol class="arabic simple">
<li><p>spherical: Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat (default): No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
<li><p><strong>timestamps</strong> – A numpy array containing the timestamps for each of the files in filenames, for loading
from netCDF files only. Default is None if the netCDF dimensions dictionary includes time.</p></li>
<li><p><strong>grid</strong> – <a class="reference internal" href="#parcels.grid.Grid" title="parcels.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.grid.Grid</span></code></a> object containing all the lon, lat depth, time
mesh and time_origin information. Can be constructed from any of the Grid objects</p></li>
<li><p><strong>fieldtype</strong> – Type of Field to be used for UnitConverter when using SummedFields
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</p></li>
<li><p><strong>transpose</strong> – Transpose data to required (lon, lat) layout</p></li>
<li><p><strong>vmin</strong> – Minimum allowed value on the field. Data below this value are set to zero</p></li>
<li><p><strong>vmax</strong> – Maximum allowed value on the field. Data above this value are set to zero</p></li>
<li><p><strong>time_origin</strong> – Time origin (TimeConverter object) of the time axis (only if grid is None)</p></li>
<li><p><strong>interp_method</strong> – Method for interpolation. Options are ‘linear’ (default), ‘nearest’,
‘linear_invdist_land_tracer’, ‘cgrid_velocity’, ‘cgrid_tracer’ and ‘bgrid_velocity’</p></li>
<li><p><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation in time
(i.e. beyond the last available time snapshot)</p></li>
<li><p><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object).
The last value of the time series can be provided (which is the same as the initial one) or not (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</p></li>
<li><p><strong>(</strong><strong>opt.</strong><strong>)</strong> (<em>chunkdims_name_map</em>) – gives a name map to the FieldFileBuffer that declared a mapping between chunksize name, NetCDF dimension and Parcels dimension;
required only if currently incompatible OCM field is loaded and chunking is used by ‘chunksize’ (which is the default)</p></li>
<li><p><strong>to_write</strong> – Write the Field in NetCDF format at the same frequency as the ParticleFile outputdt,
using a filenaming scheme based on the ParticleFile name</p></li>
</ul>
</dd>
</dl>
<p>For usage examples see the following tutorials:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_NestedFields.ipynb">Nested Fields</a></p></li>
<li><p><a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_SummedFields.ipynb">Summed Fields</a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.field.Field.add_periodic_halo">
<span class="sig-name descname"><span class="pre">add_periodic_halo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zonal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meridional</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">halosize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.add_periodic_halo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.Field.add_periodic_halo" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a ‘halo’ to all Fields in a FieldSet, through extending the Field (and lon/lat)
by copying a small portion of the field on one side of the domain to the other.
Before adding a periodic halo to the Field, it has to be added to the Grid on which the Field depends</p>
<p>See <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_periodic_boundaries.ipynb">this tutorial</a>
for a detailed explanation on how to set up periodic boundaries</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zonal</strong> – Create a halo in zonal direction (boolean)</p></li>
<li><p><strong>meridional</strong> – Create a halo in meridional direction (boolean)</p></li>
<li><p><strong>halosize</strong> – size of the halo (in grid points). Default is 5 grid points</p></li>
<li><p><strong>data</strong> – if data is not None, the periodic halo will be achieved on data instead of self.data and data will be returned</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.field.Field.calc_cell_edge_sizes">
<span class="sig-name descname"><span class="pre">calc_cell_edge_sizes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.calc_cell_edge_sizes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.Field.calc_cell_edge_sizes" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to calculate cell sizes based on numpy.gradient method
Currently only works for Rectilinear Grids</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.field.Field.cell_areas">
<span class="sig-name descname"><span class="pre">cell_areas</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.cell_areas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.Field.cell_areas" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to calculate cell sizes based on cell_edge_sizes
Currently only works for Rectilinear Grids</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="parcels.field.Field.ctypes_struct">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">ctypes_struct</span></span><a class="headerlink" href="#parcels.field.Field.ctypes_struct" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a ctypes struct object containing all relevant
pointers and sizes for this field.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.field.Field.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">applyConversion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.Field.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate field values in space and time.</p>
<p>We interpolate linearly in time and apply implicit unit
conversion to the result. Note that we defer to
scipy.interpolate to perform spatial interpolation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.field.Field.from_netcdf">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_netcdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimensions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'spherical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_time_extrapolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_periodic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferred_load</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.from_netcdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.Field.from_netcdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create field from netCDF file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filenames</strong> – list of filenames to read for the field. filenames can be a list [files] or
a dictionary {dim:[files]} (if lon, lat, depth and/or data not stored in same files as data)
In the latetr case, time values are in filenames[data]</p></li>
<li><p><strong>variable</strong> – Tuple mapping field name to variable name in the NetCDF file.</p></li>
<li><p><strong>dimensions</strong> – Dictionary mapping variable names for the relevant dimensions in the NetCDF file</p></li>
<li><p><strong>indices</strong> – dictionary mapping indices for each dimension to read from file.
This can be used for reading in only a subregion of the NetCDF file.
Note that negative indices are not allowed.</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic simple">
<li><p>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat: No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
<li><p><strong>timestamps</strong> – A numpy array of datetime64 objects containing the timestamps for each of the files in filenames.
Default is None if dimensions includes time.</p></li>
<li><p><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation in time
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</p></li>
<li><p><strong>time_periodic</strong> – boolean whether to loop periodically over the time component of the FieldSet
This flag overrides the allow_time_interpolation and sets it to False</p></li>
<li><p><strong>deferred_load</strong> – boolean whether to only pre-load data (in deferred mode) or
fully load them (default: True). It is advised to deferred load the data, since in
that case Parcels deals with a better memory management during particle set execution.
deferred_load=False is however sometimes necessary for plotting the fields.</p></li>
<li><p><strong>gridindexingtype</strong> – The type of gridindexing. Either ‘nemo’ (default) or ‘mitgcm’ are supported.
See also the Grid indexing documentation on oceanparcels.org</p></li>
<li><p><strong>chunksize</strong> – size of the chunks in dask loading</p></li>
</ul>
</dd>
</dl>
<p>For usage examples see the following tutorial:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_timestamps.ipynb">Timestamps</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.field.Field.from_xarray">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_xarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">da</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimensions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'spherical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_time_extrapolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_periodic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.from_xarray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.Field.from_xarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Create field from xarray Variable</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>da</strong> – Xarray DataArray</p></li>
<li><p><strong>name</strong> – Name of the Field</p></li>
<li><p><strong>dimensions</strong> – Dictionary mapping variable names for the relevant dimensions in the DataArray</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic simple">
<li><p>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat: No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
<li><p><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation in time
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</p></li>
<li><p><strong>time_periodic</strong> – boolean whether to loop periodically over the time component of the FieldSet
This flag overrides the allow_time_interpolation and sets it to False</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.field.Field.set_depth_from_field">
<span class="sig-name descname"><span class="pre">set_depth_from_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.set_depth_from_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.Field.set_depth_from_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the depth dimensions from another (time-varying) field</p>
<p>See <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_timevaryingdepthdimensions.ipynb">this tutorial</a>
for a detailed explanation on how to set up time-evolving depth dimensions</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.field.Field.set_scaling_factor">
<span class="sig-name descname"><span class="pre">set_scaling_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">factor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.set_scaling_factor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.Field.set_scaling_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales the field data by some constant factor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>factor</strong> – scaling factor</p>
</dd>
</dl>
<p>For usage examples see the following tutorial:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb">Unit converters</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.field.Field.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">animation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">land</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.show"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.Field.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to ‘show’ a Parcels Field</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>animation</strong> – Boolean whether result is a single plot, or an animation</p></li>
<li><p><strong>show_time</strong> – Time at which to show the Field (only in single-plot mode)</p></li>
<li><p><strong>domain</strong> – dictionary (with keys ‘N’, ‘S’, ‘E’, ‘W’) defining domain to show</p></li>
<li><p><strong>depth_level</strong> – depth level to be plotted (default 0)</p></li>
<li><p><strong>projection</strong> – type of cartopy projection to use (default PlateCarree)</p></li>
<li><p><strong>land</strong> – Boolean whether to show land. This is ignored for flat meshes</p></li>
<li><p><strong>vmin</strong> – minimum colour scale (only in single-plot mode)</p></li>
<li><p><strong>vmax</strong> – maximum colour scale (only in single-plot mode)</p></li>
<li><p><strong>savefile</strong> – Name of a file to save the plot to</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.field.Field.spatial_interpolation">
<span class="sig-name descname"><span class="pre">spatial_interpolation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ti</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.spatial_interpolation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.Field.spatial_interpolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate horizontal field values using a SciPy interpolator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.field.Field.temporal_interpolate_fullfield">
<span class="sig-name descname"><span class="pre">temporal_interpolate_fullfield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ti</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.temporal_interpolate_fullfield"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.Field.temporal_interpolate_fullfield" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the data of a field between two snapshots,
using linear interpolation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ti</strong> – Index in time array associated with time (via <a class="reference internal" href="#parcels.field.Field.time_index" title="parcels.field.Field.time_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">time_index()</span></code></a>)</p></li>
<li><p><strong>time</strong> – Time to interpolate to</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Linearly interpolated field</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.field.Field.time_index">
<span class="sig-name descname"><span class="pre">time_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.time_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.Field.time_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the index in the time array associated with a given time</p>
<p>Note that we normalize to either the first or the last index
if the sampled value is outside the time value range.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.field.Field.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.Field.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code></a> to a netcdf file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – Basename of the file</p></li>
<li><p><strong>varname</strong> – Name of the field, to be appended to the filename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.field.NestedField">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.field.</span></span><span class="sig-name descname"><span class="pre">NestedField</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">F</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">V</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">W</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#NestedField"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.NestedField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
<p>Class NestedField is a list of Fields from which the first one to be not declared out-of-boundaries
at particle position is interpolated. This induces that the order of the fields in the list matters.
Each one it its turn, a field is interpolated: if the interpolation succeeds or if an error other
than <cite>ErrorOutOfBounds</cite> is thrown, the function is stopped. Otherwise, next field is interpolated.
NestedField returns an <cite>ErrorOutOfBounds</cite> only if last field is as well out of boundaries.
NestedField is composed of either Fields or VectorFields.</p>
<p>See <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_NestedFields.ipynb">here</a>
for a detailed tutorial</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the NestedField</p></li>
<li><p><strong>F</strong> – List of fields (order matters). F can be a scalar Field, a VectorField, or the zonal component (U) of the VectorField</p></li>
<li><p><strong>V</strong> – List of fields defining the meridional component of a VectorField, if F is the zonal component. (default: None)</p></li>
<li><p><strong>W</strong> – List of fields defining the vertical component of a VectorField, if F and V are the zonal and meridional components (default: None)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.field.SummedField">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.field.</span></span><span class="sig-name descname"><span class="pre">SummedField</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">F</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">V</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">W</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#SummedField"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.SummedField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
<p>Class SummedField is a list of Fields over which Field interpolation
is summed. This can e.g. be used when combining multiple flow fields,
where the total flow is the sum of all the individual flows.
Note that the individual Fields can be on different Grids.
Also note that, since SummedFields are lists, the individual Fields can
still be queried through their list index (e.g. SummedField[1]).
SummedField is composed of either Fields or VectorFields.</p>
<p>See <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_SummedFields.ipynb">here</a>
for a detailed tutorial</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the SummedField</p></li>
<li><p><strong>F</strong> – List of fields. F can be a scalar Field, a VectorField, or the zonal component (U) of the VectorField</p></li>
<li><p><strong>V</strong> – List of fields defining the meridional component of a VectorField, if F is the zonal component. (default: None)</p></li>
<li><p><strong>W</strong> – List of fields defining the vertical component of a VectorField, if F and V are the zonal and meridional components (default: None)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.field.VectorField">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.field.</span></span><span class="sig-name descname"><span class="pre">VectorField</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">V</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">W</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#VectorField"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.VectorField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class VectorField stores 2 or 3 fields which defines together a vector field.
This enables to interpolate them as one single vector field in the kernels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the vector field</p></li>
<li><p><strong>U</strong> – field defining the zonal component</p></li>
<li><p><strong>V</strong> – field defining the meridional component</p></li>
<li><p><strong>W</strong> – field defining the vertical component (default: None)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.field.VectorField.spatial_c_grid_interpolation3D">
<span class="sig-name descname"><span class="pre">spatial_c_grid_interpolation3D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ti</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#VectorField.spatial_c_grid_interpolation3D"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.field.VectorField.spatial_c_grid_interpolation3D" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td></td>
<td><p>V1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>U0</p></td>
<td></td>
<td><p>U1</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>V0</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>The interpolation is done in the following by
interpolating linearly U depending on the longitude coordinate and
interpolating linearly V depending on the latitude coordinate.
Curvilinear grids are treated properly, since the element is projected to a rectilinear parent element.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-parcels.gridset">
<span id="parcels-gridset-module"></span><h2>parcels.gridset module<a class="headerlink" href="#module-parcels.gridset" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.gridset.GridSet">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.gridset.</span></span><span class="sig-name descname"><span class="pre">GridSet</span></span><a class="reference internal" href="_modules/parcels/gridset.html#GridSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.gridset.GridSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>GridSet class that holds the Grids on which the Fields are defined</p>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.gridset.GridSet.dimrange">
<span class="sig-name descname"><span class="pre">dimrange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dim</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/gridset.html#GridSet.dimrange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.gridset.GridSet.dimrange" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns maximum value of a dimension (lon, lat, depth or time)
on ‘left’ side and minimum value on ‘right’ side for all grids
in a gridset. Useful for finding e.g. longitude range that
overlaps on all grids in a gridset</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-parcels.grid">
<span id="parcels-grid-module"></span><h2>parcels.grid module<a class="headerlink" href="#module-parcels.grid" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.grid.CGrid">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.grid.</span></span><span class="sig-name descname"><span class="pre">CGrid</span></span><a class="reference internal" href="_modules/parcels/grid.html#CGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.grid.CGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_ctypes.Structure</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.grid.CurvilinearSGrid">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.grid.</span></span><span class="sig-name descname"><span class="pre">CurvilinearSGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'flat'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/grid.html#CurvilinearSGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.grid.CurvilinearSGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.grid.CurvilinearGrid</span></code></p>
<p>Curvilinear S Grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lon</strong> – 2D array containing the longitude coordinates of the grid</p></li>
<li><p><strong>lat</strong> – 2D array containing the latitude coordinates of the grid</p></li>
<li><p><strong>depth</strong> – 4D (time-evolving) or 3D (time-independent) array containing the vertical coordinates of the grid,
which are s-coordinates.
s-coordinates can be terrain-following (sigma) or iso-density (rho) layers,
or any generalised vertical discretisation.
The depth of each node depends then on the horizontal position (lon, lat),
the number of the layer and the time is depth is a 4D array.
depth array is either a 4D array[xdim][ydim][zdim][tdim] or a 3D array[xdim][ydim[zdim].</p></li>
<li><p><strong>time</strong> – Vector containing the time coordinates of the grid</p></li>
<li><p><strong>time_origin</strong> – Time origin (TimeConverter object) of the time axis</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic simple">
<li><p>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat: No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.grid.CurvilinearZGrid">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.grid.</span></span><span class="sig-name descname"><span class="pre">CurvilinearZGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'flat'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/grid.html#CurvilinearZGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.grid.CurvilinearZGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.grid.CurvilinearGrid</span></code></p>
<p>Curvilinear Z Grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lon</strong> – 2D array containing the longitude coordinates of the grid</p></li>
<li><p><strong>lat</strong> – 2D array containing the latitude coordinates of the grid</p></li>
<li><p><strong>depth</strong> – Vector containing the vertical coordinates of the grid, which are z-coordinates.
The depth of the different layers is thus constant.</p></li>
<li><p><strong>time</strong> – Vector containing the time coordinates of the grid</p></li>
<li><p><strong>time_origin</strong> – Time origin (TimeConverter object) of the time axis</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic simple">
<li><p>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat: No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.grid.Grid">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.grid.</span></span><span class="sig-name descname"><span class="pre">Grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_origin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/grid.html#Grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.grid.Grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Grid class that defines a (spatial and temporal) grid on which Fields are defined</p>
<dl class="py property">
<dt class="sig sig-object py" id="parcels.grid.Grid.child_ctypes_struct">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">child_ctypes_struct</span></span><a class="headerlink" href="#parcels.grid.Grid.child_ctypes_struct" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a ctypes struct object containing all relevant
pointers and sizes for this grid.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.grid.GridCode">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.grid.</span></span><span class="sig-name descname"><span class="pre">GridCode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/grid.html#GridCode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.grid.GridCode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.IntEnum</span></code></p>
<p>An enumeration.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.grid.RectilinearSGrid">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.grid.</span></span><span class="sig-name descname"><span class="pre">RectilinearSGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'flat'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/grid.html#RectilinearSGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.grid.RectilinearSGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.grid.RectilinearGrid</span></code></p>
<dl class="simple">
<dt>Rectilinear S Grid. Same horizontal discretisation as a rectilinear z grid,</dt><dd><p>but with s vertical coordinates</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lon</strong> – Vector containing the longitude coordinates of the grid</p></li>
<li><p><strong>lat</strong> – Vector containing the latitude coordinates of the grid</p></li>
<li><p><strong>depth</strong> – 4D (time-evolving) or 3D (time-independent) array containing the vertical coordinates of the grid,
which are s-coordinates.
s-coordinates can be terrain-following (sigma) or iso-density (rho) layers,
or any generalised vertical discretisation.
The depth of each node depends then on the horizontal position (lon, lat),
the number of the layer and the time is depth is a 4D array.
depth array is either a 4D array[xdim][ydim][zdim][tdim] or a 3D array[xdim][ydim[zdim].</p></li>
<li><p><strong>time</strong> – Vector containing the time coordinates of the grid</p></li>
<li><p><strong>time_origin</strong> – Time origin (TimeConverter object) of the time axis</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic simple">
<li><p>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat: No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.grid.RectilinearZGrid">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.grid.</span></span><span class="sig-name descname"><span class="pre">RectilinearZGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'flat'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/grid.html#RectilinearZGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.grid.RectilinearZGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.grid.RectilinearGrid</span></code></p>
<p>Rectilinear Z Grid</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lon</strong> – Vector containing the longitude coordinates of the grid</p></li>
<li><p><strong>lat</strong> – Vector containing the latitude coordinates of the grid</p></li>
<li><p><strong>depth</strong> – Vector containing the vertical coordinates of the grid, which are z-coordinates.
The depth of the different layers is thus constant.</p></li>
<li><p><strong>time</strong> – Vector containing the time coordinates of the grid</p></li>
<li><p><strong>time_origin</strong> – Time origin (TimeConverter object) of the time axis</p></li>
<li><p><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic simple">
<li><p>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</p></li>
<li><p>flat: No conversion, lat/lon are assumed to be in m.</p></li>
</ol>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-parcels.particle">
<span id="parcels-particle-module"></span><h2>parcels.particle module<a class="headerlink" href="#module-parcels.particle" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.particle.JITParticle">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.particle.</span></span><span class="sig-name descname"><span class="pre">JITParticle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particle.html#JITParticle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particle.JITParticle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a></p>
<p>Particle class for JIT-based (Just-In-Time) Particle objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lon</strong> – Initial longitude of particle</p></li>
<li><p><strong>lat</strong> – Initial latitude of particle</p></li>
<li><p><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object to track this particle on</p></li>
<li><p><strong>dt</strong> – Execution timestep for this particle</p></li>
<li><p><strong>time</strong> – Current time of the particle</p></li>
</ul>
</dd>
</dl>
<p>Additional Variables can be added via the :Class Variable: objects</p>
<p>Users should use JITParticles for faster advection computation.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.particle.ScipyInteractionParticle">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.particle.</span></span><span class="sig-name descname"><span class="pre">ScipyInteractionParticle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ngrids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cptr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particle.html#ScipyInteractionParticle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particle.ScipyInteractionParticle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.particle.ScipyParticle">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.particle.</span></span><span class="sig-name descname"><span class="pre">ScipyParticle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ngrids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cptr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particle.html#ScipyParticle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particle.ScipyParticle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particle._Particle</span></code></p>
<p>Class encapsulating the basic attributes of a particle,
to be executed in SciPy mode</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lon</strong> – Initial longitude of particle</p></li>
<li><p><strong>lat</strong> – Initial latitude of particle</p></li>
<li><p><strong>depth</strong> – Initial depth of particle</p></li>
<li><p><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object to track this particle on</p></li>
<li><p><strong>time</strong> – Current time of the particle</p></li>
</ul>
</dd>
</dl>
<p>Additional Variables can be added via the :Class Variable: objects</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.particle.Variable">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.particle.</span></span><span class="sig-name descname"><span class="pre">Variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name</span></em>, <em class="sig-param"><span class="pre">dtype=&lt;class</span> <span class="pre">'numpy.float32'&gt;</span></em>, <em class="sig-param"><span class="pre">initial=0</span></em>, <em class="sig-param"><span class="pre">to_write=True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particle.html#Variable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particle.Variable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Descriptor class that delegates data access to particle data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Variable name as used within kernels</p></li>
<li><p><strong>dtype</strong> – Data type (numpy.dtype) of the variable</p></li>
<li><p><strong>initial</strong> – Initial value of the variable. Note that this can also be a Field object,
which will then be sampled at the location of the particle</p></li>
<li><p><strong>to_write</strong> (<em>(</em><em>bool</em><em>, </em><em>'once'</em><em>, </em><em>optional</em><em>)</em>) – Boolean or ‘once’. Controls whether Variable is written to NetCDF file.
If to_write = ‘once’, the variable will be written as a time-independent 1D array</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.particle.Variable.is64bit">
<span class="sig-name descname"><span class="pre">is64bit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particle.html#Variable.is64bit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particle.Variable.is64bit" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether variable is 64-bit</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-parcels.application_kernels.advection">
<span id="parcels-application-kernels-advection-module"></span><h2>parcels.application_kernels.advection module<a class="headerlink" href="#module-parcels.application_kernels.advection" title="Permalink to this headline">¶</a></h2>
<p>Collection of pre-built advection kernels</p>
<dl class="py function">
<dt class="sig sig-object py" id="parcels.application_kernels.advection.AdvectionAnalytical">
<span class="sig-prename descclassname"><span class="pre">parcels.application_kernels.advection.</span></span><span class="sig-name descname"><span class="pre">AdvectionAnalytical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/application_kernels/advection.html#AdvectionAnalytical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.application_kernels.advection.AdvectionAnalytical" title="Permalink to this definition">¶</a></dt>
<dd><p>Advection of particles using ‘analytical advection’ integration</p>
<p>Based on Ariane/TRACMASS algorithm, as detailed in e.g. Doos et al (<a class="reference external" href="https://doi.org/10.5194/gmd-10-1733-2017">https://doi.org/10.5194/gmd-10-1733-2017</a>).
Note that the time-dependent scheme is currently implemented with ‘intermediate timesteps’
(default 10 per model timestep) and not yet with the full analytical time integration</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.application_kernels.advection.AdvectionEE">
<span class="sig-prename descclassname"><span class="pre">parcels.application_kernels.advection.</span></span><span class="sig-name descname"><span class="pre">AdvectionEE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/application_kernels/advection.html#AdvectionEE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.application_kernels.advection.AdvectionEE" title="Permalink to this definition">¶</a></dt>
<dd><p>Advection of particles using Explicit Euler (aka Euler Forward) integration.</p>
<p>Function needs to be converted to Kernel object before execution</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.application_kernels.advection.AdvectionRK4">
<span class="sig-prename descclassname"><span class="pre">parcels.application_kernels.advection.</span></span><span class="sig-name descname"><span class="pre">AdvectionRK4</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/application_kernels/advection.html#AdvectionRK4"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.application_kernels.advection.AdvectionRK4" title="Permalink to this definition">¶</a></dt>
<dd><p>Advection of particles using fourth-order Runge-Kutta integration.</p>
<p>Function needs to be converted to Kernel object before execution</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.application_kernels.advection.AdvectionRK45">
<span class="sig-prename descclassname"><span class="pre">parcels.application_kernels.advection.</span></span><span class="sig-name descname"><span class="pre">AdvectionRK45</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/application_kernels/advection.html#AdvectionRK45"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.application_kernels.advection.AdvectionRK45" title="Permalink to this definition">¶</a></dt>
<dd><p>Advection of particles using adadptive Runge-Kutta 4/5 integration.</p>
<p>Times-step dt is halved if error is larger than tolerance, and doubled
if error is smaller than 1/10th of tolerance, with tolerance set to
1e-5 * dt by default.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.application_kernels.advection.AdvectionRK4_3D">
<span class="sig-prename descclassname"><span class="pre">parcels.application_kernels.advection.</span></span><span class="sig-name descname"><span class="pre">AdvectionRK4_3D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/application_kernels/advection.html#AdvectionRK4_3D"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.application_kernels.advection.AdvectionRK4_3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Advection of particles using fourth-order Runge-Kutta integration including vertical velocity.</p>
<p>Function needs to be converted to Kernel object before execution</p>
</dd></dl>

</section>
<section id="module-parcels.application_kernels.advectiondiffusion">
<span id="parcels-application-kernels-advectiondiffusion-module"></span><h2>parcels.application_kernels.advectiondiffusion module<a class="headerlink" href="#module-parcels.application_kernels.advectiondiffusion" title="Permalink to this headline">¶</a></h2>
<p>Collection of pre-built advection-diffusion kernels</p>
<p>See <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_diffusion.ipynb">this tutorial</a> for a detailed explanation</p>
<dl class="py function">
<dt class="sig sig-object py" id="parcels.application_kernels.advectiondiffusion.AdvectionDiffusionEM">
<span class="sig-prename descclassname"><span class="pre">parcels.application_kernels.advectiondiffusion.</span></span><span class="sig-name descname"><span class="pre">AdvectionDiffusionEM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/application_kernels/advectiondiffusion.html#AdvectionDiffusionEM"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.application_kernels.advectiondiffusion.AdvectionDiffusionEM" title="Permalink to this definition">¶</a></dt>
<dd><p>Kernel for 2D advection-diffusion, solved using the Euler-Maruyama
scheme (EM).</p>
<p>Assumes that fieldset has fields <cite>Kh_zonal</cite> and <cite>Kh_meridional</cite>
and variable <cite>fieldset.dres</cite>, setting the resolution for the central
difference gradient approximation. This should be (of the order of) the
local gridsize.</p>
<p>The Euler-Maruyama scheme is of strong order 0.5 and weak order 1.</p>
<p>The Wiener increment <cite>dW</cite> is normally distributed with zero
mean and a standard deviation of sqrt(dt).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.application_kernels.advectiondiffusion.AdvectionDiffusionM1">
<span class="sig-prename descclassname"><span class="pre">parcels.application_kernels.advectiondiffusion.</span></span><span class="sig-name descname"><span class="pre">AdvectionDiffusionM1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/application_kernels/advectiondiffusion.html#AdvectionDiffusionM1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.application_kernels.advectiondiffusion.AdvectionDiffusionM1" title="Permalink to this definition">¶</a></dt>
<dd><p>Kernel for 2D advection-diffusion, solved using the Milstein scheme
at first order (M1).</p>
<p>Assumes that fieldset has fields <cite>Kh_zonal</cite> and <cite>Kh_meridional</cite>
and variable <cite>fieldset.dres</cite>, setting the resolution for the central
difference gradient approximation. This should be (of the order of) the
local gridsize.</p>
<p>This Milstein scheme is of strong and weak order 1, which is higher than the
Euler-Maruyama scheme. It experiences less spurious diffusivity by
including extra correction terms that are computationally cheap.</p>
<p>The Wiener increment <cite>dW</cite> is normally distributed with zero
mean and a standard deviation of sqrt(dt).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.application_kernels.advectiondiffusion.DiffusionUniformKh">
<span class="sig-prename descclassname"><span class="pre">parcels.application_kernels.advectiondiffusion.</span></span><span class="sig-name descname"><span class="pre">DiffusionUniformKh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/application_kernels/advectiondiffusion.html#DiffusionUniformKh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.application_kernels.advectiondiffusion.DiffusionUniformKh" title="Permalink to this definition">¶</a></dt>
<dd><p>Kernel for simple 2D diffusion where diffusivity (Kh) is assumed uniform.</p>
<p>Assumes that fieldset has constant fields <cite>Kh_zonal</cite> and <cite>Kh_meridional</cite>.
These can be added via e.g.</p>
<blockquote>
<div><p>fieldset.add_constant_field(“Kh_zonal”, kh_zonal, mesh=mesh)</p>
<p>fieldset.add_constant_field(“Kh_meridional”, kh_meridional, mesh=mesh)</p>
</div></blockquote>
<p>where mesh is either ‘flat’ or ‘spherical’</p>
<p>This kernel assumes diffusivity gradients are zero and is therefore more efficient.
Since the perturbation due to diffusion is in this case isotropic independent, this
kernel contains no advection and can be used in combination with a seperate
advection kernel.</p>
<p>The Wiener increment <cite>dW</cite> is normally distributed with zero
mean and a standard deviation of sqrt(dt).</p>
</dd></dl>

</section>
<section id="module-parcels.application_kernels.EOSseawaterproperties">
<span id="parcels-application-kernels-eosseawaterproperties-module"></span><h2>parcels.application_kernels.EOSseawaterproperties module<a class="headerlink" href="#module-parcels.application_kernels.EOSseawaterproperties" title="Permalink to this headline">¶</a></h2>
<p>Collection of pre-built eos sea water property kernels</p>
<dl class="py function">
<dt class="sig sig-object py" id="parcels.application_kernels.EOSseawaterproperties.AdiabticTemperatureGradient">
<span class="sig-prename descclassname"><span class="pre">parcels.application_kernels.EOSseawaterproperties.</span></span><span class="sig-name descname"><span class="pre">AdiabticTemperatureGradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/application_kernels/EOSseawaterproperties.html#AdiabticTemperatureGradient"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.application_kernels.EOSseawaterproperties.AdiabticTemperatureGradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates adiabatic temperature gradient as per UNESCO 1983 routines.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particle.S</strong> (<em>array_like</em>) – salinity [psu (PSS-78)]</p></li>
<li><p><strong>particle.T</strong> (<em>array_like</em>) – temperature [℃ (ITS-90)]</p></li>
<li><p><strong>particle.pressure</strong> (<em>array_like</em>) – pressure [db]</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>adiabatic temperature gradient [℃ db <sup>-1</sup>]</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>array_like</p>
</dd>
</dl>
<dl class="footnote brackets">
<dt class="label" id="id18"><span class="brackets">1</span></dt>
<dd><p>Fofonoff, P. and Millard, R.C. Jr UNESCO 1983. Algorithms for
computation of fundamental properties of seawater. UNESCO Tech. Pap. in
Mar. Sci., No. 44, 53 pp.
<a class="reference external" href="http://unesdoc.unesco.org/images/0005/000598/059832eb.pdf">http://unesdoc.unesco.org/images/0005/000598/059832eb.pdf</a></p>
</dd>
<dt class="label" id="id19"><span class="brackets">2</span></dt>
<dd><p>Bryden, H. 1973. New Polynomials for thermal expansion, adiabatic
temperature gradient and potential temperature of sea water. Deep-Sea
Res. Vol20,401-408. doi:10.1016/0011-7471(73)90063-6</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.application_kernels.EOSseawaterproperties.PressureFromLatDepth">
<span class="sig-prename descclassname"><span class="pre">parcels.application_kernels.EOSseawaterproperties.</span></span><span class="sig-name descname"><span class="pre">PressureFromLatDepth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/application_kernels/EOSseawaterproperties.html#PressureFromLatDepth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.application_kernels.EOSseawaterproperties.PressureFromLatDepth" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates pressure in dbars from depth in meters and latitude.</p>
<dl class="simple">
<dt>p<span class="classifier">array_like</span></dt><dd><p>pressure [db]</p>
</dd>
</dl>
<dl class="footnote brackets">
<dt class="label" id="id20"><span class="brackets">1</span></dt>
<dd><p>Saunders, Peter M., 1981: Practical Conversion of Pressure to Depth.
J. Phys. Oceanogr., 11, 573-574.
doi: 10.1175/1520-0485(1981)011&lt;0573:PCOPTD&gt;2.0.CO;2</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.application_kernels.EOSseawaterproperties.PtempFromTemp">
<span class="sig-prename descclassname"><span class="pre">parcels.application_kernels.EOSseawaterproperties.</span></span><span class="sig-name descname"><span class="pre">PtempFromTemp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/application_kernels/EOSseawaterproperties.html#PtempFromTemp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.application_kernels.EOSseawaterproperties.PtempFromTemp" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates potential temperature as per UNESCO 1983 report.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particle.S</strong> (<em>array_like</em>) – salinity [psu (PSS-78)]</p></li>
<li><p><strong>particle.T</strong> (<em>array_like</em>) – temperature [℃ (ITS-90)]</p></li>
<li><p><strong>particle.pressure</strong> (<em>array_like</em>) – pressure [db]</p></li>
<li><p><strong>fieldset.refpressure</strong> (<em>array_like</em>) – reference pressure [db], default = 0</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>potential temperature relative to PR [℃ (ITS-90)]</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>array_like</p>
</dd>
</dl>
<dl class="footnote brackets">
<dt class="label" id="id21"><span class="brackets">1</span></dt>
<dd><p>Fofonoff, P. and Millard, R.C. Jr UNESCO 1983. Algorithms for
computation of fundamental properties of seawater. UNESCO Tech. Pap. in
Mar. Sci., No. 44, 53 pp.  Eqn.(31) p.39.
<a class="reference external" href="http://unesdoc.unesco.org/images/0005/000598/059832eb.pdf">http://unesdoc.unesco.org/images/0005/000598/059832eb.pdf</a></p>
</dd>
<dt class="label" id="id22"><span class="brackets">2</span></dt>
<dd><p>Bryden, H. 1973. New Polynomials for thermal expansion, adiabatic
temperature gradient and potential temperature of sea water. Deep-Sea
Res. Vol20,401-408. doi:10.1016/0011-7471(73)90063-6</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.application_kernels.EOSseawaterproperties.TempFromPtemp">
<span class="sig-prename descclassname"><span class="pre">parcels.application_kernels.EOSseawaterproperties.</span></span><span class="sig-name descname"><span class="pre">TempFromPtemp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/application_kernels/EOSseawaterproperties.html#TempFromPtemp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.application_kernels.EOSseawaterproperties.TempFromPtemp" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates temperature from potential temperature at the reference
pressure PR and in situ pressure P.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particle.S</strong> (<em>array_like</em>) – salinity [psu (PSS-78)]</p></li>
<li><p><strong>particle.T</strong> (<em>array_like</em>) – potential temperature [℃ (ITS-90)]</p></li>
<li><p><strong>particle.pressure</strong> (<em>array_like</em>) – pressure [db]</p></li>
<li><p><strong>fieldset.refpressure</strong> (<em>array_like</em>) – reference pressure [db], default = 0</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>temperature [℃ (ITS-90)]</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>array_like</p>
</dd>
</dl>
<dl class="footnote brackets">
<dt class="label" id="id23"><span class="brackets">1</span></dt>
<dd><p>Fofonoff, P. and Millard, R.C. Jr UNESCO 1983. Algorithms for
computation of fundamental properties of seawater. UNESCO Tech. Pap. in
Mar. Sci., No. 44, 53 pp.  Eqn.(31) p.39.
<a class="reference external" href="http://unesdoc.unesco.org/images/0005/000598/059832eb.pdf">http://unesdoc.unesco.org/images/0005/000598/059832eb.pdf</a></p>
</dd>
<dt class="label" id="id24"><span class="brackets">2</span></dt>
<dd><p>Bryden, H. 1973. New Polynomials for thermal expansion, adiabatic
temperature gradient and potential temperature of sea water. Deep-Sea
Res.  Vol20,401-408. doi:10.1016/0011-7471(73)90063-6</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-parcels.application_kernels.TEOSseawaterdensity">
<span id="parcels-application-kernels-teosseawaterdensity-module"></span><h2>parcels.application_kernels.TEOSseawaterdensity module<a class="headerlink" href="#module-parcels.application_kernels.TEOSseawaterdensity" title="Permalink to this headline">¶</a></h2>
<p>Collection of pre-built sea water density kernels</p>
<dl class="py function">
<dt class="sig sig-object py" id="parcels.application_kernels.TEOSseawaterdensity.PolyTEOS10_bsq">
<span class="sig-prename descclassname"><span class="pre">parcels.application_kernels.TEOSseawaterdensity.</span></span><span class="sig-name descname"><span class="pre">PolyTEOS10_bsq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/application_kernels/TEOSseawaterdensity.html#PolyTEOS10_bsq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.application_kernels.TEOSseawaterdensity.PolyTEOS10_bsq" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates density based on the polyTEOS10-bsq algorithm from Appendix A.2 of
<a class="reference external" href="https://www.sciencedirect.com/science/article/pii/S1463500315000566">https://www.sciencedirect.com/science/article/pii/S1463500315000566</a>
requires fieldset.abs_salinity and fieldset.cons_temperature Fields in the fieldset
and a particle.density Variable in the ParticleSet</p>
<p>References:
Roquet, F., Madec, G., McDougall, T. J., Barker, P. M., 2014: Accurate
polynomial expressions for the density and specific volume of
seawater using the TEOS-10 standard. Ocean Modelling.
McDougall, T. J., D. R. Jackett, D. G. Wright and R. Feistel, 2003:
Accurate and computationally efficient algorithms for potential
temperature and density of seawater.  Journal of Atmospheric and
Oceanic Technology, 20, 730-741.</p>
</dd></dl>

</section>
<section id="module-parcels.compilation">
<span id="parcels-compilation-module"></span><h2>parcels.compilation module<a class="headerlink" href="#module-parcels.compilation" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-parcels.interaction">
<span id="parcels-interaction-module"></span><h2>parcels.interaction module<a class="headerlink" href="#module-parcels.interaction" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.interaction.BaseInteractionKernel">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.interaction.</span></span><span class="sig-name descname"><span class="pre">BaseInteractionKernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ptype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pyfunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funccode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">py_ast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcvars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_cfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/baseinteractionkernel.html#BaseInteractionKernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.BaseInteractionKernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.kernel.basekernel.BaseKernel" title="parcels.kernel.basekernel.BaseKernel"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.kernel.basekernel.BaseKernel</span></code></a></p>
<p>Base super class for Interaction Kernel objects that encapsulates
auto-generated code.</p>
<p>InteractionKernels do not implement ways to catch or recover from
errors caused during execution of the kernel function(s).
It is strongly recommended not to sample from fields inside an
InteractionKernel.</p>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.interaction.BaseInteractionKernel.check_fieldsets_in_kernels">
<span class="sig-name descname"><span class="pre">check_fieldsets_in_kernels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pyfunc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/baseinteractionkernel.html#BaseInteractionKernel.check_fieldsets_in_kernels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.BaseInteractionKernel.check_fieldsets_in_kernels" title="Permalink to this definition">¶</a></dt>
<dd><p>function checks the integrity of the fieldset with the kernels.
This function is to be called from the derived class when setting up the ‘pyfunc’.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.interaction.BaseInteractionKernel.check_kernel_signature_on_version">
<span class="sig-name descname"><span class="pre">check_kernel_signature_on_version</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/baseinteractionkernel.html#BaseInteractionKernel.check_kernel_signature_on_version"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.BaseInteractionKernel.check_kernel_signature_on_version" title="Permalink to this definition">¶</a></dt>
<dd><p>returns numkernelargs
Adaptation of this method in the BaseKernel that works with
lists of functions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.interaction.BaseInteractionKernel.compile">
<span class="sig-name descname"><span class="pre">compile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">compiler</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/baseinteractionkernel.html#BaseInteractionKernel.compile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.BaseInteractionKernel.compile" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes kernel code to file and compiles it.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.interaction.BaseInteractionKernel.fix_indentation">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">fix_indentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/baseinteractionkernel.html#BaseInteractionKernel.fix_indentation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.BaseInteractionKernel.fix_indentation" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix indentation to allow in-lined kernel definitions</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.interaction.BaseInteractionKernel.get_kernel_compile_files">
<span class="sig-name descname"><span class="pre">get_kernel_compile_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/baseinteractionkernel.html#BaseInteractionKernel.get_kernel_compile_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.BaseInteractionKernel.get_kernel_compile_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the correct src_file, lib_file, log_file for this kernel</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.interaction.InteractionKernelSOA">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.interaction.</span></span><span class="sig-name descname"><span class="pre">InteractionKernelSOA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ptype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pyfunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funccode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">py_ast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcvars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_cfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/interactionkernelsoa.html#InteractionKernelSOA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.InteractionKernelSOA" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.interaction.BaseInteractionKernel" title="parcels.interaction.baseinteractionkernel.BaseInteractionKernel"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.interaction.baseinteractionkernel.BaseInteractionKernel</span></code></a></p>
<p>InteractionKernel object that encapsulates auto-generated code.</p>
<p>InteractionKernels do not implement ways to catch or recover from
errors caused during execution of the kernel function(s).
It is strongly recommended not to sample from fields inside an
InteractionKernel.</p>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.interaction.InteractionKernelSOA.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recovery</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execute_once</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/interactionkernelsoa.html#InteractionKernelSOA.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.InteractionKernelSOA.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute this Kernel over a ParticleSet for several timesteps</p>
<p>InteractionKernels do not implement ways to catch or recover from
errors caused during execution of the kernel function(s).
It is strongly recommended not to sample from fields inside an
InteractionKernel.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.interaction.InteractionKernelSOA.execute_python">
<span class="sig-name descname"><span class="pre">execute_python</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/interactionkernelsoa.html#InteractionKernelSOA.execute_python"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.InteractionKernelSOA.execute_python" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the core update loop via Python</p>
<p>InteractionKernels do not implement ways to catch or recover from
errors caused during execution of the kernel function(s).
It is strongly recommended not to sample from fields inside an
InteractionKernel.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-parcels.interaction.neighborsearch">
<span id="parcels-interaction-neighborsearch-module"></span><h2>parcels.interaction.neighborsearch module<a class="headerlink" href="#module-parcels.interaction.neighborsearch" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.interaction.neighborsearch.BruteFlatNeighborSearch">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.interaction.neighborsearch.</span></span><span class="sig-name descname"><span class="pre">BruteFlatNeighborSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inter_dist_vert</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inter_dist_horiz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/neighborsearch/bruteforce.html#BruteFlatNeighborSearch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.neighborsearch.BruteFlatNeighborSearch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.interaction.neighborsearch.base.BaseFlatNeighborSearch</span></code></p>
<p>Brute force implementation to find the neighbors.</p>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.interaction.neighborsearch.BruteFlatNeighborSearch.find_neighbors_by_coor">
<span class="sig-name descname"><span class="pre">find_neighbors_by_coor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/neighborsearch/bruteforce.html#BruteFlatNeighborSearch.find_neighbors_by_coor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.neighborsearch.BruteFlatNeighborSearch.find_neighbors_by_coor" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the neighbors around a certain location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>coor</strong> – Numpy array with [depth, lat, lon].</p>
</dd>
</dl>
<p>:returns List of particle indices.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.interaction.neighborsearch.BruteSphericalNeighborSearch">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.interaction.neighborsearch.</span></span><span class="sig-name descname"><span class="pre">BruteSphericalNeighborSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inter_dist_vert</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inter_dist_horiz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/neighborsearch/bruteforce.html#BruteSphericalNeighborSearch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.neighborsearch.BruteSphericalNeighborSearch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.interaction.neighborsearch.base.BaseSphericalNeighborSearch</span></code></p>
<p>Brute force implementation to find the neighbors.</p>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.interaction.neighborsearch.BruteSphericalNeighborSearch.find_neighbors_by_coor">
<span class="sig-name descname"><span class="pre">find_neighbors_by_coor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/neighborsearch/bruteforce.html#BruteSphericalNeighborSearch.find_neighbors_by_coor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.neighborsearch.BruteSphericalNeighborSearch.find_neighbors_by_coor" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the neighbors around a certain location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>coor</strong> – Numpy array with [depth, lat, lon].</p>
</dd>
</dl>
<p>:returns List of particle indices.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.interaction.neighborsearch.HashFlatNeighborSearch">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.interaction.neighborsearch.</span></span><span class="sig-name descname"><span class="pre">HashFlatNeighborSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inter_dist_vert</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inter_dist_horiz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/neighborsearch/hashflat.html#HashFlatNeighborSearch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.neighborsearch.HashFlatNeighborSearch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.interaction.neighborsearch.basehash.BaseHashNeighborSearch</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.interaction.neighborsearch.base.BaseFlatNeighborSearch</span></code></p>
<p>Neighbor search using a hashtable (similar to octtrees).</p>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.interaction.neighborsearch.HashFlatNeighborSearch.rebuild">
<span class="sig-name descname"><span class="pre">rebuild</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/neighborsearch/hashflat.html#HashFlatNeighborSearch.rebuild"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.neighborsearch.HashFlatNeighborSearch.rebuild" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebuild the neighbor structure from scratch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> – numpy array with coordinates of particles
(same as update).</p></li>
<li><p><strong>active_mask</strong> – boolean array indicating active particles.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.interaction.neighborsearch.HashFlatNeighborSearch.update_values">
<span class="sig-name descname"><span class="pre">update_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_active_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/neighborsearch/hashflat.html#HashFlatNeighborSearch.update_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.neighborsearch.HashFlatNeighborSearch.update_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the locations of (some) of the particles.</p>
<p>Particles that stay in the same location are computationally cheap.
The order and number of the particles is assumed to remain the same.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_values</strong> – new (depth, lat, lon) values for particles.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.interaction.neighborsearch.HashSphericalNeighborSearch">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.interaction.neighborsearch.</span></span><span class="sig-name descname"><span class="pre">HashSphericalNeighborSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inter_dist_vert</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inter_dist_horiz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/neighborsearch/hashspherical.html#HashSphericalNeighborSearch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.neighborsearch.HashSphericalNeighborSearch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.interaction.neighborsearch.basehash.BaseHashNeighborSearch</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.interaction.neighborsearch.base.BaseSphericalNeighborSearch</span></code></p>
<p>Neighbor search using a hashtable (similar to octtrees).</p>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.interaction.neighborsearch.HashSphericalNeighborSearch.rebuild">
<span class="sig-name descname"><span class="pre">rebuild</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/neighborsearch/hashspherical.html#HashSphericalNeighborSearch.rebuild"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.neighborsearch.HashSphericalNeighborSearch.rebuild" title="Permalink to this definition">¶</a></dt>
<dd><p>Recreate the tree with new values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>values</strong> – positions of the particles.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.interaction.neighborsearch.KDTreeFlatNeighborSearch">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.interaction.neighborsearch.</span></span><span class="sig-name descname"><span class="pre">KDTreeFlatNeighborSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inter_dist_vert</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inter_dist_horiz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/neighborsearch/kdtreeflat.html#KDTreeFlatNeighborSearch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.neighborsearch.KDTreeFlatNeighborSearch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.interaction.neighborsearch.base.BaseFlatNeighborSearch</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.interaction.neighborsearch.KDTreeFlatNeighborSearch.find_neighbors_by_coor">
<span class="sig-name descname"><span class="pre">find_neighbors_by_coor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/neighborsearch/kdtreeflat.html#KDTreeFlatNeighborSearch.find_neighbors_by_coor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.neighborsearch.KDTreeFlatNeighborSearch.find_neighbors_by_coor" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the neighbors around a certain location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>coor</strong> – Numpy array with [depth, lat, lon].</p>
</dd>
</dl>
<p>:returns List of particle indices.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.interaction.neighborsearch.KDTreeFlatNeighborSearch.rebuild">
<span class="sig-name descname"><span class="pre">rebuild</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/interaction/neighborsearch/kdtreeflat.html#KDTreeFlatNeighborSearch.rebuild"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.interaction.neighborsearch.KDTreeFlatNeighborSearch.rebuild" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebuild the neighbor structure from scratch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> – numpy array with coordinates of particles
(same as update).</p></li>
<li><p><strong>active_mask</strong> – boolean array indicating active particles.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-parcels.kernel.basekernel">
<span id="parcels-kernel-basekernel-module"></span><h2>parcels.kernel.basekernel module<a class="headerlink" href="#module-parcels.kernel.basekernel" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.kernel.basekernel.</span></span><span class="sig-name descname"><span class="pre">BaseKernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ptype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pyfunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funccode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">py_ast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcvars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_cfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Base super class for base Kernel objects that encapsulates auto-generated code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fieldset</strong> – FieldSet object providing the field information (possibly None)</p></li>
<li><p><strong>ptype</strong> – PType object for the kernel particle</p></li>
<li><p><strong>pyfunc</strong> – (aggregated) Kernel function</p></li>
<li><p><strong>funcname</strong> – function name</p></li>
<li><p><strong>delete_cfiles</strong> – Boolean whether to delete the C-files after compilation in JIT mode (default is True)</p></li>
</ul>
</dd>
</dl>
<p>Note: A Kernel is either created from a compiled &lt;function …&gt; object
or the necessary information (funcname, funccode, funcvars) is provided.
The py_ast argument may be derived from the code string, but for
concatenation, the merged AST plus the new header definition is required.</p>
<dl class="py property">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.c_include">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">c_include</span></span><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.c_include" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.check_fieldsets_in_kernels">
<span class="sig-name descname"><span class="pre">check_fieldsets_in_kernels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pyfunc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.check_fieldsets_in_kernels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.check_fieldsets_in_kernels" title="Permalink to this definition">¶</a></dt>
<dd><p>function checks the integrity of the fieldset with the kernels.
This function is to be called from the derived class when setting up the ‘pyfunc’.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.check_kernel_signature_on_version">
<span class="sig-name descname"><span class="pre">check_kernel_signature_on_version</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.check_kernel_signature_on_version"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.check_kernel_signature_on_version" title="Permalink to this definition">¶</a></dt>
<dd><p>returns numkernelargs</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.cleanup_remove_files">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">cleanup_remove_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lib_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_files_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_cfiles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.cleanup_remove_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.cleanup_remove_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.cleanup_unload_lib">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">cleanup_unload_lib</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lib</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.cleanup_unload_lib"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.cleanup_unload_lib" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.compile">
<span class="sig-name descname"><span class="pre">compile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">compiler</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.compile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.compile" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes kernel code to file and compiles it.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.evaluate_particle">
<span class="sig-name descname"><span class="pre">evaluate_particle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sign_dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.evaluate_particle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.evaluate_particle" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the kernel evaluation of for an individual particle.
:arg p: object of (sub-)type (ScipyParticle, JITParticle) or (sub-)type of BaseParticleAccessor
:arg fieldset: fieldset of the containing ParticleSet (e.g. pset.fieldset)
:arg analytical: flag indicating the analytical advector or an iterative advection
:arg endtime: endtime of this overall kernel evaluation step
:arg dt: computational integration timestep</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recovery</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execute_once</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.execute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.execute_jit">
<span class="sig-name descname"><span class="pre">execute_jit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.execute_jit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.execute_jit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.execute_python">
<span class="sig-name descname"><span class="pre">execute_python</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.execute_python"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.execute_python" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.fieldset">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">fieldset</span></span><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.fieldset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.fix_indentation">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">fix_indentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.fix_indentation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.fix_indentation" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix indentation to allow in-lined kernel definitions</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.funcname">
<span class="sig-name descname"><span class="pre">funcname</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.funcname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.get_kernel_compile_files">
<span class="sig-name descname"><span class="pre">get_kernel_compile_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.get_kernel_compile_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.get_kernel_compile_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the correct src_file, lib_file, log_file for this kernel</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.load_fieldset_jit">
<span class="sig-name descname"><span class="pre">load_fieldset_jit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.load_fieldset_jit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.load_fieldset_jit" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the loaded fields of pset’s fieldset according to the chunk information within their grids</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.load_lib">
<span class="sig-name descname"><span class="pre">load_lib</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.load_lib"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.load_lib" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kclass</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.merge" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.ptype">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">ptype</span></span><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.ptype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.pyfunc">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">pyfunc</span></span><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.pyfunc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.remove_deleted">
<span class="sig-name descname"><span class="pre">remove_deleted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.remove_deleted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.remove_deleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility to remove all particles that signalled deletion.</p>
<p>This version is generally applicable to all structures and collections</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.basekernel.BaseKernel.remove_lib">
<span class="sig-name descname"><span class="pre">remove_lib</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/basekernel.html#BaseKernel.remove_lib"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.basekernel.BaseKernel.remove_lib" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-parcels.kernel.kernelaos">
<span id="parcels-kernel-kernelaos-module"></span><h2>parcels.kernel.kernelaos module<a class="headerlink" href="#module-parcels.kernel.kernelaos" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.kernel.kernelaos.KernelAOS">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.kernel.kernelaos.</span></span><span class="sig-name descname"><span class="pre">KernelAOS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ptype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pyfunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funccode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">py_ast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcvars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_cfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/kernelaos.html#KernelAOS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.kernelaos.KernelAOS" title="Permalink to this definition">¶</a></dt>
<dd><p>Kernel object that encapsulates auto-generated code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fieldset</strong> – FieldSet object providing the field information</p></li>
<li><p><strong>ptype</strong> – PType object for the kernel particle</p></li>
<li><p><strong>delete_cfiles</strong> – Boolean whether to delete the C-files after compilation in JIT mode (default is True)</p></li>
</ul>
</dd>
</dl>
<p>Note: A Kernel is either created from a compiled &lt;function …&gt; object
or the necessary information (funcname, funccode, funcvars) is provided.
The py_ast argument may be derived from the code string, but for
concatenation, the merged AST plus the new header definition is required.</p>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.kernelaos.KernelAOS.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recovery</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execute_once</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/kernelaos.html#KernelAOS.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.kernelaos.KernelAOS.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute this Kernel over a ParticleSet for several timesteps</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.kernelaos.KernelAOS.execute_jit">
<span class="sig-name descname"><span class="pre">execute_jit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/kernelaos.html#KernelAOS.execute_jit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.kernelaos.KernelAOS.execute_jit" title="Permalink to this definition">¶</a></dt>
<dd><p>Invokes JIT engine to perform the core update loop</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.kernelaos.KernelAOS.execute_python">
<span class="sig-name descname"><span class="pre">execute_python</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/kernelaos.html#KernelAOS.execute_python"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.kernelaos.KernelAOS.execute_python" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the core update loop via Python</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.kernelaos.KernelAOS.remove_deleted">
<span class="sig-name descname"><span class="pre">remove_deleted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/kernelaos.html#KernelAOS.remove_deleted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.kernelaos.KernelAOS.remove_deleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility to remove all particles that signalled deletion</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-parcels.kernel.kernelsoa">
<span id="parcels-kernel-kernelsoa-module"></span><h2>parcels.kernel.kernelsoa module<a class="headerlink" href="#module-parcels.kernel.kernelsoa" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.kernel.kernelsoa.KernelSOA">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.kernel.kernelsoa.</span></span><span class="sig-name descname"><span class="pre">KernelSOA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ptype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pyfunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funccode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">py_ast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcvars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_cfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/kernelsoa.html#KernelSOA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.kernelsoa.KernelSOA" title="Permalink to this definition">¶</a></dt>
<dd><p>Kernel object that encapsulates auto-generated code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fieldset</strong> – FieldSet object providing the field information</p></li>
<li><p><strong>ptype</strong> – PType object for the kernel particle</p></li>
<li><p><strong>delete_cfiles</strong> – Boolean whether to delete the C-files after compilation in JIT mode (default is True)</p></li>
</ul>
</dd>
</dl>
<p>Note: A Kernel is either created from a compiled &lt;function …&gt; object
or the necessary information (funcname, funccode, funcvars) is provided.
The py_ast argument may be derived from the code string, but for
concatenation, the merged AST plus the new header definition is required.</p>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.kernelsoa.KernelSOA.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recovery</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execute_once</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/kernelsoa.html#KernelSOA.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.kernelsoa.KernelSOA.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute this Kernel over a ParticleSet for several timesteps</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.kernelsoa.KernelSOA.execute_jit">
<span class="sig-name descname"><span class="pre">execute_jit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/kernelsoa.html#KernelSOA.execute_jit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.kernelsoa.KernelSOA.execute_jit" title="Permalink to this definition">¶</a></dt>
<dd><p>Invokes JIT engine to perform the core update loop</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.kernelsoa.KernelSOA.execute_python">
<span class="sig-name descname"><span class="pre">execute_python</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/kernelsoa.html#KernelSOA.execute_python"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.kernelsoa.KernelSOA.execute_python" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the core update loop via Python</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.kernel.kernelsoa.KernelSOA.remove_deleted">
<span class="sig-name descname"><span class="pre">remove_deleted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel/kernelsoa.html#KernelSOA.remove_deleted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.kernel.kernelsoa.KernelSOA.remove_deleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility to remove all particles that signalled deletion</p>
<p>This deletion function is targetted to index-addressable, random-access array-collections.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-parcels.particlefile.baseparticlefile">
<span id="parcels-particlefile-baseparticlefile-module"></span><h2>parcels.particlefile.baseparticlefile module<a class="headerlink" href="#module-parcels.particlefile.baseparticlefile" title="Permalink to this headline">¶</a></h2>
<p>Module controlling the writing of ParticleSets to NetCDF file</p>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.particlefile.baseparticlefile.BaseParticleFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.particlefile.baseparticlefile.</span></span><span class="sig-name descname"><span class="pre">BaseParticleFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particleset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputdt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_ondelete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_at_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tempwritedir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pset_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/baseparticlefile.html#BaseParticleFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.baseparticlefile.BaseParticleFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Initialise trajectory output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Basename of the output file</p></li>
<li><p><strong>particleset</strong> – ParticleSet to output</p></li>
<li><p><strong>outputdt</strong> – Interval which dictates the update frequency of file output
while ParticleFile is given as an argument of ParticleSet.execute()
It is either a timedelta object or a positive double.</p></li>
<li><p><strong>write_ondelete</strong> – Boolean to write particle data only when they are deleted. Default is False</p></li>
<li><p><strong>convert_at_end</strong> – Boolean to convert npy files to netcdf at end of run. Default is True</p></li>
<li><p><strong>tempwritedir</strong> – directories to write temporary files to during executing.
Default is out-XXXXXX where Xs are random capitals. Files for individual
processors are written to subdirectories 0, 1, 2 etc under tempwritedir</p></li>
<li><p><strong>pset_info</strong> – dictionary of info on the ParticleSet, stored in tempwritedir/XX/pset_info.npy,
used to create NetCDF file from npy-files.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.baseparticlefile.BaseParticleFile.add_metadata">
<span class="sig-name descname"><span class="pre">add_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/baseparticlefile.html#BaseParticleFile.add_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.baseparticlefile.BaseParticleFile.add_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Add metadata to <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particleset.ParticleSet</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the metadata variabale</p></li>
<li><p><strong>message</strong> – message to be written</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.baseparticlefile.BaseParticleFile.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delete_tempfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/baseparticlefile.html#BaseParticleFile.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.baseparticlefile.BaseParticleFile.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the ParticleFile object by exporting and then deleting
the temporary npy files</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.baseparticlefile.BaseParticleFile.delete_tempwritedir">
<span class="sig-name descname"><span class="pre">delete_tempwritedir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tempwritedir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/baseparticlefile.html#BaseParticleFile.delete_tempwritedir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.baseparticlefile.BaseParticleFile.delete_tempwritedir" title="Permalink to this definition">¶</a></dt>
<dd><p>Deleted all temporary npy files</p>
<p>:param tempwritedir Optional path of the directory to delete</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.baseparticlefile.BaseParticleFile.dump_dict_to_npy">
<span class="sig-name descname"><span class="pre">dump_dict_to_npy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_dict_once</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/baseparticlefile.html#BaseParticleFile.dump_dict_to_npy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.baseparticlefile.BaseParticleFile.dump_dict_to_npy" title="Permalink to this definition">¶</a></dt>
<dd><p>Buffer data to set of temporary numpy files, using np.save</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.baseparticlefile.BaseParticleFile.dump_psetinfo_to_npy">
<span class="sig-name descname"><span class="pre">dump_psetinfo_to_npy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/baseparticlefile.html#BaseParticleFile.dump_psetinfo_to_npy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.baseparticlefile.BaseParticleFile.dump_psetinfo_to_npy" title="Permalink to this definition">¶</a></dt>
<dd><p>function writes the major attributes and values to a pset information file (<a href="#id25"><span class="problematic" id="id26">*</span></a>.npy).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.baseparticlefile.BaseParticleFile.export">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/baseparticlefile.html#BaseParticleFile.export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.baseparticlefile.BaseParticleFile.export" title="Permalink to this definition">¶</a></dt>
<dd><p>Exports outputs in temporary NPY-files to NetCDF file</p>
<p>Attention:
For ParticleSet structures other than SoA, and structures where ID != index, this has to be overridden.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.baseparticlefile.BaseParticleFile.get_pset_info_attributes">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">get_pset_info_attributes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/baseparticlefile.html#BaseParticleFile.get_pset_info_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.baseparticlefile.BaseParticleFile.get_pset_info_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the main attributes of the pset_info.npy file.</p>
<p>Attention:
For ParticleSet structures other than SoA, and structures where ID != index, this has to be overridden.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.baseparticlefile.BaseParticleFile.open_netcdf_file">
<span class="sig-name descname"><span class="pre">open_netcdf_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_shape</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/baseparticlefile.html#BaseParticleFile.open_netcdf_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.baseparticlefile.BaseParticleFile.open_netcdf_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise NetCDF4.Dataset for trajectory output.
The output follows the format outlined in the Discrete Sampling Geometries
section of the CF-conventions:
<a class="reference external" href="http://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#discrete-sampling-geometries">http://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#discrete-sampling-geometries</a>
The current implementation is based on the NCEI template:
<a class="reference external" href="http://www.nodc.noaa.gov/data/formats/netcdf/v2.0/trajectoryIncomplete.cdl">http://www.nodc.noaa.gov/data/formats/netcdf/v2.0/trajectoryIncomplete.cdl</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_shape</strong> – shape of the variables in the NetCDF4 file</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.baseparticlefile.BaseParticleFile.read_from_npy">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">read_from_npy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_steps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/baseparticlefile.html#BaseParticleFile.read_from_npy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.baseparticlefile.BaseParticleFile.read_from_npy" title="Permalink to this definition">¶</a></dt>
<dd><p>Read NPY-files for one variable using a loop over all files.</p>
<p>Attention:
For ParticleSet structures other than SoA, and structures where ID != index, this has to be overridden.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_list</strong> – List that  contains all file names in the output directory</p></li>
<li><p><strong>time_steps</strong> – Number of time steps that were written in out directory</p></li>
<li><p><strong>var</strong> – name of the variable to read</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.baseparticlefile.BaseParticleFile.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deleted_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/baseparticlefile.html#BaseParticleFile.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.baseparticlefile.BaseParticleFile.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write all data from one time step to a temporary npy-file
using a python dictionary. The data is saved in the folder ‘out’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pset</strong> – ParticleSet object to write</p></li>
<li><p><strong>time</strong> – Time at which to write ParticleSet</p></li>
<li><p><strong>deleted_only</strong> – Flag to write only the deleted Particles</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-parcels.particlefile.particlefileaos">
<span id="parcels-particlefile-particlefileaos-module"></span><h2>parcels.particlefile.particlefileaos module<a class="headerlink" href="#module-parcels.particlefile.particlefileaos" title="Permalink to this headline">¶</a></h2>
<p>Module controlling the writing of ParticleSets to NetCDF file</p>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.particlefile.particlefileaos.ParticleFileAOS">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.particlefile.particlefileaos.</span></span><span class="sig-name descname"><span class="pre">ParticleFileAOS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particleset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputdt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_ondelete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_at_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tempwritedir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pset_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/particlefileaos.html#ParticleFileAOS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.particlefileaos.ParticleFileAOS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.particlefile.baseparticlefile.BaseParticleFile" title="parcels.particlefile.baseparticlefile.BaseParticleFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particlefile.baseparticlefile.BaseParticleFile</span></code></a></p>
<p>Initialise trajectory output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Basename of the output file</p></li>
<li><p><strong>particleset</strong> – ParticleSet to output</p></li>
<li><p><strong>outputdt</strong> – Interval which dictates the update frequency of file output
while ParticleFile is given as an argument of ParticleSet.execute()
It is either a timedelta object or a positive double.</p></li>
<li><p><strong>write_ondelete</strong> – Boolean to write particle data only when they are deleted. Default is False</p></li>
<li><p><strong>convert_at_end</strong> – Boolean to convert npy files to netcdf at end of run. Default is True</p></li>
<li><p><strong>tempwritedir</strong> – directories to write temporary files to during executing.
Default is out-XXXXXX where Xs are random capitals. Files for individual
processors are written to subdirectories 0, 1, 2 etc under tempwritedir</p></li>
<li><p><strong>pset_info</strong> – dictionary of info on the ParticleSet, stored in tempwritedir/XX/pset_info.npy,
used to create NetCDF file from npy-files.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.particlefileaos.ParticleFileAOS.export">
<span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/particlefileaos.html#ParticleFileAOS.export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.particlefileaos.ParticleFileAOS.export" title="Permalink to this definition">¶</a></dt>
<dd><p>Exports outputs in temporary NPY-files to NetCDF file</p>
<p>Attention:
For ParticleSet structures other than SoA, and structures where ID != index, this has to be overridden.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.particlefileaos.ParticleFileAOS.get_pset_info_attributes">
<span class="sig-name descname"><span class="pre">get_pset_info_attributes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/particlefileaos.html#ParticleFileAOS.get_pset_info_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.particlefileaos.ParticleFileAOS.get_pset_info_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the main attributes of the pset_info.npy file.</p>
<p>Attention:
For ParticleSet structures other than SoA, and structures where ID != index, this has to be overridden.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.particlefileaos.ParticleFileAOS.read_from_npy">
<span class="sig-name descname"><span class="pre">read_from_npy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_steps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/particlefileaos.html#ParticleFileAOS.read_from_npy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.particlefileaos.ParticleFileAOS.read_from_npy" title="Permalink to this definition">¶</a></dt>
<dd><p>Read NPY-files for one variable using a loop over all files.</p>
<p>Attention:
For ParticleSet structures other than SoA, and structures where ID != index, this has to be overridden.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_list</strong> – List that  contains all file names in the output directory</p></li>
<li><p><strong>time_steps</strong> – Number of time steps that were written in out directory</p></li>
<li><p><strong>var</strong> – name of the variable to read</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-parcels.particlefile.particlefilesoa">
<span id="parcels-particlefile-particlefilesoa-module"></span><h2>parcels.particlefile.particlefilesoa module<a class="headerlink" href="#module-parcels.particlefile.particlefilesoa" title="Permalink to this headline">¶</a></h2>
<p>Module controlling the writing of ParticleSets to NetCDF file</p>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.particlefile.particlefilesoa.ParticleFileSOA">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.particlefile.particlefilesoa.</span></span><span class="sig-name descname"><span class="pre">ParticleFileSOA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particleset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputdt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_ondelete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_at_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tempwritedir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pset_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/particlefilesoa.html#ParticleFileSOA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.particlefilesoa.ParticleFileSOA" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.particlefile.baseparticlefile.BaseParticleFile" title="parcels.particlefile.baseparticlefile.BaseParticleFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particlefile.baseparticlefile.BaseParticleFile</span></code></a></p>
<p>Initialise trajectory output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Basename of the output file</p></li>
<li><p><strong>particleset</strong> – ParticleSet to output</p></li>
<li><p><strong>outputdt</strong> – Interval which dictates the update frequency of file output
while ParticleFile is given as an argument of ParticleSet.execute()
It is either a timedelta object or a positive double.</p></li>
<li><p><strong>write_ondelete</strong> – Boolean to write particle data only when they are deleted. Default is False</p></li>
<li><p><strong>convert_at_end</strong> – Boolean to convert npy files to netcdf at end of run. Default is True</p></li>
<li><p><strong>tempwritedir</strong> – directories to write temporary files to during executing.
Default is out-XXXXXX where Xs are random capitals. Files for individual
processors are written to subdirectories 0, 1, 2 etc under tempwritedir</p></li>
<li><p><strong>pset_info</strong> – dictionary of info on the ParticleSet, stored in tempwritedir/XX/pset_info.npy,
used to create NetCDF file from npy-files.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.particlefilesoa.ParticleFileSOA.export">
<span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/particlefilesoa.html#ParticleFileSOA.export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.particlefilesoa.ParticleFileSOA.export" title="Permalink to this definition">¶</a></dt>
<dd><p>Exports outputs in temporary NPY-files to NetCDF file</p>
<p>Attention:
For ParticleSet structures other than SoA, and structures where ID != index, this has to be overridden.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.particlefilesoa.ParticleFileSOA.get_pset_info_attributes">
<span class="sig-name descname"><span class="pre">get_pset_info_attributes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/particlefilesoa.html#ParticleFileSOA.get_pset_info_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.particlefilesoa.ParticleFileSOA.get_pset_info_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the main attributes of the pset_info.npy file.</p>
<p>Attention:
For ParticleSet structures other than SoA, and structures where ID != index, this has to be overridden.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particlefile.particlefilesoa.ParticleFileSOA.read_from_npy">
<span class="sig-name descname"><span class="pre">read_from_npy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_steps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile/particlefilesoa.html#ParticleFileSOA.read_from_npy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particlefile.particlefilesoa.ParticleFileSOA.read_from_npy" title="Permalink to this definition">¶</a></dt>
<dd><p>Read NPY-files for one variable using a loop over all files.</p>
<p>Attention:
For ParticleSet structures other than SoA, and structures where ID != index, this has to be overridden.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_list</strong> – List that  contains all file names in the output directory</p></li>
<li><p><strong>time_steps</strong> – Number of time steps that were written in out directory</p></li>
<li><p><strong>var</strong> – name of the variable to read</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-parcels.rng">
<span id="parcels-rng-module"></span><h2>parcels.rng module<a class="headerlink" href="#module-parcels.rng" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="parcels.rng.expovariate">
<span class="sig-prename descclassname"><span class="pre">parcels.rng.</span></span><span class="sig-name descname"><span class="pre">expovariate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lamb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/rng.html#expovariate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.rng.expovariate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a randome float of an exponential distribution with parameter lamb</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.rng.normalvariate">
<span class="sig-prename descclassname"><span class="pre">parcels.rng.</span></span><span class="sig-name descname"><span class="pre">normalvariate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/rng.html#normalvariate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.rng.normalvariate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random float on normal distribution with mean <cite>loc</cite> and width <cite>scale</cite></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.rng.randint">
<span class="sig-prename descclassname"><span class="pre">parcels.rng.</span></span><span class="sig-name descname"><span class="pre">randint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">low</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/rng.html#randint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.rng.randint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random int between <cite>low</cite> and <cite>high</cite></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.rng.random">
<span class="sig-prename descclassname"><span class="pre">parcels.rng.</span></span><span class="sig-name descname"><span class="pre">random</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/rng.html#random"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.rng.random" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random float between 0. and 1.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.rng.seed">
<span class="sig-prename descclassname"><span class="pre">parcels.rng.</span></span><span class="sig-name descname"><span class="pre">seed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/rng.html#seed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.rng.seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the seed for parcels internal RNG</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.rng.uniform">
<span class="sig-prename descclassname"><span class="pre">parcels.rng.</span></span><span class="sig-name descname"><span class="pre">uniform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">low</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/rng.html#uniform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.rng.uniform" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random float between <cite>low</cite> and <cite>high</cite></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.rng.vonmisesvariate">
<span class="sig-prename descclassname"><span class="pre">parcels.rng.</span></span><span class="sig-name descname"><span class="pre">vonmisesvariate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/rng.html#vonmisesvariate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.rng.vonmisesvariate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a randome float of a Von Mises distribution
with mean angle mu and concentration parameter kappa</p>
</dd></dl>

</section>
<section id="module-parcels.particleset.baseparticleset">
<span id="parcels-particleset-baseparticleset-module"></span><h2>parcels.particleset.baseparticleset module<a class="headerlink" href="#module-parcels.particleset.baseparticleset" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.BaseParticleSet">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.particleset.baseparticleset.</span></span><span class="sig-name descname"><span class="pre">BaseParticleSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fieldset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pclass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeatdt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lonlatdepth_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pid_orig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/baseparticleset.html#BaseParticleSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.baseparticleset.BaseParticleSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.particleset.baseparticleset.NDCluster" title="parcels.particleset.baseparticleset.NDCluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particleset.baseparticleset.NDCluster</span></code></a></p>
<p>Base ParticleSet.</p>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.BaseParticleSet.Kernel">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">Kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pyfunc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_cfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/baseparticleset.html#BaseParticleSet.Kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.baseparticleset.BaseParticleSet.Kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper method to convert a <cite>pyfunc</cite> into a <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.kernel.Kernel</span></code> object
based on <cite>fieldset</cite> and <cite>ptype</cite> of the ParticleSet
:param delete_cfiles: Boolean whether to delete the C-files after compilation in JIT mode (default is True)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.BaseParticleSet.ParticleFile">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">ParticleFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/baseparticleset.html#BaseParticleSet.ParticleFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.baseparticleset.BaseParticleSet.ParticleFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper method to initialise a <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particlefile.ParticleFile</span></code>
object from the ParticleSet</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.BaseParticleSet.cstruct">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">cstruct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/baseparticleset.html#BaseParticleSet.cstruct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.baseparticleset.BaseParticleSet.cstruct" title="Permalink to this definition">¶</a></dt>
<dd><p>‘cstruct’ returns the ctypes mapping of the combined collections cstruct and the fieldset cstruct.
This depends on the specific structure in question.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.BaseParticleSet.density">
<span class="sig-name descname"><span class="pre">density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/baseparticleset.html#BaseParticleSet.density"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.baseparticleset.BaseParticleSet.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to calculate the density of particles in a ParticleSet from their locations,
through a 2D histogram.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>field</strong> – Optional <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object to calculate the histogram
on. Default is <cite>fieldset.U</cite></p></li>
<li><p><strong>particle_val</strong> – Optional numpy-array of values to weigh each particle with,
or string name of particle variable to use weigh particles with.
Default is None, resulting in a value of 1 for each particle</p></li>
<li><p><strong>relative</strong> – Boolean to control whether the density is scaled by the total
weight of all particles. Default is False</p></li>
<li><p><strong>area_scale</strong> – Boolean to control whether the density is scaled by the area
(in m^2) of each grid cell. Default is False</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.BaseParticleSet.error_particles">
<em class="property"><span class="pre">abstract</span> <span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">error_particles</span></span><a class="headerlink" href="#parcels.particleset.baseparticleset.BaseParticleSet.error_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an iterator over all particles that are in an error state.</p>
<p>This is a fallback implementation, it might be slow.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Collection iterator over error particles.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.BaseParticleSet.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">pyfunc=&lt;function</span> <span class="pre">AdvectionRK4&gt;</span></em>, <em class="sig-param"><span class="pre">pyfunc_inter=None</span></em>, <em class="sig-param"><span class="pre">endtime=None</span></em>, <em class="sig-param"><span class="pre">runtime=None</span></em>, <em class="sig-param"><span class="pre">dt=1.0</span></em>, <em class="sig-param"><span class="pre">moviedt=None</span></em>, <em class="sig-param"><span class="pre">recovery=None</span></em>, <em class="sig-param"><span class="pre">output_file=None</span></em>, <em class="sig-param"><span class="pre">movie_background_field=None</span></em>, <em class="sig-param"><span class="pre">verbose_progress=None</span></em>, <em class="sig-param"><span class="pre">postIterationCallbacks=None</span></em>, <em class="sig-param"><span class="pre">callbackdt=None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/baseparticleset.html#BaseParticleSet.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.baseparticleset.BaseParticleSet.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a given kernel function over the particle set for
multiple timesteps. Optionally also provide sub-timestepping
for particle output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pyfunc</strong> – Kernel function to execute. This can be the name of a
defined Python function or a <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.kernel.Kernel</span></code> object.
Kernels can be concatenated using the + operator</p></li>
<li><p><strong>endtime</strong> – End time for the timestepping loop.
It is either a datetime object or a positive double.</p></li>
<li><p><strong>runtime</strong> – Length of the timestepping loop. Use instead of endtime.
It is either a timedelta object or a positive double.</p></li>
<li><p><strong>dt</strong> – Timestep interval to be passed to the kernel.
It is either a timedelta object or a double.
Use a negative value for a backward-in-time simulation.</p></li>
<li><p><strong>moviedt</strong> – Interval for inner sub-timestepping (leap), which dictates
the update frequency of animation.
It is either a timedelta object or a positive double.
None value means no animation.</p></li>
<li><p><strong>output_file</strong> – <code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particlefile.ParticleFile</span></code> object for particle output</p></li>
<li><p><strong>recovery</strong> – Dictionary with additional <cite>:mod:parcels.tools.error</cite>
recovery kernels to allow custom recovery behaviour in case of
kernel errors.</p></li>
<li><p><strong>movie_background_field</strong> – field plotted as background in the movie if moviedt is set.
‘vector’ shows the velocity as a vector field.</p></li>
<li><p><strong>verbose_progress</strong> – Boolean for providing a progress bar for the kernel execution loop.</p></li>
<li><p><strong>postIterationCallbacks</strong> – (Optional) Array of functions that are to be called after each iteration (post-process, non-Kernel)</p></li>
<li><p><strong>callbackdt</strong> – (Optional, in conjecture with ‘postIterationCallbacks) timestep inverval to (latestly) interrupt the running kernel and invoke post-iteration callbacks from ‘postIterationCallbacks’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.BaseParticleSet.from_field">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pclass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monte_carlo'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeatdt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lonlatdepth_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/baseparticleset.html#BaseParticleSet.from_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.baseparticleset.BaseParticleSet.from_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the ParticleSet randomly drawn according to distribution from a field</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object from which to sample velocity</p></li>
<li><p><strong>pclass</strong> – mod:<cite>parcels.particle.JITParticle</cite> or <a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a>
object that defines custom particle</p></li>
<li><p><strong>start_field</strong> – Field for initialising particles stochastically (horizontally)  according to the presented density field.</p></li>
<li><p><strong>size</strong> – Initial size of particle set</p></li>
<li><p><strong>mode</strong> – Type of random sampling. Currently only ‘monte_carlo’ is implemented</p></li>
<li><p><strong>depth</strong> – Optional list of initial depth values for particles. Default is 0m</p></li>
<li><p><strong>time</strong> – Optional start time value for particles. Default is fieldset.U.time[0]</p></li>
<li><p><strong>repeatdt</strong> – Optional interval (in seconds) on which to repeat the release of the ParticleSet</p></li>
<li><p><strong>lonlatdepth_dtype</strong> – Floating precision for lon, lat, depth particle coordinates.
It is either np.float32 or np.float64. Default is np.float32 if fieldset.U.interp_method is ‘linear’
and np.float64 if the interpolation method is ‘cgrid_velocity’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.BaseParticleSet.from_line">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pclass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">finish</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeatdt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lonlatdepth_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/baseparticleset.html#BaseParticleSet.from_line"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.baseparticleset.BaseParticleSet.from_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the ParticleSet from start/finish coordinates with equidistant spacing
Note that this method uses simple numpy.linspace calls and does not take into account
great circles, so may not be a exact on a globe</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object from which to sample velocity</p></li>
<li><p><strong>pclass</strong> – mod:<cite>parcels.particle.JITParticle</cite> or <a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a>
object that defines custom particle</p></li>
<li><p><strong>start</strong> – Starting point for initialisation of particles on a straight line.</p></li>
<li><p><strong>finish</strong> – End point for initialisation of particles on a straight line.</p></li>
<li><p><strong>size</strong> – Initial size of particle set</p></li>
<li><p><strong>depth</strong> – Optional list of initial depth values for particles. Default is 0m</p></li>
<li><p><strong>time</strong> – Optional start time value for particles. Default is fieldset.U.time[0]</p></li>
<li><p><strong>repeatdt</strong> – Optional interval (in seconds) on which to repeat the release of the ParticleSet</p></li>
<li><p><strong>lonlatdepth_dtype</strong> – Floating precision for lon, lat, depth particle coordinates.
It is either np.float32 or np.float64. Default is np.float32 if fieldset.U.interp_method is ‘linear’
and np.float64 if the interpolation method is ‘cgrid_velocity’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.BaseParticleSet.from_list">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pclass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeatdt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lonlatdepth_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/baseparticleset.html#BaseParticleSet.from_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.baseparticleset.BaseParticleSet.from_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the ParticleSet from lists of lon and lat</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object from which to sample velocity</p></li>
<li><p><strong>pclass</strong> – mod:<cite>parcels.particle.JITParticle</cite> or <a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a>
object that defines custom particle</p></li>
<li><p><strong>lon</strong> – List of initial longitude values for particles</p></li>
<li><p><strong>lat</strong> – List of initial latitude values for particles</p></li>
<li><p><strong>depth</strong> – Optional list of initial depth values for particles. Default is 0m</p></li>
<li><p><strong>time</strong> – Optional list of start time values for particles. Default is fieldset.U.time[0]</p></li>
<li><p><strong>repeatdt</strong> – Optional interval (in seconds) on which to repeat the release of the ParticleSet</p></li>
<li><p><strong>lonlatdepth_dtype</strong> – Floating precision for lon, lat, depth particle coordinates.
It is either np.float32 or np.float64. Default is np.float32 if fieldset.U.interp_method is ‘linear’
and np.float64 if the interpolation method is ‘cgrid_velocity’</p></li>
</ul>
</dd>
</dl>
<p>Other Variables can be initialised using further arguments (e.g. v=… for a Variable named ‘v’)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.BaseParticleSet.from_particlefile">
<em class="property"><span class="pre">abstract</span> <span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_particlefile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pclass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restarttime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeatdt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lonlatdepth_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/baseparticleset.html#BaseParticleSet.from_particlefile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.baseparticleset.BaseParticleSet.from_particlefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the ParticleSet from a netcdf ParticleFile.
This creates a new ParticleSet based on locations of all particles written
in a netcdf ParticleFile at a certain time. Particle IDs are preserved if restart=True</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object from which to sample velocity</p></li>
<li><p><strong>pclass</strong> – mod:<cite>parcels.particle.JITParticle</cite> or <a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a>
object that defines custom particle</p></li>
<li><p><strong>filename</strong> – Name of the particlefile from which to read initial conditions</p></li>
<li><p><strong>restart</strong> – Boolean to signal if pset is used for a restart (default is True).
In that case, Particle IDs are preserved.</p></li>
<li><p><strong>restarttime</strong> – time at which the Particles will be restarted. Default is the last time written.
Alternatively, restarttime could be a time value (including np.datetime64) or
a callable function such as np.nanmin. The last is useful when running with dt &lt; 0.</p></li>
<li><p><strong>repeatdt</strong> – Optional interval (in seconds) on which to repeat the release of the ParticleSet</p></li>
<li><p><strong>lonlatdepth_dtype</strong> – Floating precision for lon, lat, depth particle coordinates.
It is either np.float32 or np.float64. Default is np.float32 if fieldset.U.interp_method is ‘linear’
and np.float64 if the interpolation method is ‘cgrid_velocity’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.BaseParticleSet.monte_carlo_sample">
<em class="property"><span class="pre">abstract</span> <span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">monte_carlo_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monte_carlo'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/baseparticleset.html#BaseParticleSet.monte_carlo_sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.baseparticleset.BaseParticleSet.monte_carlo_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a starting field into a monte-carlo sample of lons and lats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>start_field</strong> – <code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.Field</span></code> object for initialising particles stochastically (horizontally)  according to the presented density field.</p>
</dd>
</dl>
<p>returns list(lon), list(lat)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.BaseParticleSet.num_error_particles">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">num_error_particles</span></span><a class="headerlink" href="#parcels.particleset.baseparticleset.BaseParticleSet.num_error_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of particles that are in an error state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.BaseParticleSet.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">land</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">animation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/baseparticleset.html#BaseParticleSet.show"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.baseparticleset.BaseParticleSet.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to ‘show’ a Parcels ParticleSet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>with_particles</strong> – Boolean whether to show particles</p></li>
<li><p><strong>show_time</strong> – Time at which to show the ParticleSet</p></li>
<li><p><strong>field</strong> – Field to plot under particles (either None, a Field object, or ‘vector’)</p></li>
<li><p><strong>domain</strong> – dictionary (with keys ‘N’, ‘S’, ‘E’, ‘W’) defining domain to show</p></li>
<li><p><strong>projection</strong> – type of cartopy projection to use (default PlateCarree)</p></li>
<li><p><strong>land</strong> – Boolean whether to show land. This is ignored for flat meshes</p></li>
<li><p><strong>vmin</strong> – minimum colour scale (only in single-plot mode)</p></li>
<li><p><strong>vmax</strong> – maximum colour scale (only in single-plot mode)</p></li>
<li><p><strong>savefile</strong> – Name of a file to save the plot to</p></li>
<li><p><strong>animation</strong> – Boolean whether result is a single plot, or an animation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.particleset.baseparticleset.NDCluster">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.particleset.baseparticleset.</span></span><span class="sig-name descname"><span class="pre">NDCluster</span></span><a class="reference internal" href="_modules/parcels/particleset/baseparticleset.html#NDCluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.baseparticleset.NDCluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Interface.</p>
</dd></dl>

</section>
<section id="module-parcels.particleset.particlesetaos">
<span id="parcels-particleset-particlesetaos-module"></span><h2>parcels.particleset.particlesetaos module<a class="headerlink" href="#module-parcels.particleset.particlesetaos" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.particleset.particlesetaos.</span></span><span class="sig-name descname"><span class="pre">ParticleSetAOS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">fieldset=None</span></em>, <em class="sig-param"><span class="pre">pclass=&lt;class</span> <span class="pre">'parcels.particle.JITParticle'&gt;</span></em>, <em class="sig-param"><span class="pre">lon=None</span></em>, <em class="sig-param"><span class="pre">lat=None</span></em>, <em class="sig-param"><span class="pre">depth=None</span></em>, <em class="sig-param"><span class="pre">time=None</span></em>, <em class="sig-param"><span class="pre">repeatdt=None</span></em>, <em class="sig-param"><span class="pre">lonlatdepth_dtype=None</span></em>, <em class="sig-param"><span class="pre">pid_orig=None</span></em>, <em class="sig-param"><span class="pre">**kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.particleset.baseparticleset.BaseParticleSet" title="parcels.particleset.baseparticleset.BaseParticleSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particleset.baseparticleset.BaseParticleSet</span></code></a></p>
<p>Container class for storing particle and executing kernel over them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object from which to sample velocity.
While fieldset=None is supported, this will throw a warning as it breaks most Parcels functionality</p></li>
<li><p><strong>pclass</strong> – Optional <a class="reference internal" href="#parcels.particle.JITParticle" title="parcels.particle.JITParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.JITParticle</span></code></a> or
<a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a> object that defines custom particle</p></li>
<li><p><strong>lon</strong> – List of initial longitude values for particles</p></li>
<li><p><strong>lat</strong> – List of initial latitude values for particles</p></li>
<li><p><strong>depth</strong> – Optional list of initial depth values for particles. Default is 0m</p></li>
<li><p><strong>time</strong> – Optional list of initial time values for particles. Default is fieldset.U.grid.time[0]</p></li>
<li><p><strong>repeatdt</strong> – Optional interval (in seconds) on which to repeat the release of the ParticleSet</p></li>
<li><p><strong>lonlatdepth_dtype</strong> – Floating precision for lon, lat, depth particle coordinates.
It is either np.float32 or np.float64. Default is np.float32 if fieldset.U.interp_method is ‘linear’
and np.float64 if the interpolation method is ‘cgrid_velocity’</p></li>
<li><p><strong>pid_orig</strong> – Optional list of (offsets for) the particle IDs</p></li>
<li><p><strong>partitions</strong> – List of cores on which to distribute the particles for MPI runs. Default: None, in which case particles
are distributed automatically on the processors</p></li>
</ul>
</dd>
</dl>
<p>Other Variables can be initialised using further arguments (e.g. v=… for a Variable named ‘v’)</p>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.Kernel">
<span class="sig-name descname"><span class="pre">Kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pyfunc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_cfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.Kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.Kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper method to convert a <cite>pyfunc</cite> into a <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.kernel.Kernel</span></code> object
based on <cite>fieldset</cite> and <cite>ptype</cite> of the ParticleSet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>delete_cfiles</strong> – Boolean whether to delete the C-files after compilation in JIT mode (default is True)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.ParticleFile">
<span class="sig-name descname"><span class="pre">ParticleFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.ParticleFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.ParticleFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper method to initialise a <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particlefile.ParticleFile</span></code>
object from the ParticleSet</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add particles to the ParticleSet. Note that this is an
incremental add, the particles will be added to the ParticleSet
on which this function is called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>particles</strong> – Another ParticleSet containing particles to add
to this one.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The current ParticleSet</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.cstruct">
<span class="sig-name descname"><span class="pre">cstruct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.cstruct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.cstruct" title="Permalink to this definition">¶</a></dt>
<dd><p>‘cstruct’ returns the ctypes mapping of the combined collections cstruct and the fieldset cstruct.
This depends on the specific structure in question.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.data_indices">
<span class="sig-name descname"><span class="pre">data_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compare_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.data_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.data_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the indices of all particles where the value of
<cite>variable_name</cite> equals (one of) <cite>compare_values</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variable_name</strong> – Name of the variable to check.</p></li>
<li><p><strong>compare_values</strong> – Value or list of values to compare to.</p></li>
<li><p><strong>invert</strong> – Whether to invert the selection. I.e., when True,
return all indices that do not equal (one of)
<cite>compare_values</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Numpy array of indices that satisfy the test.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the generic super-method to indicate obejct deletion of a specific object from this collection.</p>
<p>Comment/Annotation:
Functions for deleting multiple objects are more specialised than just a for-each loop of single-item deletion,
because certain data structures can delete multiple objects in-bulk faster with specialised function than making a
roundtrip per-item delete operation. Because of the sheer size of those containers and the resulting
performance demands, we need to make use of those specialised ‘del’ functions, where available.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.delete_by_ID">
<span class="sig-name descname"><span class="pre">delete_by_ID</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.delete_by_ID"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.delete_by_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>This method deletes a particle from the  the collection based on its ID. It does not return the deleted item.
Semantically, the function appears similar to the ‘remove’ operation. That said, the function in OceanParcels -
instead of directly deleting the particle - just raises the ‘deleted’ status flag for the indexed particle.
In result, the particle still remains in the collection. The functional interpretation of the ‘deleted’ status
is handled by ‘recovery’ dictionary during simulation execution.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.delete_by_index">
<span class="sig-name descname"><span class="pre">delete_by_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.delete_by_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.delete_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>This method deletes a particle from the  the collection based on its index. It does not return the deleted item.
Semantically, the function appears similar to the ‘remove’ operation. That said, the function in OceanParcels -
instead of directly deleting the particle - just raises the ‘deleted’ status flag for the indexed particle.
In result, the particle still remains in the collection. The functional interpretation of the ‘deleted’ status
is handled by ‘recovery’ dictionary during simulation execution.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.density">
<span class="sig-name descname"><span class="pre">density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.density"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to calculate the density of particles in a ParticleSet from their locations,
through a 2D histogram.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>field</strong> – Optional <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object to calculate the histogram
on. Default is <cite>fieldset.U</cite></p></li>
<li><p><strong>particle_val</strong> – Optional numpy-array of values to weigh each particle with,
or string name of particle variable to use weigh particles with.
Default is None, resulting in a value of 1 for each particle</p></li>
<li><p><strong>relative</strong> – Boolean to control whether the density is scaled by the total
weight of all particles. Default is False</p></li>
<li><p><strong>area_scale</strong> – Boolean to control whether the density is scaled by the area
(in m^2) of each grid cell. Default is False</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.error_particles">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">error_particles</span></span><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.error_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an iterator over all particles that are in an error state.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Collection iterator over error particles.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.from_particlefile">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_particlefile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pclass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restarttime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeatdt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lonlatdepth_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.from_particlefile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.from_particlefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the ParticleSet from a netcdf ParticleFile.
This creates a new ParticleSet based on the last locations and time of all particles
in the netcdf ParticleFile. Particle IDs are preserved if restart=True</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object from which to sample velocity</p></li>
<li><p><strong>pclass</strong> – mod:<cite>parcels.particle.JITParticle</cite> or <a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a>
object that defines custom particle</p></li>
<li><p><strong>filename</strong> – Name of the particlefile from which to read initial conditions</p></li>
<li><p><strong>restart</strong> – Boolean to signal if pset is used for a restart (default is True).
In that case, Particle IDs are preserved.</p></li>
<li><p><strong>repeatdt</strong> – Optional interval (in seconds) on which to repeat the release of the ParticleSet</p></li>
<li><p><strong>lonlatdepth_dtype</strong> – Floating precision for lon, lat, depth particle coordinates.
It is either np.float32 or np.float64. Default is np.float32 if fieldset.U.interp_method is ‘linear’
and np.float64 if the interpolation method is ‘cgrid_velocity’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.monte_carlo_sample">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">monte_carlo_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'monte_carlo'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.monte_carlo_sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.monte_carlo_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a starting field into a monte-carlo sample of lons and lats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>start_field</strong> – <code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.Field</span></code> object for initialising particles stochastically (horizontally)  according to the presented density field.</p>
</dd>
</dl>
<p>returns list(lon), list(lat)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.num_error_particles">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">num_error_particles</span></span><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.num_error_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of particles that are in an error state.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of error particles.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.populate_indices">
<span class="sig-name descname"><span class="pre">populate_indices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.populate_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.populate_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre-populate guesses of particle xi/yi indices using a kdtree.</p>
<p>This is only intended for curvilinear grids, where the initial index search
may be quite expensive.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.remove_booleanvector">
<span class="sig-name descname"><span class="pre">remove_booleanvector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.remove_booleanvector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.remove_booleanvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to remove particles from the ParticleSet, based on an array of booleans</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.remove_indices">
<span class="sig-name descname"><span class="pre">remove_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.remove_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.remove_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to remove particles from the ParticleSet, based on their <cite>indices</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.set_variable_write_status">
<span class="sig-name descname"><span class="pre">set_variable_write_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_status</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.set_variable_write_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.set_variable_write_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to set the write status of a Variable
:param var: Name of the variable (string)
:param write_status: Write status of the variable (True, False or ‘once’)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.particleset.particlesetaos.ParticleSetAOS.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deleted_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset/particlesetaos.html#ParticleSetAOS.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.particleset.particlesetaos.ParticleSetAOS.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert all Particle data from one time step to a python dictionary.
:param pfile: ParticleFile object requesting the conversion
:param time: Time at which to write ParticleSet
:param deleted_only: Flag to write only the deleted Particles
returns two dictionaries: one for all variables to be written each outputdt, and one for all variables to be written once</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-parcels.tools.statuscodes">
<span id="parcels-tools-statuscodes-module"></span><h2>parcels.tools.statuscodes module<a class="headerlink" href="#module-parcels.tools.statuscodes" title="Permalink to this headline">¶</a></h2>
<p>Collection of pre-built recovery kernels</p>
<dl class="py exception">
<dt class="sig sig-object py" id="parcels.tools.statuscodes.FieldOutOfBoundError">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.tools.statuscodes.</span></span><span class="sig-name descname"><span class="pre">FieldOutOfBoundError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/statuscodes.html#FieldOutOfBoundError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.statuscodes.FieldOutOfBoundError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></p>
<p>Utility error class to propagate out-of-bound field sampling in Scipy mode</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="parcels.tools.statuscodes.FieldSamplingError">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.tools.statuscodes.</span></span><span class="sig-name descname"><span class="pre">FieldSamplingError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/statuscodes.html#FieldSamplingError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.statuscodes.FieldSamplingError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></p>
<p>Utility error class to propagate erroneous field sampling in Scipy mode</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="parcels.tools.statuscodes.KernelError">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.tools.statuscodes.</span></span><span class="sig-name descname"><span class="pre">KernelError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/statuscodes.html#KernelError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.statuscodes.KernelError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></p>
<p>General particle kernel error with optional custom message</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="parcels.tools.statuscodes.OutOfBoundsError">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.tools.statuscodes.</span></span><span class="sig-name descname"><span class="pre">OutOfBoundsError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/statuscodes.html#OutOfBoundsError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.statuscodes.OutOfBoundsError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.tools.statuscodes.KernelError" title="parcels.tools.statuscodes.KernelError"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.tools.statuscodes.KernelError</span></code></a></p>
<p>Particle kernel error for out-of-bounds field sampling</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="parcels.tools.statuscodes.OutOfTimeError">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.tools.statuscodes.</span></span><span class="sig-name descname"><span class="pre">OutOfTimeError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/statuscodes.html#OutOfTimeError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.statuscodes.OutOfTimeError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.tools.statuscodes.KernelError" title="parcels.tools.statuscodes.KernelError"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.tools.statuscodes.KernelError</span></code></a></p>
<p>Particle kernel error for time extrapolation field sampling</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="parcels.tools.statuscodes.ThroughSurfaceError">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.tools.statuscodes.</span></span><span class="sig-name descname"><span class="pre">ThroughSurfaceError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/statuscodes.html#ThroughSurfaceError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.statuscodes.ThroughSurfaceError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.tools.statuscodes.KernelError" title="parcels.tools.statuscodes.KernelError"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.tools.statuscodes.KernelError</span></code></a></p>
<p>Particle kernel error for field sampling at surface</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="parcels.tools.statuscodes.TimeExtrapolationError">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.tools.statuscodes.</span></span><span class="sig-name descname"><span class="pre">TimeExtrapolationError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'allow_time_extrapoltion'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/statuscodes.html#TimeExtrapolationError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.statuscodes.TimeExtrapolationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></p>
<p>Utility error class to propagate erroneous time extrapolation sampling in Scipy mode</p>
</dd></dl>

</section>
<section id="module-parcels.tools.converters">
<span id="parcels-tools-converters-module"></span><h2>parcels.tools.converters module<a class="headerlink" href="#module-parcels.tools.converters" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parcels.tools.converters.Geographic">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.tools.converters.</span></span><span class="sig-name descname"><span class="pre">Geographic</span></span><a class="reference internal" href="_modules/parcels/tools/converters.html#Geographic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.converters.Geographic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.tools.converters.UnitConverter" title="parcels.tools.converters.UnitConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.tools.converters.UnitConverter</span></code></a></p>
<p>Unit converter from geometric to geographic coordinates (m to degree)</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.tools.converters.GeographicPolar">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.tools.converters.</span></span><span class="sig-name descname"><span class="pre">GeographicPolar</span></span><a class="reference internal" href="_modules/parcels/tools/converters.html#GeographicPolar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.converters.GeographicPolar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.tools.converters.UnitConverter" title="parcels.tools.converters.UnitConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.tools.converters.UnitConverter</span></code></a></p>
<p>Unit converter from geometric to geographic coordinates (m to degree)
with a correction to account for narrower grid cells closer to the poles.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.tools.converters.GeographicPolarSquare">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.tools.converters.</span></span><span class="sig-name descname"><span class="pre">GeographicPolarSquare</span></span><a class="reference internal" href="_modules/parcels/tools/converters.html#GeographicPolarSquare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.converters.GeographicPolarSquare" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.tools.converters.UnitConverter" title="parcels.tools.converters.UnitConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.tools.converters.UnitConverter</span></code></a></p>
<p>Square distance converter from geometric to geographic coordinates (m2 to degree2)
with a correction to account for narrower grid cells closer to the poles.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.tools.converters.GeographicSquare">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.tools.converters.</span></span><span class="sig-name descname"><span class="pre">GeographicSquare</span></span><a class="reference internal" href="_modules/parcels/tools/converters.html#GeographicSquare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.converters.GeographicSquare" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.tools.converters.UnitConverter" title="parcels.tools.converters.UnitConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.tools.converters.UnitConverter</span></code></a></p>
<p>Square distance converter from geometric to geographic coordinates (m2 to degree2)</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.tools.converters.TimeConverter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.tools.converters.</span></span><span class="sig-name descname"><span class="pre">TimeConverter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/converters.html#TimeConverter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.converters.TimeConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Converter class for dates with different calendars in FieldSets</p>
<dl class="field-list simple">
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>time_origin: time origin of the class. Currently supported formats are
float, integer, numpy.datetime64, and netcdftime.DatetimeNoLeap</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="parcels.tools.converters.TimeConverter.fulltime">
<span class="sig-name descname"><span class="pre">fulltime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/converters.html#TimeConverter.fulltime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.converters.TimeConverter.fulltime" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to convert a time difference in seconds to a date, based on the time_origin</p>
<dl class="field-list simple">
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>time: input time</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self.time_origin + time</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parcels.tools.converters.TimeConverter.reltime">
<span class="sig-name descname"><span class="pre">reltime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/converters.html#TimeConverter.reltime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.converters.TimeConverter.reltime" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to compute the difference, in seconds, between a time and the time_origin
of the TimeConverter</p>
<dl class="field-list simple">
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>time: input time</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>time - self.time_origin</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="parcels.tools.converters.UnitConverter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">parcels.tools.converters.</span></span><span class="sig-name descname"><span class="pre">UnitConverter</span></span><a class="reference internal" href="_modules/parcels/tools/converters.html#UnitConverter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.converters.UnitConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Interface class for spatial unit conversion during field sampling
that performs no conversion.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.tools.converters.convert_xarray_time_units">
<span class="sig-prename descclassname"><span class="pre">parcels.tools.converters.</span></span><span class="sig-name descname"><span class="pre">convert_xarray_time_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/converters.html#convert_xarray_time_units"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.tools.converters.convert_xarray_time_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Fixes DataArrays that have time.Unit instead of expected time.units</p>
</dd></dl>

</section>
<section id="module-parcels.tools.loggers">
<span id="parcels-tools-loggers-module"></span><h2>parcels.tools.loggers module<a class="headerlink" href="#module-parcels.tools.loggers" title="Permalink to this headline">¶</a></h2>
<p>Script to create a <cite>logger</cite> for Parcels</p>
</section>
<section id="module-parcels.plotting">
<span id="parcels-plotting-module"></span><h2>parcels.plotting module<a class="headerlink" href="#module-parcels.plotting" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="parcels.plotting.cartopy_colorbar">
<span class="sig-prename descclassname"><span class="pre">parcels.plotting.</span></span><span class="sig-name descname"><span class="pre">cartopy_colorbar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/plotting.html#cartopy_colorbar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.plotting.cartopy_colorbar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.plotting.create_parcelsfig_axis">
<span class="sig-prename descclassname"><span class="pre">parcels.plotting.</span></span><span class="sig-name descname"><span class="pre">create_parcelsfig_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spherical</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">land</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">central_longitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cartopy_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/plotting.html#create_parcelsfig_axis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.plotting.create_parcelsfig_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.plotting.parsedomain">
<span class="sig-prename descclassname"><span class="pre">parcels.plotting.</span></span><span class="sig-name descname"><span class="pre">parsedomain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/plotting.html#parsedomain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.plotting.parsedomain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.plotting.parsetimestr">
<span class="sig-prename descclassname"><span class="pre">parcels.plotting.</span></span><span class="sig-name descname"><span class="pre">parsetimestr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_origin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/plotting.html#parsetimestr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.plotting.parsetimestr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.plotting.plotfield">
<span class="sig-prename descclassname"><span class="pre">parcels.plotting.</span></span><span class="sig-name descname"><span class="pre">plotfield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">land</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/plotting.html#plotfield"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.plotting.plotfield" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to plot a Parcels Field</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>show_time</strong> – Time at which to show the Field</p></li>
<li><p><strong>domain</strong> – dictionary (with keys ‘N’, ‘S’, ‘E’, ‘W’) defining domain to show</p></li>
<li><p><strong>depth_level</strong> – depth level to be plotted (default 0)</p></li>
<li><p><strong>projection</strong> – type of cartopy projection to use (default PlateCarree)</p></li>
<li><p><strong>land</strong> – Boolean whether to show land. This is ignored for flat meshes</p></li>
<li><p><strong>vmin</strong> – minimum colour scale (only in single-plot mode)</p></li>
<li><p><strong>vmax</strong> – maximum colour scale (only in single-plot mode)</p></li>
<li><p><strong>savefile</strong> – Name of a file to save the plot to</p></li>
<li><p><strong>animation</strong> – Boolean whether result is a single plot, or an animation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="parcels.plotting.plotparticles">
<span class="sig-prename descclassname"><span class="pre">parcels.plotting.</span></span><span class="sig-name descname"><span class="pre">plotparticles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">land</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">animation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/plotting.html#plotparticles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parcels.plotting.plotparticles" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to plot a Parcels ParticleSet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>show_time</strong> – Time at which to show the ParticleSet</p></li>
<li><p><strong>with_particles</strong> – Boolean whether particles are also plotted on Field</p></li>
<li><p><strong>field</strong> – Field to plot under particles (either None, a Field object, or ‘vector’)</p></li>
<li><p><strong>domain</strong> – dictionary (with keys ‘N’, ‘S’, ‘E’, ‘W’) defining domain to show</p></li>
<li><p><strong>projection</strong> – type of cartopy projection to use (default PlateCarree)</p></li>
<li><p><strong>land</strong> – Boolean whether to show land. This is ignored for flat meshes</p></li>
<li><p><strong>vmin</strong> – minimum colour scale (only in single-plot mode)</p></li>
<li><p><strong>vmax</strong> – maximum colour scale (only in single-plot mode)</p></li>
<li><p><strong>savefile</strong> – Name of a file to save the plot to</p></li>
<li><p><strong>animation</strong> – Boolean whether result is a single plot, or an animation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-scripts.plottrajectoriesfile">
<span id="scripts-plottrajectoriesfile-module"></span><h2>scripts.plottrajectoriesfile module<a class="headerlink" href="#module-scripts.plottrajectoriesfile" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="scripts.plottrajectoriesfile.plotTrajectoriesFile">
<span class="sig-prename descclassname"><span class="pre">scripts.plottrajectoriesfile.</span></span><span class="sig-name descname"><span class="pre">plotTrajectoriesFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2d'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracerfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracerfield</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'P'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracerlon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracerlat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recordedvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">movie_forward</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_plt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">central_longitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/plottrajectoriesfile.html#plotTrajectoriesFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.plottrajectoriesfile.plotTrajectoriesFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Quick and simple plotting of Parcels trajectories</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – Name of Parcels-generated NetCDF file with particle positions</p></li>
<li><p><strong>mode</strong> – Type of plot to show. Supported are ‘2d’, ‘3d’, ‘hist2d’,
‘movie2d’ and ‘movie2d_notebook’. The latter two give animations,
with ‘movie2d_notebook’ specifically designed for jupyter notebooks</p></li>
<li><p><strong>tracerfile</strong> – Name of NetCDF file to show as background</p></li>
<li><p><strong>tracerfield</strong> – Name of variable to show as background</p></li>
<li><p><strong>tracerlon</strong> – Name of longitude dimension of variable to show as background</p></li>
<li><p><strong>tracerlat</strong> – Name of latitude dimension of variable to show as background</p></li>
<li><p><strong>recordedvar</strong> – Name of variable used to color particles in scatter-plot.
Only works in ‘movie2d’ or ‘movie2d_notebook’ mode.</p></li>
<li><p><strong>movie_forward</strong> – Boolean whether to show movie in forward or backward mode (default True)</p></li>
<li><p><strong>bins</strong> – Number of bins to use in <cite>hist2d</cite> mode. See also <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.hist2d.html">https://matplotlib.org/api/_as_gen/matplotlib.pyplot.hist2d.html</a></p></li>
<li><p><strong>show_plt</strong> – Boolean whether plot should directly be show (for py.test)</p></li>
<li><p><strong>central_longitude</strong> – Degrees East at which to center the plot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-scripts.get_examples">
<span id="scripts-get-examples-module"></span><h2>scripts.get_examples module<a class="headerlink" href="#module-scripts.get_examples" title="Permalink to this headline">¶</a></h2>
<p>Get example scripts, notebooks, and data files.</p>
<dl class="py function">
<dt class="sig sig-object py" id="scripts.get_examples.copy_data_and_examples_from_package_to">
<span class="sig-prename descclassname"><span class="pre">scripts.get_examples.</span></span><span class="sig-name descname"><span class="pre">copy_data_and_examples_from_package_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/get_examples.html#copy_data_and_examples_from_package_to"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.get_examples.copy_data_and_examples_from_package_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy example data from Parcels directory.</p>
<p>Return thos parths of the list <cite>file_names</cite> that were not found in the
package.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.get_examples.download_files">
<span class="sig-prename descclassname"><span class="pre">scripts.get_examples.</span></span><span class="sig-name descname"><span class="pre">download_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/get_examples.html#download_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.get_examples.download_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Mirror file_names from source_url to target_path.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.get_examples.main">
<span class="sig-prename descclassname"><span class="pre">scripts.get_examples.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/get_examples.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.get_examples.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Get example scripts, example notebooks, and example data.</p>
<p>Copy the examples from the package directory and get the example data either
from the package directory or from the Parcels website.</p>
</dd></dl>

</section>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="#">
              <img class="logo" src="_static/parcelslogo.png" alt="Logo"/>
            </a></p>
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Parcels documentation</a><ul>
<li><a class="reference internal" href="#module-parcels.particleset.particlesetsoa">parcels.particleset module</a></li>
<li><a class="reference internal" href="#module-parcels.fieldset">parcels.fieldset module</a></li>
<li><a class="reference internal" href="#module-parcels.field">parcels.field module</a></li>
<li><a class="reference internal" href="#module-parcels.gridset">parcels.gridset module</a></li>
<li><a class="reference internal" href="#module-parcels.grid">parcels.grid module</a></li>
<li><a class="reference internal" href="#module-parcels.particle">parcels.particle module</a></li>
<li><a class="reference internal" href="#module-parcels.application_kernels.advection">parcels.application_kernels.advection module</a></li>
<li><a class="reference internal" href="#module-parcels.application_kernels.advectiondiffusion">parcels.application_kernels.advectiondiffusion module</a></li>
<li><a class="reference internal" href="#module-parcels.application_kernels.EOSseawaterproperties">parcels.application_kernels.EOSseawaterproperties module</a></li>
<li><a class="reference internal" href="#module-parcels.application_kernels.TEOSseawaterdensity">parcels.application_kernels.TEOSseawaterdensity module</a></li>
<li><a class="reference internal" href="#module-parcels.compilation">parcels.compilation module</a></li>
<li><a class="reference internal" href="#module-parcels.interaction">parcels.interaction module</a></li>
<li><a class="reference internal" href="#module-parcels.interaction.neighborsearch">parcels.interaction.neighborsearch module</a></li>
<li><a class="reference internal" href="#module-parcels.kernel.basekernel">parcels.kernel.basekernel module</a></li>
<li><a class="reference internal" href="#module-parcels.kernel.kernelaos">parcels.kernel.kernelaos module</a></li>
<li><a class="reference internal" href="#module-parcels.kernel.kernelsoa">parcels.kernel.kernelsoa module</a></li>
<li><a class="reference internal" href="#module-parcels.particlefile.baseparticlefile">parcels.particlefile.baseparticlefile module</a></li>
<li><a class="reference internal" href="#module-parcels.particlefile.particlefileaos">parcels.particlefile.particlefileaos module</a></li>
<li><a class="reference internal" href="#module-parcels.particlefile.particlefilesoa">parcels.particlefile.particlefilesoa module</a></li>
<li><a class="reference internal" href="#module-parcels.rng">parcels.rng module</a></li>
<li><a class="reference internal" href="#module-parcels.particleset.baseparticleset">parcels.particleset.baseparticleset module</a></li>
<li><a class="reference internal" href="#module-parcels.particleset.particlesetaos">parcels.particleset.particlesetaos module</a></li>
<li><a class="reference internal" href="#module-parcels.tools.statuscodes">parcels.tools.statuscodes module</a></li>
<li><a class="reference internal" href="#module-parcels.tools.converters">parcels.tools.converters module</a></li>
<li><a class="reference internal" href="#module-parcels.tools.loggers">parcels.tools.loggers module</a></li>
<li><a class="reference internal" href="#module-parcels.plotting">parcels.plotting module</a></li>
<li><a class="reference internal" href="#module-scripts.plottrajectoriesfile">scripts.plottrajectoriesfile module</a></li>
<li><a class="reference internal" href="#module-scripts.get_examples">scripts.get_examples module</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Parcels 2.3.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Parcels documentation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Michael Lange and Erik van Sebille.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.0.2.
    </div>
  </body>
</html>