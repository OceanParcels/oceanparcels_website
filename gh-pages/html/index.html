

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Parcels documentation &#8212; Parcels  documentation</title>
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />

    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-96368922-1', 'auto');
  ga('send', 'pageview');
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Parcels  documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="#">
              <img class="logo" src="_static/parcelslogo.png" alt="Logo"/>
            </a></p>
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Parcels documentation</a><ul>
<li><a class="reference internal" href="#module-parcels.particleset">parcels.particleset module</a></li>
<li><a class="reference internal" href="#module-parcels.fieldset">parcels.fieldset module</a></li>
<li><a class="reference internal" href="#module-parcels.field">parcels.field module</a></li>
<li><a class="reference internal" href="#module-parcels.gridset">parcels.gridset module</a></li>
<li><a class="reference internal" href="#module-parcels.grid">parcels.grid module</a></li>
<li><a class="reference internal" href="#module-parcels.particle">parcels.particle module</a></li>
<li><a class="reference internal" href="#module-parcels.kernels.advection">parcels.kernels.advection module</a></li>
<li><a class="reference internal" href="#module-parcels.kernels.diffusion">parcels.kernels.diffusion module</a></li>
<li><a class="reference internal" href="#module-parcels.codegenerator">parcels.codegenerator module</a></li>
<li><a class="reference internal" href="#module-parcels.compiler">parcels.compiler module</a></li>
<li><a class="reference internal" href="#module-parcels.kernel">parcels.kernel module</a></li>
<li><a class="reference internal" href="#module-parcels.particlefile">parcels.particlefile module</a></li>
<li><a class="reference internal" href="#module-parcels.rng">parcels.rng module</a></li>
<li><a class="reference internal" href="#module-parcels.tools.error">parcels.tools.error module</a></li>
<li><a class="reference internal" href="#module-parcels.tools.converters">parcels.tools.converters module</a></li>
<li><a class="reference internal" href="#module-parcels.tools.loggers">parcels.tools.loggers module</a></li>
<li><a class="reference internal" href="#module-parcels.plotting">parcels.plotting module</a></li>
<li><a class="reference internal" href="#module-scripts.plottrajectoriesfile">scripts.plottrajectoriesfile module</a></li>
<li><a class="reference internal" href="#module-scripts.get_examples">scripts.get_examples module</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="parcels-documentation">
<h1>Parcels documentation<a class="headerlink" href="#parcels-documentation" title="Permalink to this headline">¶</a></h1>
<p>Welcome to the documentation of parcels. This page provides detailed documentation for each method, class and function.</p>
<p>See <a class="reference external" href="http://www.oceanparcels.org">http://www.oceanparcels.org</a> for general information on the Parcels project, including how to install and use.</p>
<div class="section" id="module-parcels.particleset">
<span id="parcels-particleset-module"></span><h2>parcels.particleset module<a class="headerlink" href="#module-parcels.particleset" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="parcels.particleset.ParticleSet">
<em class="property">class </em><code class="descclassname">parcels.particleset.</code><code class="descname">ParticleSet</code><span class="sig-paren">(</span><em>fieldset</em>, <em>pclass=&lt;class 'parcels.particle.JITParticle'&gt;</em>, <em>lon=None</em>, <em>lat=None</em>, <em>depth=None</em>, <em>time=None</em>, <em>repeatdt=None</em>, <em>lonlatdepth_dtype=None</em>, <em>pid_orig=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset.html#ParticleSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particleset.ParticleSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Container class for storing particle and executing kernel over them.</p>
<p>Please note that this currently only supports fixed size particle sets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object from which to sample velocity</li>
<li><strong>pclass</strong> – Optional <a class="reference internal" href="#parcels.particle.JITParticle" title="parcels.particle.JITParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.JITParticle</span></code></a> or
<a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a> object that defines custom particle</li>
<li><strong>lon</strong> – List of initial longitude values for particles</li>
<li><strong>lat</strong> – List of initial latitude values for particles</li>
<li><strong>depth</strong> – Optional list of initial depth values for particles. Default is 0m</li>
<li><strong>time</strong> – Optional list of initial time values for particles. Default is fieldset.U.grid.time[0]</li>
<li><strong>repeatdt</strong> – Optional interval (in seconds) on which to repeat the release of the ParticleSet</li>
<li><strong>lonlatdepth_dtype</strong> – Floating precision for lon, lat, depth particle coordinates.
It is either np.float32 or np.float64. Default is np.float32 if fieldset.U.interp_method is ‘linear’
and np.float64 if the interpolation method is ‘cgrid_velocity’</li>
<li><strong>partitions</strong> – List of cores on which to distribute the particles for MPI runs. Default: None, in which case particles
are distributed automatically on the processors</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Other Variables can be initialised using further arguments (e.g. v=… for a Variable named ‘v’)</p>
<dl class="method">
<dt id="parcels.particleset.ParticleSet.Kernel">
<code class="descname">Kernel</code><span class="sig-paren">(</span><em>pyfunc</em>, <em>c_include=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset.html#ParticleSet.Kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particleset.ParticleSet.Kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper method to convert a <cite>pyfunc</cite> into a <a class="reference internal" href="#parcels.kernel.Kernel" title="parcels.kernel.Kernel"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.kernel.Kernel</span></code></a> object
based on <cite>fieldset</cite> and <cite>ptype</cite> of the ParticleSet</p>
</dd></dl>

<dl class="method">
<dt id="parcels.particleset.ParticleSet.ParticleFile">
<code class="descname">ParticleFile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset.html#ParticleSet.ParticleFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particleset.ParticleSet.ParticleFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper method to initialise a <a class="reference internal" href="#parcels.particlefile.ParticleFile" title="parcels.particlefile.ParticleFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particlefile.ParticleFile</span></code></a>
object from the ParticleSet</p>
</dd></dl>

<dl class="method">
<dt id="parcels.particleset.ParticleSet.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>particles</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset.html#ParticleSet.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particleset.ParticleSet.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to add particles to the ParticleSet</p>
</dd></dl>

<dl class="method">
<dt id="parcels.particleset.ParticleSet.density">
<code class="descname">density</code><span class="sig-paren">(</span><em>field=None</em>, <em>particle_val=None</em>, <em>relative=False</em>, <em>area_scale=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset.html#ParticleSet.density"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particleset.ParticleSet.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to calculate the density of particles in a ParticleSet from their locations,
through a 2D histogram.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>field</strong> – Optional <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object to calculate the histogram
on. Default is <cite>fieldset.U</cite></li>
<li><strong>particle_val</strong> – Optional numpy-array of values to weigh each particle with,
or string name of particle variable to use weigh particles with.
Default is None, resulting in a value of 1 for each particle</li>
<li><strong>relative</strong> – Boolean to control whether the density is scaled by the total
weight of all particles. Default is False</li>
<li><strong>area_scale</strong> – Boolean to control whether the density is scaled by the area
(in m^2) of each grid cell. Default is False</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="parcels.particleset.ParticleSet.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>pyfunc=&lt;function AdvectionRK4&gt;</em>, <em>endtime=None</em>, <em>runtime=None</em>, <em>dt=1.0</em>, <em>moviedt=None</em>, <em>recovery=None</em>, <em>output_file=None</em>, <em>movie_background_field=None</em>, <em>verbose_progress=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset.html#ParticleSet.execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particleset.ParticleSet.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a given kernel function over the particle set for
multiple timesteps. Optionally also provide sub-timestepping
for particle output.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pyfunc</strong> – Kernel function to execute. This can be the name of a
defined Python function or a <a class="reference internal" href="#parcels.kernel.Kernel" title="parcels.kernel.Kernel"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.kernel.Kernel</span></code></a> object.
Kernels can be concatenated using the + operator</li>
<li><strong>endtime</strong> – End time for the timestepping loop.
It is either a datetime object or a positive double.</li>
<li><strong>runtime</strong> – Length of the timestepping loop. Use instead of endtime.
It is either a timedelta object or a positive double.</li>
<li><strong>dt</strong> – Timestep interval to be passed to the kernel.
It is either a timedelta object or a double.
Use a negative value for a backward-in-time simulation.</li>
<li><strong>moviedt</strong> – Interval for inner sub-timestepping (leap), which dictates
the update frequency of animation.
It is either a timedelta object or a positive double.
None value means no animation.</li>
<li><strong>output_file</strong> – <a class="reference internal" href="#parcels.particlefile.ParticleFile" title="parcels.particlefile.ParticleFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particlefile.ParticleFile</span></code></a> object for particle output</li>
<li><strong>recovery</strong> – Dictionary with additional <cite>:mod:parcels.tools.error</cite>
recovery kernels to allow custom recovery behaviour in case of
kernel errors.</li>
<li><strong>movie_background_field</strong> – field plotted as background in the movie if moviedt is set.
‘vector’ shows the velocity as a vector field.</li>
<li><strong>verbose_progress</strong> – Boolean for providing a progress bar for the kernel execution loop.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="parcels.particleset.ParticleSet.from_field">
<em class="property">classmethod </em><code class="descname">from_field</code><span class="sig-paren">(</span><em>fieldset</em>, <em>pclass</em>, <em>start_field</em>, <em>size</em>, <em>mode='monte_carlo'</em>, <em>depth=None</em>, <em>time=None</em>, <em>repeatdt=None</em>, <em>lonlatdepth_dtype=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset.html#ParticleSet.from_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particleset.ParticleSet.from_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the ParticleSet randomly drawn according to distribution from a field</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object from which to sample velocity</li>
<li><strong>pclass</strong> – mod:<cite>parcels.particle.JITParticle</cite> or <a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a>
object that defines custom particle</li>
<li><strong>start_field</strong> – Field for initialising particles stochastically (horizontally)  according to the presented density field.</li>
<li><strong>size</strong> – Initial size of particle set</li>
<li><strong>mode</strong> – Type of random sampling. Currently only ‘monte_carlo’ is implemented</li>
<li><strong>depth</strong> – Optional list of initial depth values for particles. Default is 0m</li>
<li><strong>time</strong> – Optional start time value for particles. Default is fieldset.U.time[0]</li>
<li><strong>repeatdt</strong> – Optional interval (in seconds) on which to repeat the release of the ParticleSet</li>
<li><strong>lonlatdepth_dtype</strong> – Floating precision for lon, lat, depth particle coordinates.
It is either np.float32 or np.float64. Default is np.float32 if fieldset.U.interp_method is ‘linear’
and np.float64 if the interpolation method is ‘cgrid_velocity’</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="parcels.particleset.ParticleSet.from_line">
<em class="property">classmethod </em><code class="descname">from_line</code><span class="sig-paren">(</span><em>fieldset</em>, <em>pclass</em>, <em>start</em>, <em>finish</em>, <em>size</em>, <em>depth=None</em>, <em>time=None</em>, <em>repeatdt=None</em>, <em>lonlatdepth_dtype=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset.html#ParticleSet.from_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particleset.ParticleSet.from_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the ParticleSet from start/finish coordinates with equidistant spacing
Note that this method uses simple numpy.linspace calls and does not take into account
great circles, so may not be a exact on a globe</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object from which to sample velocity</li>
<li><strong>pclass</strong> – mod:<cite>parcels.particle.JITParticle</cite> or <a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a>
object that defines custom particle</li>
<li><strong>start</strong> – Starting point for initialisation of particles on a straight line.</li>
<li><strong>finish</strong> – End point for initialisation of particles on a straight line.</li>
<li><strong>size</strong> – Initial size of particle set</li>
<li><strong>depth</strong> – Optional list of initial depth values for particles. Default is 0m</li>
<li><strong>time</strong> – Optional start time value for particles. Default is fieldset.U.time[0]</li>
<li><strong>repeatdt</strong> – Optional interval (in seconds) on which to repeat the release of the ParticleSet</li>
<li><strong>lonlatdepth_dtype</strong> – Floating precision for lon, lat, depth particle coordinates.
It is either np.float32 or np.float64. Default is np.float32 if fieldset.U.interp_method is ‘linear’
and np.float64 if the interpolation method is ‘cgrid_velocity’</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="parcels.particleset.ParticleSet.from_list">
<em class="property">classmethod </em><code class="descname">from_list</code><span class="sig-paren">(</span><em>fieldset</em>, <em>pclass</em>, <em>lon</em>, <em>lat</em>, <em>depth=None</em>, <em>time=None</em>, <em>repeatdt=None</em>, <em>lonlatdepth_dtype=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset.html#ParticleSet.from_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particleset.ParticleSet.from_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the ParticleSet from lists of lon and lat</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object from which to sample velocity</li>
<li><strong>pclass</strong> – mod:<cite>parcels.particle.JITParticle</cite> or <a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a>
object that defines custom particle</li>
<li><strong>lon</strong> – List of initial longitude values for particles</li>
<li><strong>lat</strong> – List of initial latitude values for particles</li>
<li><strong>depth</strong> – Optional list of initial depth values for particles. Default is 0m</li>
<li><strong>time</strong> – Optional list of start time values for particles. Default is fieldset.U.time[0]</li>
<li><strong>repeatdt</strong> – Optional interval (in seconds) on which to repeat the release of the ParticleSet</li>
<li><strong>lonlatdepth_dtype</strong> – Floating precision for lon, lat, depth particle coordinates.
It is either np.float32 or np.float64. Default is np.float32 if fieldset.U.interp_method is ‘linear’
and np.float64 if the interpolation method is ‘cgrid_velocity’</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Other Variables can be initialised using further arguments (e.g. v=… for a Variable named ‘v’)</p>
</dd></dl>

<dl class="method">
<dt id="parcels.particleset.ParticleSet.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>indices</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset.html#ParticleSet.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particleset.ParticleSet.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to remove particles from the ParticleSet, based on their <cite>indices</cite></p>
</dd></dl>

<dl class="method">
<dt id="parcels.particleset.ParticleSet.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>with_particles=True</em>, <em>show_time=None</em>, <em>field=None</em>, <em>domain=None</em>, <em>projection=None</em>, <em>land=True</em>, <em>vmin=None</em>, <em>vmax=None</em>, <em>savefile=None</em>, <em>animation=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particleset.html#ParticleSet.show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particleset.ParticleSet.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to ‘show’ a Parcels ParticleSet</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>with_particles</strong> – Boolean whether to show particles</li>
<li><strong>show_time</strong> – Time at which to show the ParticleSet</li>
<li><strong>field</strong> – Field to plot under particles (either None, a Field object, or ‘vector’)</li>
<li><strong>domain</strong> – dictionary (with keys ‘N’, ‘S’, ‘E’, ‘W’) defining domain to show</li>
<li><strong>projection</strong> – type of cartopy projection to use (default PlateCarree)</li>
<li><strong>land</strong> – Boolean whether to show land. This is ignored for flat meshes</li>
<li><strong>vmin</strong> – minimum colour scale (only in single-plot mode)</li>
<li><strong>vmax</strong> – maximum colour scale (only in single-plot mode)</li>
<li><strong>savefile</strong> – Name of a file to save the plot to</li>
<li><strong>animation</strong> – Boolean whether result is a single plot, or an animation</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-parcels.fieldset">
<span id="parcels-fieldset-module"></span><h2>parcels.fieldset module<a class="headerlink" href="#module-parcels.fieldset" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="parcels.fieldset.FieldSet">
<em class="property">class </em><code class="descclassname">parcels.fieldset.</code><code class="descname">FieldSet</code><span class="sig-paren">(</span><em>U</em>, <em>V</em>, <em>fields=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>FieldSet class that holds hydrodynamic data needed to execute particles</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>U</strong> – <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object for zonal velocity component</li>
<li><strong>V</strong> – <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object for meridional velocity component</li>
<li><strong>fields</strong> – Dictionary of additional <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> objects</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="parcels.fieldset.FieldSet.add_constant">
<code class="descname">add_constant</code><span class="sig-paren">(</span><em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.add_constant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.add_constant" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a constant to the FieldSet. Note that all constants are
stored as 32-bit floats. While constants can be updated during
execution in SciPy mode, they can not be updated in JIT mode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – Name of the constant</li>
<li><strong>value</strong> – Value of the constant (stored as 32-bit float)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="parcels.fieldset.FieldSet.add_field">
<code class="descname">add_field</code><span class="sig-paren">(</span><em>field</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.add_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.add_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object to the FieldSet</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>field</strong> – <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object to be added</li>
<li><strong>name</strong> – Name of the <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> object to be added</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="parcels.fieldset.FieldSet.add_periodic_halo">
<code class="descname">add_periodic_halo</code><span class="sig-paren">(</span><em>zonal=False</em>, <em>meridional=False</em>, <em>halosize=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.add_periodic_halo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.add_periodic_halo" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a ‘halo’ to all <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> objects in a FieldSet,
through extending the Field (and lon/lat) by copying a small portion
of the field on one side of the domain to the other.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>zonal</strong> – Create a halo in zonal direction (boolean)</li>
<li><strong>meridional</strong> – Create a halo in meridional direction (boolean)</li>
<li><strong>halosize</strong> – size of the halo (in grid points). Default is 5 grid points</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="parcels.fieldset.FieldSet.add_vector_field">
<code class="descname">add_vector_field</code><span class="sig-paren">(</span><em>vfield</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.add_vector_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.add_vector_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a <a class="reference internal" href="#parcels.field.VectorField" title="parcels.field.VectorField"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.VectorField</span></code></a> object to the FieldSet</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vfield</strong> – <a class="reference internal" href="#parcels.field.VectorField" title="parcels.field.VectorField"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.VectorField</span></code></a> object to be added</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="parcels.fieldset.FieldSet.advancetime">
<code class="descname">advancetime</code><span class="sig-paren">(</span><em>fieldset_new</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.advancetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.advancetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace oldest time on FieldSet with new FieldSet
:param fieldset_new: FieldSet snapshot with which the oldest time has to be replaced</p>
</dd></dl>

<dl class="method">
<dt id="parcels.fieldset.FieldSet.computeTimeChunk">
<code class="descname">computeTimeChunk</code><span class="sig-paren">(</span><em>time</em>, <em>dt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.computeTimeChunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.computeTimeChunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a chunk of three data time steps into the FieldSet.
This is used when FieldSet uses data imported from netcdf,
with default option deferred_load. The loaded time steps are at or immediatly before time
and the two time steps immediately following time if dt is positive (and inversely for negative dt)
:param time: Time around which the FieldSet chunks are to be loaded. Time is provided as a double, relatively to Fieldset.time_origin
:param dt: time step of the integration scheme</p>
</dd></dl>

<dl class="classmethod">
<dt id="parcels.fieldset.FieldSet.from_b_grid_dataset">
<em class="property">classmethod </em><code class="descname">from_b_grid_dataset</code><span class="sig-paren">(</span><em>filenames</em>, <em>variables</em>, <em>dimensions</em>, <em>indices=None</em>, <em>mesh='spherical'</em>, <em>allow_time_extrapolation=None</em>, <em>time_periodic=False</em>, <em>tracer_interp_method='bgrid_tracer'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_b_grid_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_b_grid_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises FieldSet object from NetCDF files of Bgrid fields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filenames</strong> – Dictionary mapping variables to file(s). The
filepath may contain wildcards to indicate multiple files,
or be a list of file.
filenames can be a list [files], a dictionary {var:[files]},
a dictionary {dim:[files]} (if lon, lat, depth and/or data not stored in same files as data),
or a dictionary of dictionaries {var:{dim:[files]}}
time values are in filenames[data]</li>
<li><strong>variables</strong> – Dictionary mapping variables to variable
names in the netCDF file(s).</li>
<li><strong>dimensions</strong> – <p>Dictionary mapping data dimensions (lon,
lat, depth, time, data) to dimensions in the netCF file(s).
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable.
U and V velocity nodes are not located as W velocity and T tracer nodes (see <a class="reference external" href="http://www.cesm.ucar.edu/models/cesm1.0/pop2/doc/sci/POPRefManual.pdf">http://www.cesm.ucar.edu/models/cesm1.0/pop2/doc/sci/POPRefManual.pdf</a> ).
U[k,j+1,i],V[k,j+1,i] ____________________U[k,j+1,i+1],V[k,j+1,i+1]
|                                         |
|      W[k:k+2,j+1,i+1],T[k,j+1,i+1]      |
|                                         |
U[k,j,i],V[k,j,i] ________________________U[k,j,i+1],V[k,j,i+1]
In 2D: U and V nodes are on the cell vertices and interpolated bilinearly as a A-grid.</p>
<blockquote>
<div>T node is at the cell centre and interpolated constant per cell as a C-grid.</div></blockquote>
<dl class="docutils">
<dt>In 3D: U and V nodes are at the midlle of the cell vertical edges,</dt>
<dd>They are interpolated bilinearly (independently of z) in the cell.
W nodes are at the centre of the horizontal interfaces.
They are interpolated linearly (as a function of z) in the cell.
T node is at the cell centre, and constant per cell.</dd>
</dl>
</li>
<li><strong>indices</strong> – Optional dictionary of indices for each dimension
to read from file(s), to allow for reading of subset of data.
Default is to read the full extent of each dimension.
Note that negative indices are not allowed.</li>
<li><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</li>
<li><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic">
<li>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</li>
<li>flat: No conversion, lat/lon are assumed to be in m.</li>
</ol>
</li>
<li><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</li>
<li><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</li>
<li><strong>tracer_interp_method</strong> – Method for interpolation of tracer fields. It is recommended to use ‘bgrid_tracer’ (default)
Note that in the case of from_pop() and from_bgrid(), the velocity fields are default to ‘bgrid_velocity’</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="parcels.fieldset.FieldSet.from_c_grid_dataset">
<em class="property">classmethod </em><code class="descname">from_c_grid_dataset</code><span class="sig-paren">(</span><em>filenames</em>, <em>variables</em>, <em>dimensions</em>, <em>indices=None</em>, <em>mesh='spherical'</em>, <em>allow_time_extrapolation=None</em>, <em>time_periodic=False</em>, <em>tracer_interp_method='cgrid_tracer'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_c_grid_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_c_grid_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises FieldSet object from NetCDF files of Curvilinear NEMO fields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filenames</strong> – Dictionary mapping variables to file(s). The
filepath may contain wildcards to indicate multiple files,
or be a list of file.
filenames can be a list [files], a dictionary {var:[files]},
a dictionary {dim:[files]} (if lon, lat, depth and/or data not stored in same files as data),
or a dictionary of dictionaries {var:{dim:[files]}}
time values are in filenames[data]</li>
<li><strong>variables</strong> – Dictionary mapping variables to variable
names in the netCDF file(s).</li>
<li><strong>dimensions</strong> – <p>Dictionary mapping data dimensions (lon,
lat, depth, time, data) to dimensions in the netCF file(s).
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable.
Watch out: NEMO is discretised on a C-grid:
U and V velocities are not located on the same nodes (see <a class="reference external" href="https://www.nemo-ocean.eu/doc/node19.html">https://www.nemo-ocean.eu/doc/node19.html</a> ).</p>
<blockquote>
<div>_________________V[k,j+1,i+1]________________</div></blockquote>
<div class="line-block">
<div class="line"><a href="#id1"><span class="problematic" id="id2">|</span></a></div>
<div class="line"><a href="#id3"><span class="problematic" id="id4">|</span></a></div>
</div>
<p>U[k,j+1,i]   W[k:k+2,j+1,i+1], T[k,j+1,i+1]   U[k,j+1,i+1]
|                                             |
|                                             |
<a href="#id12"><span class="problematic" id="id13">|_________________V[k,j,i+1]__________________|</span></a>
To interpolate U, V velocities on the C-grid, Parcels needs to read the f-nodes,
which are located on the corners of the cells.
(for indexing details: <a class="reference external" href="https://www.nemo-ocean.eu/doc/img360.png">https://www.nemo-ocean.eu/doc/img360.png</a> )
In 3D, the depth is the one corresponding to W nodes</p>
</li>
<li><strong>indices</strong> – Optional dictionary of indices for each dimension
to read from file(s), to allow for reading of subset of data.
Default is to read the full extent of each dimension.
Note that negative indices are not allowed.</li>
<li><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</li>
<li><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic">
<li>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</li>
<li>flat: No conversion, lat/lon are assumed to be in m.</li>
</ol>
</li>
<li><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</li>
<li><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</li>
<li><strong>tracer_interp_method</strong> – Method for interpolation of tracer fields. It is recommended to use ‘cgrid_tracer’ (default)
Note that in the case of from_nemo() and from_cgrid(), the velocity fields are default to ‘cgrid_velocity’</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="parcels.fieldset.FieldSet.from_data">
<em class="property">classmethod </em><code class="descname">from_data</code><span class="sig-paren">(</span><em>data</em>, <em>dimensions</em>, <em>transpose=False</em>, <em>mesh='spherical'</em>, <em>allow_time_extrapolation=None</em>, <em>time_periodic=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise FieldSet object from raw data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – <p>Dictionary mapping field names to numpy arrays.
Note that at least a ‘U’ and ‘V’ numpy array need to be given, and that
the built-in Advection kernels assume that U and V are in m/s</p>
<ol class="arabic">
<li>If data shape is [xdim, ydim], [xdim, ydim, zdim], [xdim, ydim, tdim] or [xdim, ydim, zdim, tdim],
whichever is relevant for the dataset, use the flag transpose=True</li>
<li>If data shape is [ydim, xdim], [zdim, ydim, xdim], [tdim, ydim, xdim] or [tdim, zdim, ydim, xdim],
use the flag transpose=False (default value)</li>
<li>If data has any other shape, you first need to reorder it</li>
</ol>
</li>
<li><strong>dimensions</strong> – Dictionary mapping field dimensions (lon,
lat, depth, time) to numpy arrays.
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable
(e.g. dimensions[‘U’], dimensions[‘V’], etc).</li>
<li><strong>transpose</strong> – Boolean whether to transpose data on read-in</li>
<li><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation, see also <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb">https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb</a>:</p>
<ol class="arabic">
<li>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</li>
<li>flat: No conversion, lat/lon are assumed to be in m.</li>
</ol>
</li>
<li><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</li>
<li><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="parcels.fieldset.FieldSet.from_nemo">
<em class="property">classmethod </em><code class="descname">from_nemo</code><span class="sig-paren">(</span><em>filenames</em>, <em>variables</em>, <em>dimensions</em>, <em>indices=None</em>, <em>mesh='spherical'</em>, <em>allow_time_extrapolation=None</em>, <em>time_periodic=False</em>, <em>tracer_interp_method='cgrid_tracer'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_nemo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_nemo" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises FieldSet object from NetCDF files of Curvilinear NEMO fields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filenames</strong> – Dictionary mapping variables to file(s). The
filepath may contain wildcards to indicate multiple files,
or be a list of file.
filenames can be a list [files], a dictionary {var:[files]},
a dictionary {dim:[files]} (if lon, lat, depth and/or data not stored in same files as data),
or a dictionary of dictionaries {var:{dim:[files]}}
time values are in filenames[data]</li>
<li><strong>variables</strong> – Dictionary mapping variables to variable names in the netCDF file(s).
Note that the built-in Advection kernels assume that U and V are in m/s</li>
<li><strong>dimensions</strong> – <p>Dictionary mapping data dimensions (lon,
lat, depth, time, data) to dimensions in the netCF file(s).
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable.
Watch out: NEMO is discretised on a C-grid:
U and V velocities are not located on the same nodes (see <a class="reference external" href="https://www.nemo-ocean.eu/doc/node19.html">https://www.nemo-ocean.eu/doc/node19.html</a> ).</p>
<blockquote>
<div>_________________V[k,j+1,i+1]________________</div></blockquote>
<div class="line-block">
<div class="line"><a href="#id5"><span class="problematic" id="id6">|</span></a></div>
<div class="line"><a href="#id7"><span class="problematic" id="id8">|</span></a></div>
</div>
<p>U[k,j+1,i]   W[k:k+2,j+1,i+1], T[k,j+1,i+1]   U[k,j+1,i+1]
|                                             |
|                                             |
<a href="#id14"><span class="problematic" id="id15">|_________________V[k,j,i+1]__________________|</span></a>
To interpolate U, V velocities on the C-grid, Parcels needs to read the f-nodes,
which are located on the corners of the cells.
(for indexing details: <a class="reference external" href="https://www.nemo-ocean.eu/doc/img360.png">https://www.nemo-ocean.eu/doc/img360.png</a> )
In 3D, the depth is the one corresponding to W nodes</p>
</li>
<li><strong>indices</strong> – Optional dictionary of indices for each dimension
to read from file(s), to allow for reading of subset of data.
Default is to read the full extent of each dimension.
Note that negative indices are not allowed.</li>
<li><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</li>
<li><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation, see also <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb">https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb</a>:</p>
<ol class="arabic">
<li>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</li>
<li>flat: No conversion, lat/lon are assumed to be in m.</li>
</ol>
</li>
<li><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</li>
<li><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</li>
<li><strong>tracer_interp_method</strong> – Method for interpolation of tracer fields. It is recommended to use ‘cgrid_tracer’ (default)
Note that in the case of from_nemo() and from_cgrid(), the velocity fields are default to ‘cgrid_velocity’</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="parcels.fieldset.FieldSet.from_netcdf">
<em class="property">classmethod </em><code class="descname">from_netcdf</code><span class="sig-paren">(</span><em>filenames</em>, <em>variables</em>, <em>dimensions</em>, <em>indices=None</em>, <em>fieldtype=None</em>, <em>mesh='spherical'</em>, <em>timestamps=None</em>, <em>allow_time_extrapolation=None</em>, <em>time_periodic=False</em>, <em>deferred_load=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_netcdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_netcdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises FieldSet object from NetCDF files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filenames</strong> – Dictionary mapping variables to file(s). The
filepath may contain wildcards to indicate multiple files
or be a list of file.
filenames can be a list [files], a dictionary {var:[files]},
a dictionary {dim:[files]} (if lon, lat, depth and/or data not stored in same files as data),
or a dictionary of dictionaries {var:{dim:[files]}}.
time values are in filenames[data]</li>
<li><strong>variables</strong> – Dictionary mapping variables to variable names in the netCDF file(s).
Note that the built-in Advection kernels assume that U and V are in m/s</li>
<li><strong>dimensions</strong> – Dictionary mapping data dimensions (lon,
lat, depth, time, data) to dimensions in the netCF file(s).
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable
(e.g. dimensions[‘U’], dimensions[‘V’], etc).</li>
<li><strong>indices</strong> – Optional dictionary of indices for each dimension
to read from file(s), to allow for reading of subset of data.
Default is to read the full extent of each dimension.
Note that negative indices are not allowed.</li>
<li><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</li>
<li><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation, see also <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb">https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb</a>:</p>
<ol class="arabic">
<li>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</li>
<li>flat: No conversion, lat/lon are assumed to be in m.</li>
</ol>
</li>
<li><strong>timestamps</strong> – list of lists or array of arrays containing the timestamps for
each of the files in filenames. Outer list/array corresponds to files, inner
array corresponds to indices within files.
Default is None if dimensions includes time.</li>
<li><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</li>
<li><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</li>
<li><strong>deferred_load</strong> – boolean whether to only pre-load data (in deferred mode) or
fully load them (default: True). It is advised to deferred load the data, since in
that case Parcels deals with a better memory management during particle set execution.
deferred_load=False is however sometimes necessary for plotting the fields.</li>
<li><strong>field_chunksize</strong> – size of the chunks in dask loading</li>
<li><strong>netcdf_engine</strong> – engine to use for netcdf reading in xarray. Default is ‘netcdf’,
but in cases where this doesn’t work, setting netcdf_engine=’scipy’ could help</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="parcels.fieldset.FieldSet.from_parcels">
<em class="property">classmethod </em><code class="descname">from_parcels</code><span class="sig-paren">(</span><em>basename</em>, <em>uvar='vozocrtx'</em>, <em>vvar='vomecrty'</em>, <em>indices=None</em>, <em>extra_fields=None</em>, <em>allow_time_extrapolation=None</em>, <em>time_periodic=False</em>, <em>deferred_load=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_parcels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_parcels" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises FieldSet data from NetCDF files using the Parcels FieldSet.write() conventions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>basename</strong> – Base name of the file(s); may contain
wildcards to indicate multiple files.</li>
<li><strong>indices</strong> – Optional dictionary of indices for each dimension
to read from file(s), to allow for reading of subset of data.
Default is to read the full extent of each dimension.
Note that negative indices are not allowed.</li>
<li><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</li>
<li><strong>extra_fields</strong> – Extra fields to read beyond U and V</li>
<li><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</li>
<li><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</li>
<li><strong>deferred_load</strong> – boolean whether to only pre-load data (in deferred mode) or
fully load them (default: True). It is advised to deferred load the data, since in
that case Parcels deals with a better memory management during particle set execution.
deferred_load=False is however sometimes necessary for plotting the fields.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="parcels.fieldset.FieldSet.from_pop">
<em class="property">classmethod </em><code class="descname">from_pop</code><span class="sig-paren">(</span><em>filenames</em>, <em>variables</em>, <em>dimensions</em>, <em>indices=None</em>, <em>mesh='spherical'</em>, <em>allow_time_extrapolation=None</em>, <em>time_periodic=False</em>, <em>tracer_interp_method='bgrid_tracer'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_pop" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Initialises FieldSet object from NetCDF files of POP fields.</dt>
<dd>It is assumed that the velocities in the POP fields is in cm/s.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filenames</strong> – Dictionary mapping variables to file(s). The
filepath may contain wildcards to indicate multiple files,
or be a list of file.
filenames can be a list [files], a dictionary {var:[files]},
a dictionary {dim:[files]} (if lon, lat, depth and/or data not stored in same files as data),
or a dictionary of dictionaries {var:{dim:[files]}}
time values are in filenames[data]</li>
<li><strong>variables</strong> – Dictionary mapping variables to variable names in the netCDF file(s).
Note that the built-in Advection kernels assume that U and V are in m/s</li>
<li><strong>dimensions</strong> – <p>Dictionary mapping data dimensions (lon,
lat, depth, time, data) to dimensions in the netCF file(s).
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable.
Watch out: POP is discretised on a B-grid:
U and V velocity nodes are not located as W velocity and T tracer nodes (see <a class="reference external" href="http://www.cesm.ucar.edu/models/cesm1.0/pop2/doc/sci/POPRefManual.pdf">http://www.cesm.ucar.edu/models/cesm1.0/pop2/doc/sci/POPRefManual.pdf</a> ).
U[k,j+1,i],V[k,j+1,i] ____________________U[k,j+1,i+1],V[k,j+1,i+1]
|                                         |
|      W[k:k+2,j+1,i+1],T[k,j+1,i+1]      |
|                                         |
U[k,j,i],V[k,j,i] ________________________U[k,j,i+1],V[k,j,i+1]
In 2D: U and V nodes are on the cell vertices and interpolated bilinearly as a A-grid.</p>
<blockquote>
<div>T node is at the cell centre and interpolated constant per cell as a C-grid.</div></blockquote>
<dl class="docutils">
<dt>In 3D: U and V nodes are at the midlle of the cell vertical edges,</dt>
<dd>They are interpolated bilinearly (independently of z) in the cell.
W nodes are at the centre of the horizontal interfaces.
They are interpolated linearly (as a function of z) in the cell.
T node is at the cell centre, and constant per cell.</dd>
</dl>
</li>
<li><strong>indices</strong> – Optional dictionary of indices for each dimension
to read from file(s), to allow for reading of subset of data.
Default is to read the full extent of each dimension.
Note that negative indices are not allowed.</li>
<li><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</li>
<li><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation, see also <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb">https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb</a>:</p>
<ol class="arabic">
<li>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</li>
<li>flat: No conversion, lat/lon are assumed to be in m.</li>
</ol>
</li>
<li><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</li>
<li><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</li>
<li><strong>tracer_interp_method</strong> – Method for interpolation of tracer fields. It is recommended to use ‘bgrid_tracer’ (default)
Note that in the case of from_pop() and from_bgrid(), the velocity fields are default to ‘bgrid_velocity’</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="parcels.fieldset.FieldSet.from_xarray_dataset">
<em class="property">classmethod </em><code class="descname">from_xarray_dataset</code><span class="sig-paren">(</span><em>ds</em>, <em>variables</em>, <em>dimensions</em>, <em>indices=None</em>, <em>mesh='spherical'</em>, <em>allow_time_extrapolation=None</em>, <em>time_periodic=False</em>, <em>deferred_load=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.from_xarray_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.from_xarray_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises FieldSet data from xarray Datasets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ds</strong> – xarray Dataset.
Note that the built-in Advection kernels assume that U and V are in m/s</li>
<li><strong>variables</strong> – Dictionary mapping parcels variable names to data variables in the xarray Dataset.</li>
<li><strong>dimensions</strong> – Dictionary mapping data dimensions (lon,
lat, depth, time, data) to dimensions in the xarray Dataset.
Note that dimensions can also be a dictionary of dictionaries if
dimension names are different for each variable
(e.g. dimensions[‘U’], dimensions[‘V’], etc).</li>
<li><strong>indices</strong> – Optional dictionary of indices for each dimension
to read from file(s), to allow for reading of subset of data.
Default is to read the full extent of each dimension.</li>
<li><strong>fieldtype</strong> – Optional dictionary mapping fields to fieldtypes to be used for UnitConverter.
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</li>
<li><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation, see also <a class="reference external" href="https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb">https://nbviewer.jupyter.org/github/OceanParcels/parcels/blob/master/parcels/examples/tutorial_unitconverters.ipynb</a>:</p>
<ol class="arabic">
<li>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</li>
<li>flat: No conversion, lat/lon are assumed to be in m.</li>
</ol>
</li>
<li><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</li>
<li><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object). (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</li>
<li><strong>deferred_load</strong> – boolean whether to only pre-load data (in deferred mode) or
fully load them (default: True). It is advised to deferred load the data, since in
that case Parcels deals with a better memory management during particle set execution.
deferred_load=False is however sometimes necessary for plotting the fields.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="parcels.fieldset.FieldSet.get_fields">
<code class="descname">get_fields</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.get_fields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.get_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all the <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.Field</span></code></a> and <a class="reference internal" href="#parcels.field.VectorField" title="parcels.field.VectorField"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.field.VectorField</span></code></a>
objects associated with this FieldSet</p>
</dd></dl>

<dl class="method">
<dt id="parcels.fieldset.FieldSet.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/fieldset.html#FieldSet.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.fieldset.FieldSet.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write FieldSet to NetCDF file using NEMO convention</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> – Basename of the output fileset</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-parcels.field">
<span id="parcels-field-module"></span><h2>parcels.field module<a class="headerlink" href="#module-parcels.field" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="parcels.field.Field">
<em class="property">class </em><code class="descclassname">parcels.field.</code><code class="descname">Field</code><span class="sig-paren">(</span><em>name</em>, <em>data</em>, <em>lon=None</em>, <em>lat=None</em>, <em>depth=None</em>, <em>time=None</em>, <em>grid=None</em>, <em>mesh='flat'</em>, <em>timestamps=None</em>, <em>fieldtype=None</em>, <em>transpose=False</em>, <em>vmin=None</em>, <em>vmax=None</em>, <em>time_origin=None</em>, <em>interp_method='linear'</em>, <em>allow_time_extrapolation=None</em>, <em>time_periodic=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.Field" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that encapsulates access to field data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – Name of the field</li>
<li><strong>data</strong> – <p>2D, 3D or 4D numpy array of field data.</p>
<ol class="arabic">
<li>If data shape is [xdim, ydim], [xdim, ydim, zdim], [xdim, ydim, tdim] or [xdim, ydim, zdim, tdim],
whichever is relevant for the dataset, use the flag transpose=True</li>
<li>If data shape is [ydim, xdim], [zdim, ydim, xdim], [tdim, ydim, xdim] or [tdim, zdim, ydim, xdim],
use the flag transpose=False</li>
<li>If data has any other shape, you first need to reorder it</li>
</ol>
</li>
<li><strong>lon</strong> – Longitude coordinates (numpy vector or array) of the field (only if grid is None)</li>
<li><strong>lat</strong> – Latitude coordinates (numpy vector or array) of the field (only if grid is None)</li>
<li><strong>depth</strong> – Depth coordinates (numpy vector or array) of the field (only if grid is None)</li>
<li><strong>time</strong> – Time coordinates (numpy vector) of the field (only if grid is None)</li>
<li><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation: (only if grid is None)</p>
<ol class="arabic">
<li>spherical: Lat and lon in degree, with a
correction for zonal velocity U near the poles.</li>
<li>flat (default): No conversion, lat/lon are assumed to be in m.</li>
</ol>
</li>
<li><strong>timestamps</strong> – A numpy array containing the timestamps for each of the files in filenames, for loading
from netCDF files only. Default is None if the netCDF dimensions dictionary includes time.</li>
<li><strong>grid</strong> – <a class="reference internal" href="#parcels.grid.Grid" title="parcels.grid.Grid"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.grid.Grid</span></code></a> object containing all the lon, lat depth, time
mesh and time_origin information. Can be constructed from any of the Grid objects</li>
<li><strong>fieldtype</strong> – Type of Field to be used for UnitConverter when using SummedFields
(either ‘U’, ‘V’, ‘Kh_zonal’, ‘Kh_meridional’ or None)</li>
<li><strong>transpose</strong> – Transpose data to required (lon, lat) layout</li>
<li><strong>vmin</strong> – Minimum allowed value on the field. Data below this value are set to zero</li>
<li><strong>vmax</strong> – Maximum allowed value on the field. Data above this value are set to zero</li>
<li><strong>time_origin</strong> – Time origin (TimeConverter object) of the time axis (only if grid is None)</li>
<li><strong>interp_method</strong> – Method for interpolation. Either ‘linear’ or ‘nearest’</li>
<li><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation in time
(i.e. beyond the last available time snapshot)</li>
<li><strong>time_periodic</strong> – To loop periodically over the time component of the Field. It is set to either False or the length of the period (either float in seconds or datetime.timedelta object).
The last value of the time series can be provided (which is the same as the initial one) or not (Default: False)
This flag overrides the allow_time_interpolation and sets it to False</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="parcels.field.Field.add_periodic_halo">
<code class="descname">add_periodic_halo</code><span class="sig-paren">(</span><em>zonal</em>, <em>meridional</em>, <em>halosize=5</em>, <em>data=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.add_periodic_halo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.Field.add_periodic_halo" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a ‘halo’ to all Fields in a FieldSet, through extending the Field (and lon/lat)
by copying a small portion of the field on one side of the domain to the other.
Before adding a periodic halo to the Field, it has to be added to the Grid on which the Field depends</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>zonal</strong> – Create a halo in zonal direction (boolean)</li>
<li><strong>meridional</strong> – Create a halo in meridional direction (boolean)</li>
<li><strong>halosize</strong> – size of the halo (in grid points). Default is 5 grid points</li>
<li><strong>data</strong> – if data is not None, the periodic halo will be achieved on data instead of self.data and data will be returned</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="parcels.field.Field.calc_cell_edge_sizes">
<code class="descname">calc_cell_edge_sizes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.calc_cell_edge_sizes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.Field.calc_cell_edge_sizes" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to calculate cell sizes based on numpy.gradient method
Currently only works for Rectilinear Grids</p>
</dd></dl>

<dl class="method">
<dt id="parcels.field.Field.cell_areas">
<code class="descname">cell_areas</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.cell_areas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.Field.cell_areas" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to calculate cell sizes based on cell_edge_sizes
Currently only works for Rectilinear Grids</p>
</dd></dl>

<dl class="attribute">
<dt id="parcels.field.Field.ctypes_struct">
<code class="descname">ctypes_struct</code><a class="headerlink" href="#parcels.field.Field.ctypes_struct" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a ctypes struct object containing all relevant
pointers and sizes for this field.</p>
</dd></dl>

<dl class="method">
<dt id="parcels.field.Field.depth_index">
<code class="descname">depth_index</code><span class="sig-paren">(</span><em>depth</em>, <em>lat</em>, <em>lon</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.depth_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.Field.depth_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the index in the depth array associated with a given depth</p>
</dd></dl>

<dl class="method">
<dt id="parcels.field.Field.eval">
<code class="descname">eval</code><span class="sig-paren">(</span><em>time</em>, <em>z</em>, <em>y</em>, <em>x</em>, <em>applyConversion=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.eval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.Field.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate field values in space and time.</p>
<p>We interpolate linearly in time and apply implicit unit
conversion to the result. Note that we defer to
scipy.interpolate to perform spatial interpolation.</p>
</dd></dl>

<dl class="classmethod">
<dt id="parcels.field.Field.from_netcdf">
<em class="property">classmethod </em><code class="descname">from_netcdf</code><span class="sig-paren">(</span><em>filenames</em>, <em>variable</em>, <em>dimensions</em>, <em>indices=None</em>, <em>grid=None</em>, <em>mesh='spherical'</em>, <em>timestamps=None</em>, <em>allow_time_extrapolation=None</em>, <em>time_periodic=False</em>, <em>deferred_load=True</em>, <em>field_chunksize='auto'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.from_netcdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.Field.from_netcdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create field from netCDF file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filenames</strong> – list of filenames to read for the field. filenames can be a list [files] or
a dictionary {dim:[files]} (if lon, lat, depth and/or data not stored in same files as data)
In the latetr case, time values are in filenames[data]</li>
<li><strong>variable</strong> – Tuple mapping field name to variable name in the NetCDF file.</li>
<li><strong>dimensions</strong> – Dictionary mapping variable names for the relevant dimensions in the NetCDF file</li>
<li><strong>indices</strong> – dictionary mapping indices for each dimension to read from file.
This can be used for reading in only a subregion of the NetCDF file.
Note that negative indices are not allowed.</li>
<li><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic">
<li>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</li>
<li>flat: No conversion, lat/lon are assumed to be in m.</li>
</ol>
</li>
<li><strong>timestamps</strong> – A numpy array of datetime64 objects containing the timestamps for each of the files in filenames.
Default is None if dimensions includes time.</li>
<li><strong>allow_time_extrapolation</strong> – boolean whether to allow for extrapolation in time
(i.e. beyond the last available time snapshot)
Default is False if dimensions includes time, else True</li>
<li><strong>time_periodic</strong> – boolean whether to loop periodically over the time component of the FieldSet
This flag overrides the allow_time_interpolation and sets it to False</li>
<li><strong>deferred_load</strong> – boolean whether to only pre-load data (in deferred mode) or
fully load them (default: True). It is advised to deferred load the data, since in
that case Parcels deals with a better memory management during particle set execution.
deferred_load=False is however sometimes necessary for plotting the fields.</li>
<li><strong>field_chunksize</strong> – size of the chunks in dask loading</li>
<li><strong>netcdf_engine</strong> – engine to use for netcdf reading in xarray. Default is ‘netcdf’,
but in cases where this doesn’t work, setting netcdf_engine=’scipy’ could help</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="parcels.field.Field.set_scaling_factor">
<code class="descname">set_scaling_factor</code><span class="sig-paren">(</span><em>factor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.set_scaling_factor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.Field.set_scaling_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales the field data by some constant factor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>factor</strong> – scaling factor</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="parcels.field.Field.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>animation=False</em>, <em>show_time=None</em>, <em>domain=None</em>, <em>depth_level=0</em>, <em>projection=None</em>, <em>land=True</em>, <em>vmin=None</em>, <em>vmax=None</em>, <em>savefile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.Field.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to ‘show’ a Parcels Field</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>animation</strong> – Boolean whether result is a single plot, or an animation</li>
<li><strong>show_time</strong> – Time at which to show the Field (only in single-plot mode)</li>
<li><strong>domain</strong> – dictionary (with keys ‘N’, ‘S’, ‘E’, ‘W’) defining domain to show</li>
<li><strong>depth_level</strong> – depth level to be plotted (default 0)</li>
<li><strong>projection</strong> – type of cartopy projection to use (default PlateCarree)</li>
<li><strong>land</strong> – Boolean whether to show land. This is ignored for flat meshes</li>
<li><strong>vmin</strong> – minimum colour scale (only in single-plot mode)</li>
<li><strong>vmax</strong> – maximum colour scale (only in single-plot mode)</li>
<li><strong>savefile</strong> – Name of a file to save the plot to</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="parcels.field.Field.spatial_interpolation">
<code class="descname">spatial_interpolation</code><span class="sig-paren">(</span><em>ti</em>, <em>z</em>, <em>y</em>, <em>x</em>, <em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.spatial_interpolation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.Field.spatial_interpolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate horizontal field values using a SciPy interpolator</p>
</dd></dl>

<dl class="method">
<dt id="parcels.field.Field.temporal_interpolate_fullfield">
<code class="descname">temporal_interpolate_fullfield</code><span class="sig-paren">(</span><em>ti</em>, <em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.temporal_interpolate_fullfield"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.Field.temporal_interpolate_fullfield" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the data of a field between two snapshots,
using linear interpolation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ti</strong> – Index in time array associated with time (via <a class="reference internal" href="#parcels.field.Field.time_index" title="parcels.field.Field.time_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">time_index()</span></code></a>)</li>
<li><strong>time</strong> – Time to interpolate to</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Linearly interpolated field</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="parcels.field.Field.time_index">
<code class="descname">time_index</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.time_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.Field.time_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the index in the time array associated with a given time</p>
<p>Note that we normalize to either the first or the last index
if the sampled value is outside the time value range.</p>
</dd></dl>

<dl class="method">
<dt id="parcels.field.Field.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>filename</em>, <em>varname=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#Field.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.Field.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a <a class="reference internal" href="#parcels.field.Field" title="parcels.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code></a> to a netcdf file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> – Basename of the file</li>
<li><strong>varname</strong> – Name of the field, to be appended to the filename</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="parcels.field.VectorField">
<em class="property">class </em><code class="descclassname">parcels.field.</code><code class="descname">VectorField</code><span class="sig-paren">(</span><em>name</em>, <em>U</em>, <em>V</em>, <em>W=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#VectorField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.VectorField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class VectorField stores 2 or 3 fields which defines together a vector field.
This enables to interpolate them as one single vector field in the kernels.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – Name of the vector field</li>
<li><strong>U</strong> – field defining the zonal component</li>
<li><strong>V</strong> – field defining the meridional component</li>
<li><strong>W</strong> – field defining the vertical component (default: None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="parcels.field.VectorField.spatial_c_grid_interpolation3D">
<code class="descname">spatial_c_grid_interpolation3D</code><span class="sig-paren">(</span><em>ti</em>, <em>z</em>, <em>y</em>, <em>x</em>, <em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#VectorField.spatial_c_grid_interpolation3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.VectorField.spatial_c_grid_interpolation3D" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div></div></blockquote>
<div class="line-block">
<div class="line"><a href="#id10"><span class="problematic" id="id11">|</span></a></div>
</div>
<p>U0         U1
| __ V0 __ |
The interpolation is done in the following by
interpolating linearly U depending on the longitude coordinate and
interpolating linearly V depending on the latitude coordinate.
Curvilinear grids are treated properly, since the element is projected to a rectilinear parent element.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="parcels.field.SummedField">
<em class="property">class </em><code class="descclassname">parcels.field.</code><code class="descname">SummedField</code><span class="sig-paren">(</span><em>name</em>, <em>F</em>, <em>V=None</em>, <em>W=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#SummedField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.SummedField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
<p>Class SummedField is a list of Fields over which Field interpolation
is summed. This can e.g. be used when combining multiple flow fields,
where the total flow is the sum of all the individual flows.
Note that the individual Fields can be on different Grids.
Also note that, since SummedFields are lists, the individual Fields can
still be queried through their list index (e.g. SummedField[1]).
SummedField is composed of either Fields or VectorFields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – Name of the SummedField</li>
<li><strong>F</strong> – List of fields. F can be a scalar Field, a VectorField, or the zonal component (U) of the VectorField</li>
<li><strong>V</strong> – List of fields defining the meridional component of a VectorField, if F is the zonal component. (default: None)</li>
<li><strong>W</strong> – List of fields defining the vertical component of a VectorField, if F and V are the zonal and meridional components (default: None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="parcels.field.NestedField">
<em class="property">class </em><code class="descclassname">parcels.field.</code><code class="descname">NestedField</code><span class="sig-paren">(</span><em>name</em>, <em>F</em>, <em>V=None</em>, <em>W=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/field.html#NestedField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.field.NestedField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
<p>Class NestedField is a list of Fields from which the first one to be not declared out-of-boundaries
at particle position is interpolated. This induces that the order of the fields in the list matters.
Each one it its turn, a field is interpolated: if the interpolation succeeds or if an error other
than <cite>ErrorOutOfBounds</cite> is thrown, the function is stopped. Otherwise, next field is interpolated.
NestedField returns an <cite>ErrorOutOfBounds</cite> only if last field is as well out of boundaries.
NestedField is composed of either Fields or VectorFields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – Name of the NestedField</li>
<li><strong>F</strong> – List of fields (order matters). F can be a scalar Field, a VectorField, or the zonal component (U) of the VectorField</li>
<li><strong>V</strong> – List of fields defining the meridional component of a VectorField, if F is the zonal component. (default: None)</li>
<li><strong>W</strong> – List of fields defining the vertical component of a VectorField, if F and V are the zonal and meridional components (default: None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-parcels.gridset">
<span id="parcels-gridset-module"></span><h2>parcels.gridset module<a class="headerlink" href="#module-parcels.gridset" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="parcels.gridset.GridSet">
<em class="property">class </em><code class="descclassname">parcels.gridset.</code><code class="descname">GridSet</code><a class="reference internal" href="_modules/parcels/gridset.html#GridSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.gridset.GridSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>GridSet class that holds the Grids on which the Fields are defined</p>
<dl class="method">
<dt id="parcels.gridset.GridSet.dimrange">
<code class="descname">dimrange</code><span class="sig-paren">(</span><em>dim</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/gridset.html#GridSet.dimrange"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.gridset.GridSet.dimrange" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns maximum value of a dimension (lon, lat, depth or time)
on ‘left’ side and minimum value on ‘right’ side for all grids
in a gridset. Useful for finding e.g. longitude range that
overlaps on all grids in a gridset</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-parcels.grid">
<span id="parcels-grid-module"></span><h2>parcels.grid module<a class="headerlink" href="#module-parcels.grid" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="parcels.grid.GridCode">
<em class="property">class </em><code class="descclassname">parcels.grid.</code><code class="descname">GridCode</code><a class="reference internal" href="_modules/parcels/grid.html#GridCode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.grid.GridCode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.IntEnum</span></code></p>
</dd></dl>

<dl class="class">
<dt id="parcels.grid.RectilinearZGrid">
<em class="property">class </em><code class="descclassname">parcels.grid.</code><code class="descname">RectilinearZGrid</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>depth=None</em>, <em>time=None</em>, <em>time_origin=None</em>, <em>mesh='flat'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/grid.html#RectilinearZGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.grid.RectilinearZGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.grid.RectilinearGrid</span></code></p>
<p>Rectilinear Z Grid</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lon</strong> – Vector containing the longitude coordinates of the grid</li>
<li><strong>lat</strong> – Vector containing the latitude coordinates of the grid</li>
<li><strong>depth</strong> – Vector containing the vertical coordinates of the grid, which are z-coordinates.
The depth of the different layers is thus constant.</li>
<li><strong>time</strong> – Vector containing the time coordinates of the grid</li>
<li><strong>time_origin</strong> – Time origin (TimeConverter object) of the time axis</li>
<li><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic">
<li>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</li>
<li>flat: No conversion, lat/lon are assumed to be in m.</li>
</ol>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="parcels.grid.RectilinearSGrid">
<em class="property">class </em><code class="descclassname">parcels.grid.</code><code class="descname">RectilinearSGrid</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>depth</em>, <em>time=None</em>, <em>time_origin=None</em>, <em>mesh='flat'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/grid.html#RectilinearSGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.grid.RectilinearSGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.grid.RectilinearGrid</span></code></p>
<dl class="docutils">
<dt>Rectilinear S Grid. Same horizontal discretisation as a rectilinear z grid,</dt>
<dd>but with s vertical coordinates</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lon</strong> – Vector containing the longitude coordinates of the grid</li>
<li><strong>lat</strong> – Vector containing the latitude coordinates of the grid</li>
<li><strong>depth</strong> – 4D (time-evolving) or 3D (time-independent) array containing the vertical coordinates of the grid,
which are s-coordinates.
s-coordinates can be terrain-following (sigma) or iso-density (rho) layers,
or any generalised vertical discretisation.
The depth of each node depends then on the horizontal position (lon, lat),
the number of the layer and the time is depth is a 4D array.
depth array is either a 4D array[xdim][ydim][zdim][tdim] or a 3D array[xdim][ydim[zdim].</li>
<li><strong>time</strong> – Vector containing the time coordinates of the grid</li>
<li><strong>time_origin</strong> – Time origin (TimeConverter object) of the time axis</li>
<li><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic">
<li>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</li>
<li>flat: No conversion, lat/lon are assumed to be in m.</li>
</ol>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="parcels.grid.CurvilinearZGrid">
<em class="property">class </em><code class="descclassname">parcels.grid.</code><code class="descname">CurvilinearZGrid</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>depth=None</em>, <em>time=None</em>, <em>time_origin=None</em>, <em>mesh='flat'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/grid.html#CurvilinearZGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.grid.CurvilinearZGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.grid.CurvilinearGrid</span></code></p>
<p>Curvilinear Z Grid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lon</strong> – 2D array containing the longitude coordinates of the grid</li>
<li><strong>lat</strong> – 2D array containing the latitude coordinates of the grid</li>
<li><strong>depth</strong> – Vector containing the vertical coordinates of the grid, which are z-coordinates.
The depth of the different layers is thus constant.</li>
<li><strong>time</strong> – Vector containing the time coordinates of the grid</li>
<li><strong>time_origin</strong> – Time origin (TimeConverter object) of the time axis</li>
<li><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic">
<li>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</li>
<li>flat: No conversion, lat/lon are assumed to be in m.</li>
</ol>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="parcels.grid.CurvilinearSGrid">
<em class="property">class </em><code class="descclassname">parcels.grid.</code><code class="descname">CurvilinearSGrid</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>depth</em>, <em>time=None</em>, <em>time_origin=None</em>, <em>mesh='flat'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/grid.html#CurvilinearSGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.grid.CurvilinearSGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.grid.CurvilinearGrid</span></code></p>
<p>Curvilinear S Grid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lon</strong> – 2D array containing the longitude coordinates of the grid</li>
<li><strong>lat</strong> – 2D array containing the latitude coordinates of the grid</li>
<li><strong>depth</strong> – 4D (time-evolving) or 3D (time-independent) array containing the vertical coordinates of the grid,
which are s-coordinates.
s-coordinates can be terrain-following (sigma) or iso-density (rho) layers,
or any generalised vertical discretisation.
The depth of each node depends then on the horizontal position (lon, lat),
the number of the layer and the time is depth is a 4D array.
depth array is either a 4D array[xdim][ydim][zdim][tdim] or a 3D array[xdim][ydim[zdim].</li>
<li><strong>time</strong> – Vector containing the time coordinates of the grid</li>
<li><strong>time_origin</strong> – Time origin (TimeConverter object) of the time axis</li>
<li><strong>mesh</strong> – <p>String indicating the type of mesh coordinates and
units used during velocity interpolation:</p>
<ol class="arabic">
<li>spherical (default): Lat and lon in degree, with a
correction for zonal velocity U near the poles.</li>
<li>flat: No conversion, lat/lon are assumed to be in m.</li>
</ol>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="parcels.grid.CGrid">
<em class="property">class </em><code class="descclassname">parcels.grid.</code><code class="descname">CGrid</code><a class="reference internal" href="_modules/parcels/grid.html#CGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.grid.CGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_ctypes.Structure</span></code></p>
</dd></dl>

<dl class="class">
<dt id="parcels.grid.Grid">
<em class="property">class </em><code class="descclassname">parcels.grid.</code><code class="descname">Grid</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>time</em>, <em>time_origin</em>, <em>mesh</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/grid.html#Grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.grid.Grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Grid class that defines a (spatial and temporal) grid on which Fields are defined</p>
<dl class="attribute">
<dt id="parcels.grid.Grid.child_ctypes_struct">
<code class="descname">child_ctypes_struct</code><a class="headerlink" href="#parcels.grid.Grid.child_ctypes_struct" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a ctypes struct object containing all relevant
pointers and sizes for this grid.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-parcels.particle">
<span id="parcels-particle-module"></span><h2>parcels.particle module<a class="headerlink" href="#module-parcels.particle" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="parcels.particle.ScipyParticle">
<em class="property">class </em><code class="descclassname">parcels.particle.</code><code class="descname">ScipyParticle</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>pid</em>, <em>fieldset</em>, <em>depth=0.0</em>, <em>time=0.0</em>, <em>cptr=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particle.html#ScipyParticle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particle.ScipyParticle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particle._Particle</span></code></p>
<p>Class encapsulating the basic attributes of a particle,
to be executed in SciPy mode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lon</strong> – Initial longitude of particle</li>
<li><strong>lat</strong> – Initial latitude of particle</li>
<li><strong>depth</strong> – Initial depth of particle</li>
<li><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object to track this particle on</li>
<li><strong>time</strong> – Current time of the particle</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Additional Variables can be added via the :Class Variable: objects</p>
</dd></dl>

<dl class="class">
<dt id="parcels.particle.JITParticle">
<em class="property">class </em><code class="descclassname">parcels.particle.</code><code class="descname">JITParticle</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particle.html#JITParticle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particle.JITParticle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.particle.ScipyParticle" title="parcels.particle.ScipyParticle"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particle.ScipyParticle</span></code></a></p>
<p>Particle class for JIT-based (Just-In-Time) Particle objects</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lon</strong> – Initial longitude of particle</li>
<li><strong>lat</strong> – Initial latitude of particle</li>
<li><strong>fieldset</strong> – <a class="reference internal" href="#parcels.fieldset.FieldSet" title="parcels.fieldset.FieldSet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parcels.fieldset.FieldSet</span></code></a> object to track this particle on</li>
<li><strong>dt</strong> – Execution timestep for this particle</li>
<li><strong>time</strong> – Current time of the particle</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Additional Variables can be added via the :Class Variable: objects</p>
<p>Users should use JITParticles for faster advection computation.</p>
</dd></dl>

<dl class="class">
<dt id="parcels.particle.Variable">
<em class="property">class </em><code class="descclassname">parcels.particle.</code><code class="descname">Variable</code><span class="sig-paren">(</span><em>name</em>, <em>dtype=&lt;type 'numpy.float32'&gt;</em>, <em>initial=0</em>, <em>to_write=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particle.html#Variable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particle.Variable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Descriptor class that delegates data access to particle data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – Variable name as used within kernels</li>
<li><strong>dtype</strong> – Data type (numpy.dtype) of the variable</li>
<li><strong>initial</strong> – Initial value of the variable. Note that this can also be a Field object,
which will then be sampled at the location of the particle</li>
<li><strong>to_write</strong> – Boolean to control whether Variable is written to NetCDF file</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="parcels.particle.Variable.is64bit">
<code class="descname">is64bit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particle.html#Variable.is64bit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particle.Variable.is64bit" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether variable is 64-bit</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-parcels.kernels.advection">
<span id="parcels-kernels-advection-module"></span><h2>parcels.kernels.advection module<a class="headerlink" href="#module-parcels.kernels.advection" title="Permalink to this headline">¶</a></h2>
<p>Collection of pre-built advection kernels</p>
<dl class="function">
<dt id="parcels.kernels.advection.AdvectionRK4">
<code class="descclassname">parcels.kernels.advection.</code><code class="descname">AdvectionRK4</code><span class="sig-paren">(</span><em>particle</em>, <em>fieldset</em>, <em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernels/advection.html#AdvectionRK4"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.kernels.advection.AdvectionRK4" title="Permalink to this definition">¶</a></dt>
<dd><p>Advection of particles using fourth-order Runge-Kutta integration.</p>
<p>Function needs to be converted to Kernel object before execution</p>
</dd></dl>

<dl class="function">
<dt id="parcels.kernels.advection.AdvectionEE">
<code class="descclassname">parcels.kernels.advection.</code><code class="descname">AdvectionEE</code><span class="sig-paren">(</span><em>particle</em>, <em>fieldset</em>, <em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernels/advection.html#AdvectionEE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.kernels.advection.AdvectionEE" title="Permalink to this definition">¶</a></dt>
<dd><p>Advection of particles using Explicit Euler (aka Euler Forward) integration.</p>
<p>Function needs to be converted to Kernel object before execution</p>
</dd></dl>

<dl class="function">
<dt id="parcels.kernels.advection.AdvectionRK45">
<code class="descclassname">parcels.kernels.advection.</code><code class="descname">AdvectionRK45</code><span class="sig-paren">(</span><em>particle</em>, <em>fieldset</em>, <em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernels/advection.html#AdvectionRK45"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.kernels.advection.AdvectionRK45" title="Permalink to this definition">¶</a></dt>
<dd><p>Advection of particles using adadptive Runge-Kutta 4/5 integration.</p>
<p>Times-step dt is halved if error is larger than tolerance, and doubled
if error is smaller than 1/10th of tolerance, with tolerance set to
1e-5 * dt by default.</p>
</dd></dl>

<dl class="function">
<dt id="parcels.kernels.advection.AdvectionRK4_3D">
<code class="descclassname">parcels.kernels.advection.</code><code class="descname">AdvectionRK4_3D</code><span class="sig-paren">(</span><em>particle</em>, <em>fieldset</em>, <em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernels/advection.html#AdvectionRK4_3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.kernels.advection.AdvectionRK4_3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Advection of particles using fourth-order Runge-Kutta integration including vertical velocity.</p>
<p>Function needs to be converted to Kernel object before execution</p>
</dd></dl>

</div>
<div class="section" id="module-parcels.kernels.diffusion">
<span id="parcels-kernels-diffusion-module"></span><h2>parcels.kernels.diffusion module<a class="headerlink" href="#module-parcels.kernels.diffusion" title="Permalink to this headline">¶</a></h2>
<p>Collection of pre-built diffusion kernels</p>
<dl class="function">
<dt id="parcels.kernels.diffusion.BrownianMotion2D">
<code class="descclassname">parcels.kernels.diffusion.</code><code class="descname">BrownianMotion2D</code><span class="sig-paren">(</span><em>particle</em>, <em>fieldset</em>, <em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernels/diffusion.html#BrownianMotion2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.kernels.diffusion.BrownianMotion2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Kernel for simple Brownian particle diffusion in zonal and meridional direction.
Assumes that fieldset has fields Kh_zonal and Kh_meridional</p>
</dd></dl>

<dl class="function">
<dt id="parcels.kernels.diffusion.SpatiallyVaryingBrownianMotion2D">
<code class="descclassname">parcels.kernels.diffusion.</code><code class="descname">SpatiallyVaryingBrownianMotion2D</code><span class="sig-paren">(</span><em>particle</em>, <em>fieldset</em>, <em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernels/diffusion.html#SpatiallyVaryingBrownianMotion2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.kernels.diffusion.SpatiallyVaryingBrownianMotion2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Diffusion equations for particles in non-uniform diffusivity fields
from Ross &amp; Sharples (2004, doi:10.4319/lom.2004.2.289)
and Spagnol et al. (2002, doi:10.3354/meps235299)</p>
</dd></dl>

</div>
<div class="section" id="module-parcels.codegenerator">
<span id="parcels-codegenerator-module"></span><h2>parcels.codegenerator module<a class="headerlink" href="#module-parcels.codegenerator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="parcels.codegenerator.IntrinsicTransformer">
<em class="property">class </em><code class="descclassname">parcels.codegenerator.</code><code class="descname">IntrinsicTransformer</code><span class="sig-paren">(</span><em>fieldset</em>, <em>ptype</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/codegenerator.html#IntrinsicTransformer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.codegenerator.IntrinsicTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.NodeTransformer</span></code></p>
<p>AST transformer that catches any mention of intrinsic variable
names, such as ‘particle’ or ‘fieldset’, inserts placeholder objects
and propagates attribute access.</p>
<dl class="method">
<dt id="parcels.codegenerator.IntrinsicTransformer.get_tmp">
<code class="descname">get_tmp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/codegenerator.html#IntrinsicTransformer.get_tmp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.codegenerator.IntrinsicTransformer.get_tmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new temporary veriable name</p>
</dd></dl>

<dl class="method">
<dt id="parcels.codegenerator.IntrinsicTransformer.visit_Name">
<code class="descname">visit_Name</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/codegenerator.html#IntrinsicTransformer.visit_Name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.codegenerator.IntrinsicTransformer.visit_Name" title="Permalink to this definition">¶</a></dt>
<dd><p>Inject IntrinsicNode objects into the tree according to keyword</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="parcels.codegenerator.KernelGenerator">
<em class="property">class </em><code class="descclassname">parcels.codegenerator.</code><code class="descname">KernelGenerator</code><span class="sig-paren">(</span><em>fieldset</em>, <em>ptype</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/codegenerator.html#KernelGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.codegenerator.KernelGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.NodeVisitor</span></code></p>
<p>Code generator class that translates simple Python kernel
functions into C functions by populating and accessing the <cite>ccode</cite>
attriibute on nodes in the Python AST.</p>
<dl class="method">
<dt id="parcels.codegenerator.KernelGenerator.visit_Call">
<code class="descname">visit_Call</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/codegenerator.html#KernelGenerator.visit_Call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.codegenerator.KernelGenerator.visit_Call" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate C code for simple C-style function calls. Please
note that starred and keyword arguments are currently not
supported.</p>
</dd></dl>

<dl class="method">
<dt id="parcels.codegenerator.KernelGenerator.visit_FieldNode">
<code class="descname">visit_FieldNode</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/codegenerator.html#KernelGenerator.visit_FieldNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.codegenerator.KernelGenerator.visit_FieldNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Record intrinsic fields used in kernel</p>
</dd></dl>

<dl class="method">
<dt id="parcels.codegenerator.KernelGenerator.visit_Name">
<code class="descname">visit_Name</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/codegenerator.html#KernelGenerator.visit_Name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.codegenerator.KernelGenerator.visit_Name" title="Permalink to this definition">¶</a></dt>
<dd><p>Catches any mention of intrinsic variable names, such as
‘particle’ or ‘fieldset’ and inserts our placeholder objects</p>
</dd></dl>

<dl class="method">
<dt id="parcels.codegenerator.KernelGenerator.visit_NestedFieldNode">
<code class="descname">visit_NestedFieldNode</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/codegenerator.html#KernelGenerator.visit_NestedFieldNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.codegenerator.KernelGenerator.visit_NestedFieldNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Record intrinsic fields used in kernel</p>
</dd></dl>

<dl class="method">
<dt id="parcels.codegenerator.KernelGenerator.visit_NestedVectorFieldNode">
<code class="descname">visit_NestedVectorFieldNode</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/codegenerator.html#KernelGenerator.visit_NestedVectorFieldNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.codegenerator.KernelGenerator.visit_NestedVectorFieldNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Record intrinsic fields used in kernel</p>
</dd></dl>

<dl class="method">
<dt id="parcels.codegenerator.KernelGenerator.visit_SummedFieldNode">
<code class="descname">visit_SummedFieldNode</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/codegenerator.html#KernelGenerator.visit_SummedFieldNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.codegenerator.KernelGenerator.visit_SummedFieldNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Record intrinsic fields used in kernel</p>
</dd></dl>

<dl class="method">
<dt id="parcels.codegenerator.KernelGenerator.visit_SummedVectorFieldNode">
<code class="descname">visit_SummedVectorFieldNode</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/codegenerator.html#KernelGenerator.visit_SummedVectorFieldNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.codegenerator.KernelGenerator.visit_SummedVectorFieldNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Record intrinsic fields used in kernel</p>
</dd></dl>

<dl class="method">
<dt id="parcels.codegenerator.KernelGenerator.visit_VectorFieldNode">
<code class="descname">visit_VectorFieldNode</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/codegenerator.html#KernelGenerator.visit_VectorFieldNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.codegenerator.KernelGenerator.visit_VectorFieldNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Record intrinsic fields used in kernel</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="parcels.codegenerator.LoopGenerator">
<em class="property">class </em><code class="descclassname">parcels.codegenerator.</code><code class="descname">LoopGenerator</code><span class="sig-paren">(</span><em>fieldset</em>, <em>ptype=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/codegenerator.html#LoopGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.codegenerator.LoopGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Code generator class that adds type definitions and the outer
loop around kernel functions to generate compilable C code.</p>
</dd></dl>

<dl class="class">
<dt id="parcels.codegenerator.TupleSplitter">
<em class="property">class </em><code class="descclassname">parcels.codegenerator.</code><code class="descname">TupleSplitter</code><a class="reference internal" href="_modules/parcels/codegenerator.html#TupleSplitter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.codegenerator.TupleSplitter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.NodeTransformer</span></code></p>
<p>AST transformer that detects and splits Pythonic tuple
assignments into multiple statements for conversion to C.</p>
</dd></dl>

</div>
<div class="section" id="module-parcels.compiler">
<span id="parcels-compiler-module"></span><h2>parcels.compiler module<a class="headerlink" href="#module-parcels.compiler" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="parcels.compiler.Compiler">
<em class="property">class </em><code class="descclassname">parcels.compiler.</code><code class="descname">Compiler</code><span class="sig-paren">(</span><em>cc=None</em>, <em>cppargs=None</em>, <em>ldargs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/compiler.html#Compiler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.compiler.Compiler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A compiler object for creating and loading shared libraries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cc</strong> – C compiler executable (uses environment variable <code class="docutils literal notranslate"><span class="pre">CC</span></code> if not provided).</li>
<li><strong>cppargs</strong> – A list of arguments to the C compiler (optional).</li>
<li><strong>ldargs</strong> – A list of arguments to the linker (optional).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="parcels.compiler.GNUCompiler">
<em class="property">class </em><code class="descclassname">parcels.compiler.</code><code class="descname">GNUCompiler</code><span class="sig-paren">(</span><em>cppargs=None</em>, <em>ldargs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/compiler.html#GNUCompiler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.compiler.GNUCompiler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.compiler.Compiler" title="parcels.compiler.Compiler"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.compiler.Compiler</span></code></a></p>
<p>A compiler object for the GNU Linux toolchain.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cppargs</strong> – A list of arguments to pass to the C compiler
(optional).</li>
<li><strong>ldargs</strong> – A list of arguments to pass to the linker (optional).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-parcels.kernel">
<span id="parcels-kernel-module"></span><h2>parcels.kernel module<a class="headerlink" href="#module-parcels.kernel" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="parcels.kernel.Kernel">
<em class="property">class </em><code class="descclassname">parcels.kernel.</code><code class="descname">Kernel</code><span class="sig-paren">(</span><em>fieldset</em>, <em>ptype</em>, <em>pyfunc=None</em>, <em>funcname=None</em>, <em>funccode=None</em>, <em>py_ast=None</em>, <em>funcvars=None</em>, <em>c_include=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel.html#Kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.kernel.Kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Kernel object that encapsulates auto-generated code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fieldset</strong> – FieldSet object providing the field information</li>
<li><strong>ptype</strong> – PType object for the kernel particle</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Note: A Kernel is either created from a compiled &lt;function …&gt; object
or the necessary information (funcname, funccode, funcvars) is provided.
The py_ast argument may be derived from the code string, but for
concatenation, the merged AST plus the new header definition is required.</p>
<dl class="method">
<dt id="parcels.kernel.Kernel.compile">
<code class="descname">compile</code><span class="sig-paren">(</span><em>compiler</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel.html#Kernel.compile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.kernel.Kernel.compile" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes kernel code to file and compiles it.</p>
</dd></dl>

<dl class="method">
<dt id="parcels.kernel.Kernel.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>pset</em>, <em>endtime</em>, <em>dt</em>, <em>recovery=None</em>, <em>output_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel.html#Kernel.execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.kernel.Kernel.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute this Kernel over a ParticleSet for several timesteps</p>
</dd></dl>

<dl class="method">
<dt id="parcels.kernel.Kernel.execute_jit">
<code class="descname">execute_jit</code><span class="sig-paren">(</span><em>pset</em>, <em>endtime</em>, <em>dt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel.html#Kernel.execute_jit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.kernel.Kernel.execute_jit" title="Permalink to this definition">¶</a></dt>
<dd><p>Invokes JIT engine to perform the core update loop</p>
</dd></dl>

<dl class="method">
<dt id="parcels.kernel.Kernel.execute_python">
<code class="descname">execute_python</code><span class="sig-paren">(</span><em>pset</em>, <em>endtime</em>, <em>dt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/kernel.html#Kernel.execute_python"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.kernel.Kernel.execute_python" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the core update loop via Python</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-parcels.particlefile">
<span id="parcels-particlefile-module"></span><h2>parcels.particlefile module<a class="headerlink" href="#module-parcels.particlefile" title="Permalink to this headline">¶</a></h2>
<p>Module controlling the writing of ParticleSets to NetCDF file</p>
<dl class="class">
<dt id="parcels.particlefile.ParticleFile">
<em class="property">class </em><code class="descclassname">parcels.particlefile.</code><code class="descname">ParticleFile</code><span class="sig-paren">(</span><em>name</em>, <em>particleset</em>, <em>outputdt=inf</em>, <em>write_ondelete=False</em>, <em>convert_at_end=True</em>, <em>tempwritedir=None</em>, <em>pset_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile.html#ParticleFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particlefile.ParticleFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise trajectory output.
:param name: Basename of the output file
:param particleset: ParticleSet to output
:param outputdt: Interval which dictates the update frequency of file output</p>
<blockquote>
<div>while ParticleFile is given as an argument of ParticleSet.execute()
It is either a timedelta object or a positive double.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>write_ondelete</strong> – Boolean to write particle data only when they are deleted. Default is False</li>
<li><strong>convert_at_end</strong> – Boolean to convert npy files to netcdf at end of run. Default is True</li>
<li><strong>tempwritedir</strong> – directories to write temporary files to during executing.
Default is out-XXXXXX where Xs are random capitals. Files for individual
processors are written to subdirectories 0, 1, 2 etc under tempwritedir</li>
<li><strong>pset_info</strong> – dictionary of info on the ParticleSet, stored in tempwritedir/XX/pset_info.npy,
used to create NetCDF file from npy-files.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="parcels.particlefile.ParticleFile.add_metadata">
<code class="descname">add_metadata</code><span class="sig-paren">(</span><em>name</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile.html#ParticleFile.add_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particlefile.ParticleFile.add_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Add metadata to <a class="reference internal" href="#parcels.particleset.ParticleSet" title="parcels.particleset.ParticleSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.particleset.ParticleSet</span></code></a>
:param name: Name of the metadata variabale
:param message: message to be written</p>
</dd></dl>

<dl class="method">
<dt id="parcels.particlefile.ParticleFile.close">
<code class="descname">close</code><span class="sig-paren">(</span><em>delete_tempfiles=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile.html#ParticleFile.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particlefile.ParticleFile.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the ParticleFile object by exporting and then deleting
the temporary npy files</p>
</dd></dl>

<dl class="method">
<dt id="parcels.particlefile.ParticleFile.convert_pset_to_dict">
<code class="descname">convert_pset_to_dict</code><span class="sig-paren">(</span><em>pset</em>, <em>time</em>, <em>deleted_only=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile.html#ParticleFile.convert_pset_to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particlefile.ParticleFile.convert_pset_to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert all Particle data from one time step to a python dictionary.
:param pset: ParticleSet object to write
:param time: Time at which to write ParticleSet
:param deleted_only: Flag to write only the deleted Particles
returns two dictionaries: one for all variables to be written each outputdt,</p>
<blockquote>
<div>and one for all variables to be written once</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="parcels.particlefile.ParticleFile.delete_tempwritedir">
<code class="descname">delete_tempwritedir</code><span class="sig-paren">(</span><em>tempwritedir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile.html#ParticleFile.delete_tempwritedir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particlefile.ParticleFile.delete_tempwritedir" title="Permalink to this definition">¶</a></dt>
<dd><p>Deleted all temporary npy files
:param tempwritedir Optional path of the directory to delete</p>
</dd></dl>

<dl class="method">
<dt id="parcels.particlefile.ParticleFile.dump_dict_to_npy">
<code class="descname">dump_dict_to_npy</code><span class="sig-paren">(</span><em>data_dict</em>, <em>data_dict_once</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile.html#ParticleFile.dump_dict_to_npy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particlefile.ParticleFile.dump_dict_to_npy" title="Permalink to this definition">¶</a></dt>
<dd><p>Buffer data to set of temporary numpy files, using np.save</p>
</dd></dl>

<dl class="method">
<dt id="parcels.particlefile.ParticleFile.dump_psetinfo_to_npy">
<code class="descname">dump_psetinfo_to_npy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile.html#ParticleFile.dump_psetinfo_to_npy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particlefile.ParticleFile.dump_psetinfo_to_npy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="parcels.particlefile.ParticleFile.export">
<code class="descname">export</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile.html#ParticleFile.export"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particlefile.ParticleFile.export" title="Permalink to this definition">¶</a></dt>
<dd><p>Exports outputs in temporary NPY-files to NetCDF file</p>
</dd></dl>

<dl class="method">
<dt id="parcels.particlefile.ParticleFile.open_netcdf_file">
<code class="descname">open_netcdf_file</code><span class="sig-paren">(</span><em>data_shape</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile.html#ParticleFile.open_netcdf_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particlefile.ParticleFile.open_netcdf_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise NetCDF4.Dataset for trajectory output.
The output follows the format outlined in the Discrete Sampling Geometries
section of the CF-conventions:
<a class="reference external" href="http://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#discrete-sampling-geometries">http://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#discrete-sampling-geometries</a>
The current implementation is based on the NCEI template:
<a class="reference external" href="http://www.nodc.noaa.gov/data/formats/netcdf/v2.0/trajectoryIncomplete.cdl">http://www.nodc.noaa.gov/data/formats/netcdf/v2.0/trajectoryIncomplete.cdl</a>
:param data_shape: shape of the variables in the NetCDF4 file</p>
</dd></dl>

<dl class="method">
<dt id="parcels.particlefile.ParticleFile.read_from_npy">
<code class="descname">read_from_npy</code><span class="sig-paren">(</span><em>file_list</em>, <em>time_steps</em>, <em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile.html#ParticleFile.read_from_npy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particlefile.ParticleFile.read_from_npy" title="Permalink to this definition">¶</a></dt>
<dd><p>Read NPY-files for one variable using a loop over all files.
:param file_list: List that  contains all file names in the output directory
:param time_steps: Number of time steps that were written in out directory
:param var: name of the variable to read</p>
</dd></dl>

<dl class="method">
<dt id="parcels.particlefile.ParticleFile.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>pset</em>, <em>time</em>, <em>deleted_only=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/particlefile.html#ParticleFile.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.particlefile.ParticleFile.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write all data from one time step to a temporary npy-file
using a python dictionary. The data is saved in the folder ‘out’.
:param pset: ParticleSet object to write
:param time: Time at which to write ParticleSet
:param deleted_only: Flag to write only the deleted Particles</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-parcels.rng">
<span id="parcels-rng-module"></span><h2>parcels.rng module<a class="headerlink" href="#module-parcels.rng" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="parcels.rng.seed">
<code class="descclassname">parcels.rng.</code><code class="descname">seed</code><span class="sig-paren">(</span><em>seed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/rng.html#seed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.rng.seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the seed for parcels internal RNG</p>
</dd></dl>

<dl class="function">
<dt id="parcels.rng.random">
<code class="descclassname">parcels.rng.</code><code class="descname">random</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/rng.html#random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.rng.random" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random float between 0. and 1.</p>
</dd></dl>

<dl class="function">
<dt id="parcels.rng.uniform">
<code class="descclassname">parcels.rng.</code><code class="descname">uniform</code><span class="sig-paren">(</span><em>low</em>, <em>high</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/rng.html#uniform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.rng.uniform" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random float between <cite>low</cite> and <cite>high</cite></p>
</dd></dl>

<dl class="function">
<dt id="parcels.rng.randint">
<code class="descclassname">parcels.rng.</code><code class="descname">randint</code><span class="sig-paren">(</span><em>low</em>, <em>high</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/rng.html#randint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.rng.randint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random int between <cite>low</cite> and <cite>high</cite></p>
</dd></dl>

<dl class="function">
<dt id="parcels.rng.normalvariate">
<code class="descclassname">parcels.rng.</code><code class="descname">normalvariate</code><span class="sig-paren">(</span><em>loc</em>, <em>scale</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/rng.html#normalvariate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.rng.normalvariate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random float on normal distribution with mean <cite>loc</cite> and width <cite>scale</cite></p>
</dd></dl>

<dl class="function">
<dt id="parcels.rng.expovariate">
<code class="descclassname">parcels.rng.</code><code class="descname">expovariate</code><span class="sig-paren">(</span><em>lamb</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/rng.html#expovariate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.rng.expovariate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a randome float of an exponential distribution with parameter lamb</p>
</dd></dl>

</div>
<div class="section" id="module-parcels.tools.error">
<span id="parcels-tools-error-module"></span><h2>parcels.tools.error module<a class="headerlink" href="#module-parcels.tools.error" title="Permalink to this headline">¶</a></h2>
<p>Collection of pre-built recovery kernels</p>
<dl class="exception">
<dt id="parcels.tools.error.FieldSamplingError">
<em class="property">exception </em><code class="descclassname">parcels.tools.error.</code><code class="descname">FieldSamplingError</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>z</em>, <em>field=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/error.html#FieldSamplingError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.tools.error.FieldSamplingError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.RuntimeError</span></code></p>
<p>Utility error class to propagate erroneous field sampling in Scipy mode</p>
</dd></dl>

<dl class="exception">
<dt id="parcels.tools.error.FieldOutOfBoundError">
<em class="property">exception </em><code class="descclassname">parcels.tools.error.</code><code class="descname">FieldOutOfBoundError</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>z</em>, <em>field=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/error.html#FieldOutOfBoundError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.tools.error.FieldOutOfBoundError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.RuntimeError</span></code></p>
<p>Utility error class to propagate out-of-bound field sampling in Scipy mode</p>
</dd></dl>

<dl class="exception">
<dt id="parcels.tools.error.TimeExtrapolationError">
<em class="property">exception </em><code class="descclassname">parcels.tools.error.</code><code class="descname">TimeExtrapolationError</code><span class="sig-paren">(</span><em>time</em>, <em>field=None</em>, <em>msg='allow_time_extrapoltion'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/error.html#TimeExtrapolationError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.tools.error.TimeExtrapolationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.RuntimeError</span></code></p>
<p>Utility error class to propagate erroneous time extrapolation sampling in Scipy mode</p>
</dd></dl>

<dl class="exception">
<dt id="parcels.tools.error.KernelError">
<em class="property">exception </em><code class="descclassname">parcels.tools.error.</code><code class="descname">KernelError</code><span class="sig-paren">(</span><em>particle</em>, <em>fieldset=None</em>, <em>msg=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/error.html#KernelError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.tools.error.KernelError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.RuntimeError</span></code></p>
<p>General particle kernel error with optional custom message</p>
</dd></dl>

<dl class="exception">
<dt id="parcels.tools.error.OutOfBoundsError">
<em class="property">exception </em><code class="descclassname">parcels.tools.error.</code><code class="descname">OutOfBoundsError</code><span class="sig-paren">(</span><em>particle</em>, <em>fieldset=None</em>, <em>lon=None</em>, <em>lat=None</em>, <em>depth=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/error.html#OutOfBoundsError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.tools.error.OutOfBoundsError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.tools.error.KernelError" title="parcels.tools.error.KernelError"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.tools.error.KernelError</span></code></a></p>
<p>Particle kernel error for out-of-bounds field sampling</p>
</dd></dl>

<dl class="exception">
<dt id="parcels.tools.error.ThroughSurfaceError">
<em class="property">exception </em><code class="descclassname">parcels.tools.error.</code><code class="descname">ThroughSurfaceError</code><span class="sig-paren">(</span><em>particle</em>, <em>fieldset=None</em>, <em>lon=None</em>, <em>lat=None</em>, <em>depth=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/error.html#ThroughSurfaceError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.tools.error.ThroughSurfaceError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.tools.error.KernelError" title="parcels.tools.error.KernelError"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.tools.error.KernelError</span></code></a></p>
<p>Particle kernel error for field sampling at surface</p>
</dd></dl>

</div>
<div class="section" id="module-parcels.tools.converters">
<span id="parcels-tools-converters-module"></span><h2>parcels.tools.converters module<a class="headerlink" href="#module-parcels.tools.converters" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="parcels.tools.converters.UnitConverter">
<em class="property">class </em><code class="descclassname">parcels.tools.converters.</code><code class="descname">UnitConverter</code><a class="reference internal" href="_modules/parcels/tools/converters.html#UnitConverter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.tools.converters.UnitConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Interface class for spatial unit conversion during field sampling
that performs no conversion.</p>
</dd></dl>

<dl class="class">
<dt id="parcels.tools.converters.Geographic">
<em class="property">class </em><code class="descclassname">parcels.tools.converters.</code><code class="descname">Geographic</code><a class="reference internal" href="_modules/parcels/tools/converters.html#Geographic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.tools.converters.Geographic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.tools.converters.UnitConverter" title="parcels.tools.converters.UnitConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.tools.converters.UnitConverter</span></code></a></p>
<p>Unit converter from geometric to geographic coordinates (m to degree)</p>
</dd></dl>

<dl class="class">
<dt id="parcels.tools.converters.GeographicPolar">
<em class="property">class </em><code class="descclassname">parcels.tools.converters.</code><code class="descname">GeographicPolar</code><a class="reference internal" href="_modules/parcels/tools/converters.html#GeographicPolar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.tools.converters.GeographicPolar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.tools.converters.UnitConverter" title="parcels.tools.converters.UnitConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.tools.converters.UnitConverter</span></code></a></p>
<p>Unit converter from geometric to geographic coordinates (m to degree)
with a correction to account for narrower grid cells closer to the poles.</p>
</dd></dl>

<dl class="class">
<dt id="parcels.tools.converters.GeographicSquare">
<em class="property">class </em><code class="descclassname">parcels.tools.converters.</code><code class="descname">GeographicSquare</code><a class="reference internal" href="_modules/parcels/tools/converters.html#GeographicSquare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.tools.converters.GeographicSquare" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.tools.converters.UnitConverter" title="parcels.tools.converters.UnitConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.tools.converters.UnitConverter</span></code></a></p>
<p>Square distance converter from geometric to geographic coordinates (m2 to degree2)</p>
</dd></dl>

<dl class="class">
<dt id="parcels.tools.converters.GeographicPolarSquare">
<em class="property">class </em><code class="descclassname">parcels.tools.converters.</code><code class="descname">GeographicPolarSquare</code><a class="reference internal" href="_modules/parcels/tools/converters.html#GeographicPolarSquare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.tools.converters.GeographicPolarSquare" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#parcels.tools.converters.UnitConverter" title="parcels.tools.converters.UnitConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">parcels.tools.converters.UnitConverter</span></code></a></p>
<p>Square distance converter from geometric to geographic coordinates (m2 to degree2)
with a correction to account for narrower grid cells closer to the poles.</p>
</dd></dl>

<dl class="class">
<dt id="parcels.tools.converters.TimeConverter">
<em class="property">class </em><code class="descclassname">parcels.tools.converters.</code><code class="descname">TimeConverter</code><span class="sig-paren">(</span><em>time_origin=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/converters.html#TimeConverter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.tools.converters.TimeConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Converter class for dates with different calendars in FieldSets</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">time_origin: time origin of the class. Currently supported formats are
float, integer, numpy.datetime64, and netcdftime.DatetimeNoLeap</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="parcels.tools.converters.TimeConverter.fulltime">
<code class="descname">fulltime</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/converters.html#TimeConverter.fulltime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.tools.converters.TimeConverter.fulltime" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to convert a time difference in seconds to a date, based on the time_origin</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">time: input time</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">self.time_origin + time</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="parcels.tools.converters.TimeConverter.reltime">
<code class="descname">reltime</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/tools/converters.html#TimeConverter.reltime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.tools.converters.TimeConverter.reltime" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to compute the difference, in seconds, between a time and the time_origin
of the TimeConverter</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">time: input time</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">time - self.time_origin</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-parcels.tools.loggers">
<span id="parcels-tools-loggers-module"></span><h2>parcels.tools.loggers module<a class="headerlink" href="#module-parcels.tools.loggers" title="Permalink to this headline">¶</a></h2>
<p>Script to create a <cite>logger</cite> for Parcels</p>
</div>
<div class="section" id="module-parcels.plotting">
<span id="parcels-plotting-module"></span><h2>parcels.plotting module<a class="headerlink" href="#module-parcels.plotting" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="parcels.plotting.cartopy_colorbar">
<code class="descclassname">parcels.plotting.</code><code class="descname">cartopy_colorbar</code><span class="sig-paren">(</span><em>cs</em>, <em>plt</em>, <em>fig</em>, <em>ax</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/plotting.html#cartopy_colorbar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.plotting.cartopy_colorbar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="parcels.plotting.create_parcelsfig_axis">
<code class="descclassname">parcels.plotting.</code><code class="descname">create_parcelsfig_axis</code><span class="sig-paren">(</span><em>spherical</em>, <em>land=True</em>, <em>projection=None</em>, <em>central_longitude=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/plotting.html#create_parcelsfig_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.plotting.create_parcelsfig_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="parcels.plotting.parsedomain">
<code class="descclassname">parcels.plotting.</code><code class="descname">parsedomain</code><span class="sig-paren">(</span><em>domain</em>, <em>field</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/plotting.html#parsedomain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.plotting.parsedomain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="parcels.plotting.parsetimestr">
<code class="descclassname">parcels.plotting.</code><code class="descname">parsetimestr</code><span class="sig-paren">(</span><em>time_origin</em>, <em>show_time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/plotting.html#parsetimestr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.plotting.parsetimestr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="parcels.plotting.plotfield">
<code class="descclassname">parcels.plotting.</code><code class="descname">plotfield</code><span class="sig-paren">(</span><em>field</em>, <em>show_time=None</em>, <em>domain=None</em>, <em>depth_level=0</em>, <em>projection=None</em>, <em>land=True</em>, <em>vmin=None</em>, <em>vmax=None</em>, <em>savefile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/plotting.html#plotfield"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.plotting.plotfield" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to plot a Parcels Field</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>show_time</strong> – Time at which to show the Field</li>
<li><strong>domain</strong> – dictionary (with keys ‘N’, ‘S’, ‘E’, ‘W’) defining domain to show</li>
<li><strong>depth_level</strong> – depth level to be plotted (default 0)</li>
<li><strong>projection</strong> – type of cartopy projection to use (default PlateCarree)</li>
<li><strong>land</strong> – Boolean whether to show land. This is ignored for flat meshes</li>
<li><strong>vmin</strong> – minimum colour scale (only in single-plot mode)</li>
<li><strong>vmax</strong> – maximum colour scale (only in single-plot mode)</li>
<li><strong>savefile</strong> – Name of a file to save the plot to</li>
<li><strong>animation</strong> – Boolean whether result is a single plot, or an animation</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="parcels.plotting.plotparticles">
<code class="descclassname">parcels.plotting.</code><code class="descname">plotparticles</code><span class="sig-paren">(</span><em>particles</em>, <em>with_particles=True</em>, <em>show_time=None</em>, <em>field=None</em>, <em>domain=None</em>, <em>projection=None</em>, <em>land=True</em>, <em>vmin=None</em>, <em>vmax=None</em>, <em>savefile=None</em>, <em>animation=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parcels/plotting.html#plotparticles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parcels.plotting.plotparticles" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to plot a Parcels ParticleSet</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>show_time</strong> – Time at which to show the ParticleSet</li>
<li><strong>with_particles</strong> – Boolean whether particles are also plotted on Field</li>
<li><strong>field</strong> – Field to plot under particles (either None, a Field object, or ‘vector’)</li>
<li><strong>domain</strong> – dictionary (with keys ‘N’, ‘S’, ‘E’, ‘W’) defining domain to show</li>
<li><strong>projection</strong> – type of cartopy projection to use (default PlateCarree)</li>
<li><strong>land</strong> – Boolean whether to show land. This is ignored for flat meshes</li>
<li><strong>vmin</strong> – minimum colour scale (only in single-plot mode)</li>
<li><strong>vmax</strong> – maximum colour scale (only in single-plot mode)</li>
<li><strong>savefile</strong> – Name of a file to save the plot to</li>
<li><strong>animation</strong> – Boolean whether result is a single plot, or an animation</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-scripts.plottrajectoriesfile">
<span id="scripts-plottrajectoriesfile-module"></span><h2>scripts.plottrajectoriesfile module<a class="headerlink" href="#module-scripts.plottrajectoriesfile" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="scripts.plottrajectoriesfile.plotTrajectoriesFile">
<code class="descclassname">scripts.plottrajectoriesfile.</code><code class="descname">plotTrajectoriesFile</code><span class="sig-paren">(</span><em>filename</em>, <em>mode='2d'</em>, <em>tracerfile=None</em>, <em>tracerfield='P'</em>, <em>tracerlon='x'</em>, <em>tracerlat='y'</em>, <em>recordedvar=None</em>, <em>movie_forward=True</em>, <em>bins=20</em>, <em>show_plt=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/plottrajectoriesfile.html#plotTrajectoriesFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.plottrajectoriesfile.plotTrajectoriesFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Quick and simple plotting of Parcels trajectories</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> – Name of Parcels-generated NetCDF file with particle positions</li>
<li><strong>mode</strong> – Type of plot to show. Supported are ‘2d’, ‘3d’, ‘hist2d’,
‘movie2d’ and ‘movie2d_notebook’. The latter two give animations,
with ‘movie2d_notebook’ specifically designed for jupyter notebooks</li>
<li><strong>tracerfile</strong> – Name of NetCDF file to show as background</li>
<li><strong>tracerfield</strong> – Name of variable to show as background</li>
<li><strong>tracerlon</strong> – Name of longitude dimension of variable to show as background</li>
<li><strong>tracerlat</strong> – Name of latitude dimension of variable to show as background</li>
<li><strong>recordedvar</strong> – Name of variable used to color particles in scatter-plot.
Only works in ‘movie2d’ or ‘movie2d_notebook’ mode.</li>
<li><strong>movie_forward</strong> – Boolean whether to show movie in forward or backward mode (default True)</li>
<li><strong>bins</strong> – Number of bins to use in <cite>hist2d</cite> mode. See also <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.hist2d.html">https://matplotlib.org/api/_as_gen/matplotlib.pyplot.hist2d.html</a></li>
<li><strong>show_plt</strong> – Boolean whether plot should directly be show (for py.test)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-scripts.get_examples">
<span id="scripts-get-examples-module"></span><h2>scripts.get_examples module<a class="headerlink" href="#module-scripts.get_examples" title="Permalink to this headline">¶</a></h2>
<p>Get example scripts, notebooks, and data files.</p>
<dl class="function">
<dt id="scripts.get_examples.copy_data_and_examples_from_package_to">
<code class="descclassname">scripts.get_examples.</code><code class="descname">copy_data_and_examples_from_package_to</code><span class="sig-paren">(</span><em>target_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/get_examples.html#copy_data_and_examples_from_package_to"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.get_examples.copy_data_and_examples_from_package_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy example data from Parcels directory.</p>
<p>Return thos parths of the list <cite>file_names</cite> that were not found in the
package.</p>
</dd></dl>

<dl class="function">
<dt id="scripts.get_examples.download_files">
<code class="descclassname">scripts.get_examples.</code><code class="descname">download_files</code><span class="sig-paren">(</span><em>source_url</em>, <em>file_names</em>, <em>target_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/get_examples.html#download_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.get_examples.download_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Mirror file_names from source_url to target_path.</p>
</dd></dl>

<dl class="function">
<dt id="scripts.get_examples.main">
<code class="descclassname">scripts.get_examples.</code><code class="descname">main</code><span class="sig-paren">(</span><em>target_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/get_examples.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.get_examples.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Get example scripts, example notebooks, and example data.</p>
<p>Copy the examples from the package directory and get the example data either
from the package directory or from the Parcels website.</p>
</dd></dl>

<dl class="function">
<dt id="scripts.get_examples.set_jupyter_kernel_to_python_version">
<code class="descclassname">scripts.get_examples.</code><code class="descname">set_jupyter_kernel_to_python_version</code><span class="sig-paren">(</span><em>path</em>, <em>python_version=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/get_examples.html#set_jupyter_kernel_to_python_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.get_examples.set_jupyter_kernel_to_python_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Set notebook kernelspec to desired python version.</p>
<p>This also drops all other meta data from the notebook.</p>
</dd></dl>

</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Parcels  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Michael Lange and Erik van Sebille.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.
    </div>
  </body>
</html>